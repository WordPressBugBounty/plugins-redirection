/*! Redirection v5.7.2 - please refer to license.txt for license information */
(()=>{var e,t,n,r={349(e,t,n){"use strict";var r={};n.r(r),n.d(r,{base64:()=>Er,base64url:()=>Pr,bigint:()=>Mr,boolean:()=>Br,browserEmail:()=>xr,cidrv4:()=>Cr,cidrv6:()=>Tr,cuid:()=>rr,cuid2:()=>ir,date:()=>Ir,datetime:()=>Dr,domain:()=>Rr,duration:()=>lr,e164:()=>Nr,email:()=>gr,emoji:()=>wr,extendedDuration:()=>ur,guid:()=>dr,hex:()=>Gr,hostname:()=>Or,html5Email:()=>yr,idnEmail:()=>br,integer:()=>$r,ipv4:()=>jr,ipv6:()=>Sr,ksuid:()=>ar,lowercase:()=>Hr,mac:()=>kr,md5_base64:()=>Jr,md5_base64url:()=>Yr,md5_hex:()=>Kr,nanoid:()=>cr,null:()=>Zr,number:()=>Ur,rfc5322Email:()=>vr,sha1_base64:()=>ei,sha1_base64url:()=>ti,sha1_hex:()=>Xr,sha256_base64:()=>ri,sha256_base64url:()=>ii,sha256_hex:()=>ni,sha384_base64:()=>si,sha384_base64url:()=>ai,sha384_hex:()=>oi,sha512_base64:()=>li,sha512_base64url:()=>ui,sha512_hex:()=>ci,string:()=>Lr,time:()=>Fr,ulid:()=>or,undefined:()=>qr,unicodeEmail:()=>_r,uppercase:()=>Wr,uuid:()=>pr,uuid4:()=>hr,uuid6:()=>fr,uuid7:()=>mr,xid:()=>sr});var i={};n.r(i),n.d(i,{endsWith:()=>ha,gt:()=>Qs,gte:()=>Ks,includes:()=>da,length:()=>aa,lowercase:()=>la,lt:()=>Gs,lte:()=>Vs,maxLength:()=>oa,maxSize:()=>na,mime:()=>ma,minLength:()=>sa,minSize:()=>ra,multipleOf:()=>ta,negative:()=>Ys,nonnegative:()=>ea,nonpositive:()=>Xs,normalize:()=>ya,overwrite:()=>ga,positive:()=>Js,property:()=>fa,regex:()=>ca,size:()=>ia,slugify:()=>xa,startsWith:()=>pa,toLowerCase:()=>_a,toUpperCase:()=>ba,trim:()=>va,uppercase:()=>ua});var o={};n.r(o),n.d(o,{ZodISODate:()=>Ia,ZodISODateTime:()=>Na,ZodISODuration:()=>La,ZodISOTime:()=>Fa,date:()=>za,datetime:()=>Aa,duration:()=>Ma,time:()=>Da});var s={};n.r(s),n.d(s,{ZodAny:()=>wl,ZodArray:()=>Nl,ZodBase64:()=>Bc,ZodBase64URL:()=>qc,ZodBigInt:()=>dl,ZodBigIntFormat:()=>hl,ZodBoolean:()=>ll,ZodCIDRv4:()=>Lc,ZodCIDRv6:()=>$c,ZodCUID:()=>wc,ZodCUID2:()=>Sc,ZodCatch:()=>Tu,ZodCodec:()=>Au,ZodCustom:()=>Hu,ZodCustomStringFormat:()=>Kc,ZodDate:()=>Ol,ZodDefault:()=>_u,ZodDiscriminatedUnion:()=>Zl,ZodE164:()=>Wc,ZodEmail:()=>sc,ZodEmoji:()=>vc,ZodEnum:()=>ru,ZodExactOptional:()=>fu,ZodFile:()=>cu,ZodFunction:()=>Zu,ZodGUID:()=>cc,ZodIPv4:()=>Nc,ZodIPv6:()=>Fc,ZodIntersection:()=>Hl,ZodJWT:()=>Vc,ZodKSUID:()=>Oc,ZodLazy:()=>Mu,ZodLiteral:()=>su,ZodMAC:()=>Ic,ZodMap:()=>Xl,ZodNaN:()=>Pu,ZodNanoID:()=>bc,ZodNever:()=>Cl,ZodNonOptional:()=>ju,ZodNull:()=>bl,ZodNullable:()=>gu,ZodNumber:()=>tl,ZodNumberFormat:()=>rl,ZodObject:()=>zl,ZodOptional:()=>pu,ZodPipe:()=>Ru,ZodPrefault:()=>xu,ZodPromise:()=>Uu,ZodReadonly:()=>zu,ZodRecord:()=>Ql,ZodSet:()=>tu,ZodString:()=>rc,ZodStringFormat:()=>oc,ZodSuccess:()=>ku,ZodSymbol:()=>gl,ZodTemplateLiteral:()=>Du,ZodTransform:()=>uu,ZodTuple:()=>Gl,ZodType:()=>tc,ZodULID:()=>Cc,ZodURL:()=>mc,ZodUUID:()=>uc,ZodUndefined:()=>vl,ZodUnion:()=>Ml,ZodUnknown:()=>Sl,ZodVoid:()=>El,ZodXID:()=>Ec,ZodXor:()=>Ul,_ZodString:()=>nc,_default:()=>bu,_function:()=>qu,any:()=>jl,array:()=>Al,base64:()=>Zc,base64url:()=>Hc,bigint:()=>pl,boolean:()=>ul,catch:()=>Eu,check:()=>Wu,cidrv4:()=>Mc,cidrv6:()=>Uc,codec:()=>Iu,cuid:()=>jc,cuid2:()=>kc,custom:()=>Gu,date:()=>Rl,describe:()=>Ku,discriminatedUnion:()=>ql,e164:()=>Gc,email:()=>ac,emoji:()=>_c,enum:()=>iu,exactOptional:()=>mu,file:()=>lu,float32:()=>ol,float64:()=>sl,function:()=>qu,guid:()=>lc,hash:()=>el,hex:()=>Xc,hostname:()=>Yc,httpUrl:()=>yc,instanceof:()=>Yu,int:()=>il,int32:()=>al,int64:()=>fl,intersection:()=>Wl,ipv4:()=>Ac,ipv6:()=>Dc,json:()=>ed,jwt:()=>Qc,keyof:()=>Il,ksuid:()=>Rc,lazy:()=>$u,literal:()=>au,looseObject:()=>Ll,looseRecord:()=>Yl,mac:()=>zc,map:()=>eu,meta:()=>Ju,nan:()=>Ou,nanoid:()=>xc,nativeEnum:()=>ou,never:()=>Tl,nonoptional:()=>Su,null:()=>xl,nullable:()=>yu,nullish:()=>vu,number:()=>nl,object:()=>Fl,optional:()=>hu,partialRecord:()=>Jl,pipe:()=>Nu,prefault:()=>wu,preprocess:()=>td,promise:()=>Bu,readonly:()=>Fu,record:()=>Kl,refine:()=>Vu,set:()=>nu,strictObject:()=>Dl,string:()=>ic,stringFormat:()=>Jc,stringbool:()=>Xu,success:()=>Cu,superRefine:()=>Qu,symbol:()=>yl,templateLiteral:()=>Lu,transform:()=>du,tuple:()=>Vl,uint32:()=>cl,uint64:()=>ml,ulid:()=>Tc,undefined:()=>_l,union:()=>$l,unknown:()=>kl,url:()=>gc,uuid:()=>dc,uuidv4:()=>pc,uuidv6:()=>hc,uuidv7:()=>fc,void:()=>Pl,xid:()=>Pc,xor:()=>Bl});var a=n(576),c=n(609),l=n.t(c,2),u=n.n(c);const d=window.ReactJSXRuntime;var p=c.createContext(void 0),h=e=>{const t=c.useContext(p);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},f=({client:e,children:t})=>(c.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),(0,d.jsx)(p.Provider,{value:e,children:t}));const m=window.wp.i18n;function g(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=g(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const y=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=g(e))&&(r&&(r+=" "),r+=t);return r};function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(null,arguments)}function _(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}var b=c.useLayoutEffect,x=function(e,t){"function"!=typeof e?e.current=t:e(t)},w={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},j=function(e){Object.keys(w).forEach(function(t){e.style.setProperty(t,w[t],"important")})},S=null,k=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize},C=function(){},T=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],E=!!document.documentElement.currentStyle;function P(e,t,n){var r,i,o=(r=n,i=u().useRef(r),b(function(){i.current=r}),i);c.useLayoutEffect(function(){var n=function(e){return o.current(e)};if(e)return e.addEventListener(t,n),function(){return e.removeEventListener(t,n)}},[])}var O=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],R=function(e,t){var n,r=e.cacheMeasurements,i=e.maxRows,o=e.minRows,s=e.onChange,a=void 0===s?C:s,l=e.onHeightChange,d=void 0===l?C:l,p=_(e,O),h=void 0!==p.value,f=c.useRef(null),m=function(e,t){var n=u().useRef();return u().useCallback(function(r){e.current=r,n.current&&x(n.current,null),n.current=t,t&&x(t,r)},[t])}(f,t),g=c.useRef(0),y=c.useRef(),b=function(){var e=f.current,t=r&&y.current?y.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,r=(n=t,T.reduce(function(e,t){return e[t]=n[t],e},{})),i=r.boxSizing;return""===i?null:(E&&"border-box"===i&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px"),{sizingStyle:r,paddingSize:parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),borderSize:parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth)})}(e);if(t){y.current=t;var n=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),S||((S=document.createElement("textarea")).setAttribute("tabindex","-1"),S.setAttribute("aria-hidden","true"),j(S)),null===S.parentNode&&document.body.appendChild(S);var i=e.paddingSize,o=e.borderSize,s=e.sizingStyle,a=s.boxSizing;Object.keys(s).forEach(function(e){var t=e;S.style[t]=s[t]}),j(S),S.value=t;var c=k(S,e);S.value=t,c=k(S,e),S.value="x";var l=S.scrollHeight-i,u=l*n;"border-box"===a&&(u=u+i+o),c=Math.max(u,c);var d=l*r;return"border-box"===a&&(d=d+i+o),[c=Math.min(d,c),l]}(t,e.value||e.placeholder||"x",o,i),s=n[0],a=n[1];g.current!==s&&(g.current=s,e.style.setProperty("height",s+"px","important"),d(s,{rowHeight:a}))}};return c.useLayoutEffect(b),function(e,t){P(document.body,"reset",function(n){e.current.form===n.target&&t()})}(f,function(){if(!h){var e=f.current.value;requestAnimationFrame(function(){var t=f.current;t&&e!==t.value&&b()})}}),P(window,"resize",b),n=b,P(document.fonts,"loadingdone",n),c.createElement("textarea",v({},p,{onChange:function(e){h||b(),a(e)},ref:m}))},N=c.forwardRef(R);const A=function(e){const{error:t,mini:n,context:r,renderDebug:i,versions:o,noParse:s=!1,details:a=[],locale:l}=e,[u,p]=(0,c.useState)(!n);if(!u)return(0,d.jsx)("p",{children:(0,d.jsx)("button",{className:"button button-secondary",type:"button",onClick:()=>p(!0),children:(0,m.__)("Show debug",l)})});const h=s?[t]:function(e,t,n){const r=t?[t]:[],{request:i=!1,data:o}=e;r.push("");const{apiFetch:s}=i||{};s&&s.status&&s.statusText&&(r.push("Action: "+s.action),s.body&&"{}"!==s.body&&r.push("Params: "+s.body),r.push("Code: "+s.status+" "+s.statusText),r.push(""));const a=function(e){if("string"==typeof e)return e;const t=e;return 0===t.code?t.message:t.data&&t.data.wpdb?`${t.message} (${t.code}): ${t.data.wpdb}`:t.code?`${t.message} (${t.code})`:t.message}(e);return"string"==typeof a&&a.length>0&&r.push("Error: "+a),o&&r.push("Raw: "+o),n&&(r.push(""),r.push("Context:"),r.push(n)),r}(t,o,r);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h3",{children:(0,m.__)("Debug Information",l)}),i&&i(a.concat(h).join("\n")),(0,d.jsx)("p",{children:(0,d.jsx)(N,{readOnly:!0,cols:120,value:a.concat(h).join("\n"),maxRows:40,spellCheck:!1})})]})},I=function(e){const{locale:t}=e;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{children:(0,m.__)("You are using an old or cached session",t)}),(0,d.jsx)("p",{children:(0,m.__)("This is usually fixed by doing one of the following:",t)}),(0,d.jsxs)("ul",{children:[(0,d.jsx)("li",{children:(0,m.__)("Reload the page - your current session is old.",t)}),(0,d.jsx)("li",{children:(0,m.__)("Log out, clear your browser cache, and log in again - your browser has cached an old session.",t)}),(0,d.jsx)("li",{children:(0,m.__)("Your admin pages are being cached. Clear this cache and try again. There may be multiple caches involved.",t)})]}),(0,d.jsx)(A,{...e,error:e.error||{},mini:!0})]})},z=({url:e,children:t,title:n,className:r})=>(0,d.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",title:n,className:r,children:t});function F(e){return 404===e?.request?.apiFetch?.status}function D(e){const t=e.code;return"disabled"===t||"rest_disabled"===t}function L(e){return"rest_api_redirected"===e?.code}function M(e){const t=e;return 0===t.code?t.message:t.data&&t.data.wpdb?(0,d.jsxs)("span",{children:[`${t.message} (${t.code})`,": ",(0,d.jsx)("code",{children:t.data.wpdb})]}):t.code?(0,d.jsxs)(d.Fragment,{children:[t.message," (",(0,d.jsx)("code",{children:t.code}),")"]}):t.message}const $=window.wp.element;function U(e,t){try{return(0,$.createInterpolateElement)(e.replace(/\{\{/g,"<").replace(/\}\}/g,">"),t)}catch(t){return e}}const B=({error:e,links:t,locale:n})=>{if("string"==typeof e)return(0,d.jsx)("p",{children:e});if(function(e){return void 0!==e.code&&0===e.code}(e))return(0,d.jsx)("p",{children:(0,m.__)("WordPress did not return a response. This could mean an error occurred or that the request was blocked. Please check your server error_log.",n)});if(function(e){const t=e,{request:n,code:r}=t;return!!(n&&n.status&&r)&&(-1!==[400,401,403,405].indexOf(n.status)||"rest_no_route"===r)&&0===parseInt(String(r),10)}(e))return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{children:M(e)}),(0,d.jsx)("p",{children:(0,m.__)("Your REST API is probably being blocked by a security plugin. Please disable this, or configure it to allow REST API requests.",n)}),(0,d.jsx)("p",{children:(0,d.jsx)(z,{url:t.api,children:(0,m.__)("Read this REST API guide for more information.",n)})})]});if(F(e))return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{children:(0,m.__)("Your WordPress REST API is returning a 404 page. This is almost certainly an external plugin or server configuration issue.",n)}),(0,d.jsx)("p",{className:"wpl-error__highlight",children:(0,d.jsx)("strong",{children:(0,m.__)("You will will need to fix this on your site. Redirection is not causing the error.",n)})}),(0,d.jsxs)("ul",{children:[(0,d.jsx)("li",{children:U((0,m.__)("Can you access your {{api}}REST API{{/api}} without it redirecting?",n),{api:(0,d.jsx)(z,{url:t.rootUrl,children:t.rootUrl})})}),(0,d.jsx)("li",{children:U((0,m.__)("Check your {{link}}Site Health{{/link}} and fix any issues.",n),{link:(0,d.jsx)(z,{url:t.siteHealth,children:t.siteHealth})})}),(0,d.jsx)("li",{children:(0,m.__)("Your server configuration is blocking access to the REST API.",n)}),(0,d.jsx)("li",{children:(0,m.__)("A security plugin or firewall is blocking access. You will need to whitelist the REST API.",n)})]}),(0,d.jsx)("p",{children:(0,d.jsx)(z,{url:t.api,children:(0,m.__)("Read this REST API guide for more information.",n)})})]});if(L(e))return(0,d.jsx)("p",{children:(0,m.__)("Your REST API is being redirected. Please remove the redirection for the API.",n)});if(function(e){return 413===e?.request?.apiFetch?.status}(e))return(0,d.jsx)("p",{children:(0,m.__)("Your server has rejected the request for being too big. You will need to reconfigure it to continue.",n)});if(function(e){return void 0===e.message}(e))return(0,d.jsx)("p",{children:(0,m.__)("An unknown error occurred.",n)});if(function(e){const t=e.data;return"string"==typeof t&&-1!==t.indexOf("<b>Deprecated</b>:  Directive")}(e))return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{children:M(e)}),(0,d.jsx)("p",{children:(0,m.__)("Your REST API is showing a deprecated PHP error. Please fix this error.",n)})]});if(function(e){return-1!==[500,502,503].indexOf(e?.request?.apiFetch?.status??0)}(e))return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{children:M(e)}),(0,d.jsx)("p",{children:(0,m.__)("This could be a security plugin, or your server is out of memory or has an external error. Please check your server error log",n)}),(0,d.jsx)("p",{children:(0,d.jsx)(z,{url:t.http,children:(0,m.__)("Read this REST API guide for more information.",n)})})]});if(D(e))return(0,d.jsx)("p",{children:(0,m.__)("Your WordPress REST API has been disabled. You will need to enable it to continue.",n)});if(function(e){return"SyntaxError"===e.code}(e)){const t=function(e){const t=e.lastIndexOf("}");if(t!==e.length)return e.substring(t+1).trim();const n=e.split("<br />").filter(e=>e);return n.slice(0,n.length-1).join(" ").trim()}(e?.request?.apiFetch?.body||"");return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{children:M(e)}),(0,d.jsx)("p",{children:(0,m.__)("WordPress returned an unexpected message. This could be a PHP error from another plugin, or data inserted by your theme.",n)}),t.length>1&&(0,d.jsxs)("p",{children:[(0,d.jsxs)("strong",{children:[(0,m.__)("Possible cause",n),":"]})," ",(0,d.jsx)("code",{children:t.slice(0,1e3)})]})]})}return function(e){const t=e?.message?.toString().toLowerCase();return!!t&&("failed to fetch"===t||"not allowed to request resource"===t||-1!==t.indexOf("networkerror"))}(e)?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{children:M(e)}),(0,d.jsx)("p",{children:(0,m.__)("Unable to make request due to browser security. This is typically because your WordPress and Site URL settings are inconsistent, or the request was blocked by your site CORS policy.",n)}),(0,d.jsx)("p",{children:(0,d.jsx)(z,{url:t.url,children:(0,m.__)("Read this REST API guide for more information.",n)})})]}):function(e){const{headers:t}=e.request??{};if(t&&Symbol.iterator in Object(t))for(const[e]of t)if(-1!==e.toLowerCase().indexOf("cf-"))return!0;return!1}(e)?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{children:M(e)}),(0,d.jsx)("p",{children:(0,m.__)("Your REST API appears to be cached and this will cause problems. Please exclude your REST API from your caching system.",n)})]}):(0,d.jsx)("p",{children:M(e)})};function Z(e,t,n){return F(e)?(0,m.__)("REST API 404"):t||(0,m.__)("Something went wrong üôÅ",n)}const q=function(e){const{title:t,children:n,error:r,links:i,locale:o}=e,s=function(e){return!F(e)&&!L(e)&&!D(e)}(r),a=function(e){return!!F(e)||!!L(e)||!!D(e)}(r),c=!F(r);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{children:Z(r,t,o)}),(0,d.jsx)("div",{className:"wpl-error__title",children:(0,d.jsx)(B,{error:r,links:i,locale:o})}),s&&n,(0,d.jsx)(A,{error:r,locale:o,...a?{mini:!0}:{},...!c&&e.renderDebug?{renderDebug:e.renderDebug}:{},...e.details?{details:e.details}:{},...e.versions?{versions:e.versions}:{},...e.context?{context:e.context}:{}})]})},H=function(e){const{title:t,children:n,error:r,links:i,locale:o}=e;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{children:t||(0,m.__)("Something went wrong üôÅ",o)}),(0,d.jsx)("div",{className:"wpl-error__detail",children:(0,d.jsx)(B,{error:r,links:i,locale:o})}),n,(0,d.jsx)(A,{...e})]})},W=function(e){const{title:t,children:n,error:r,links:i,locale:o}=e;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{children:t||(0,m.__)("Something went wrong üôÅ",o)}),(0,d.jsx)("div",{className:"wpl-error__detail",children:(0,d.jsx)(B,{error:r,links:i,locale:o})}),n,(0,d.jsx)(A,{...e})]})},G=function(e){const{locale:t}=e;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{children:(0,m.__)("Bad data",t)}),(0,d.jsx)("p",{children:(0,m.__)("There was a problem making a request to your site. This could indicate you provided data that did not match requirements, or that the plugin sent a bad request.",t)}),(0,d.jsx)("p",{children:(0,m.__)("Please review your data and try again.",t)}),(0,d.jsx)(A,{...e,error:e.error||{},mini:!0})]})};function V({current:e,change:t,total:n}){return(0,d.jsxs)("div",{className:"wpl-error__page",children:[e>0&&(0,d.jsx)("span",{onClick:()=>t(e-1),onKeyDown:n=>{"Enter"!==n.key&&" "!==n.key||(n.preventDefault(),t(e-1))},role:"button",tabIndex:0,children:"‚Üê"}),`${e+1}/${n}`,e+1<n&&(0,d.jsx)("span",{onClick:()=>t(e+1),onKeyDown:n=>{"Enter"!==n.key&&" "!==n.key||(n.preventDefault(),t(e+1))},role:"button",tabIndex:0,children:"‚Üí"})]})}const Q=function(e){const{onClear:t,mini:n=!1,type:r=""}=e,i=(0,c.useMemo)(()=>Array.isArray(e.errors)?e.errors:[e.errors],[e.errors]),[o,s]=(0,c.useState)(0);(0,c.useEffect)(()=>{!n&&i.length>0&&window.scrollTo(0,0)},[i,n]);const a=e=>{"click"!==e.type&&("keydown"!==e.type||"Enter"!==e.key&&" "!==e.key)||("keydown"===e.type&&e.preventDefault(),t&&t())};if(0===i.length)return null;const l=function(e,t){const n=e[0];return"rest_cookie_invalid_nonce"===n?.code?I:400===n?.jsonData?.status?G:"error"===t?H:"fixed"===t?W:q}(i,r);return(0,d.jsxs)("div",{className:y("wpl-error",{"wpl-error__mini":n}),children:[t&&(0,d.jsx)("div",{className:"closer",onClick:a,onKeyDown:a,role:"button",tabIndex:0,children:(0,d.jsx)("span",{className:"dashicons dashicons-no-alt"})}),i.length>1&&(0,d.jsx)(V,{current:o,change:s,total:i.length}),(0,d.jsx)(l,{error:i[o],...e})]})};function K(){return{url:"https://redirection.me/support/problems/rest-api/#url",http:"https://redirection.me/support/problems/rest-api/#http",api:"https://redirection.me/support/problems/rest-api/",rootUrl:Redirectioni10n.api.WP_API_root,siteHealth:Redirectioni10n.api.site_health}}function J(){return Redirectioni10n.versions.split("\n").concat(["Query: "+document.location.search])}const Y=e=>{let t;const n=new Set,r=(e,r)=>{const i="function"==typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=r?r:"object"!=typeof i||null===i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,o={setState:r,getState:i,getInitialState:()=>s,subscribe:e=>(n.add(e),()=>n.delete(e))},s=t=e(r,i,o);return o},X=e=>e,ee=e=>{const t=(e=>e?Y(e):Y)(e),n=e=>function(e,t=X){const n=c.useSyncExternalStore(e.subscribe,c.useCallback(()=>t(e.getState()),[e,t]),c.useCallback(()=>t(e.getInitialState()),[e,t]));return c.useDebugValue(n),n}(t,e);return Object.assign(n,t),n},te=e=>e?ee(e):ee,ne=e=>!!e.dispatchFromDevtools&&"function"==typeof e.dispatch,re=new Map,ie=e=>{const t=re.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([e,t])=>[e,t.getState()])):{}},oe=e=>{var t,n;if(!e)return;const r=e.split("\n"),i=r.findIndex(e=>e.includes("api.setState"));if(i<0)return;const o=(null==(t=r[i+1])?void 0:t.trim())||"";return null==(n=/.+ (.+) .+/.exec(o))?void 0:n[1]},se=(e,t={})=>(n,r,i)=>{const{enabled:o,anonymousActionType:s,store:a,...c}=t;let l;try{l=(null==o||o)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(e){}if(!l)return e(n,r,i);const{connection:u,...d}=((e,t,n)=>{if(void 0===e)return{type:"untracked",connection:t.connect(n)};const r=re.get(n.name);if(r)return{type:"tracked",store:e,...r};const i={connection:t.connect(n),stores:{}};return re.set(n.name,i),{type:"tracked",store:e,...i}})(a,l,c);let p=!0;i.setState=(e,t,o)=>{const l=n(e,t);if(!p)return l;const d=void 0===o?{type:s||oe((new Error).stack)||"anonymous"}:"string"==typeof o?{type:o}:o;return void 0===a?(null==u||u.send(d,r()),l):(null==u||u.send({...d,type:`${a}/${d.type}`},{...ie(c.name),[a]:i.getState()}),l)},i.devtools={cleanup:()=>{u&&"function"==typeof u.unsubscribe&&u.unsubscribe(),((e,t)=>{if(void 0===t)return;const n=re.get(e);n&&(delete n.stores[t],0===Object.keys(n.stores).length&&re.delete(e))})(c.name,a)}};const h=(...e)=>{const t=p;p=!1,n(...e),p=t},f=e(i.setState,r,i);if("untracked"===d.type?null==u||u.init(f):(d.stores[d.store]=i,null==u||u.init(Object.fromEntries(Object.entries(d.stores).map(([e,t])=>[e,e===d.store?f:t.getState()])))),ne(i)){let e=!1;const t=i.dispatch;i.dispatch=(...n)=>{"__setState"!==n[0].type||e||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),e=!0),t(...n)}}return u.subscribe(e=>{var t;switch(e.type){case"ACTION":return"string"!=typeof e.payload?void console.error("[zustand devtools middleware] Unsupported action format"):ae(e.payload,e=>{if("__setState"===e.type){if(void 0===a)return void h(e.state);1!==Object.keys(e.state).length&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format.\n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const t=e.state[a];if(null==t)return;return void(JSON.stringify(i.getState())!==JSON.stringify(t)&&h(t))}ne(i)&&i.dispatch(e)});case"DISPATCH":switch(e.payload.type){case"RESET":return h(f),void 0===a?null==u?void 0:u.init(i.getState()):null==u?void 0:u.init(ie(c.name));case"COMMIT":return void 0===a?void(null==u||u.init(i.getState())):null==u?void 0:u.init(ie(c.name));case"ROLLBACK":return ae(e.state,e=>{if(void 0===a)return h(e),void(null==u||u.init(i.getState()));h(e[a]),null==u||u.init(ie(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return ae(e.state,e=>{void 0!==a?JSON.stringify(i.getState())!==JSON.stringify(e[a])&&h(e[a]):h(e)});case"IMPORT_STATE":{const{nextLiftedState:n}=e.payload,r=null==(t=n.computedStates.slice(-1)[0])?void 0:t.state;if(!r)return;return h(void 0===a?r:r[a]),void(null==u||u.send(null,n))}case"PAUSE_RECORDING":return p=!p}return}}),f},ae=(e,t)=>{let n;try{n=JSON.parse(e)}catch(e){console.error("[zustand devtools middleware] Could not parse the received json",e)}void 0!==n&&t(n)};function ce(e,t){let n;try{n=e()}catch(e){return}const r={getItem:e=>{var r;const i=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),o=null!=(r=n.getItem(e))?r:null;return o instanceof Promise?o.then(i):i(o)},setItem:(e,r)=>n.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer)),removeItem:e=>n.removeItem(e)};return r}const le=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>le(e)(n),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>le(t)(e)}}},ue={values:null,loadStatus:"idle",saveStatus:!1,error:!1,database:{current:"",next:"",debug:[],reason:"",inProgress:!1,result:"ok",status:"ok",complete:0},showDatabase:!1,api:{routes:{},current:""},apiTest:{},pluginStatus:{status:[],debug:!1}},de=te()(se(((e,t)=>(n,r,i)=>{let o={storage:ce(()=>window.localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},s=!1,a=0;const c=new Set,l=new Set;let u=o.storage;if(!u)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...e)},r,i);const d=()=>{const e=o.partialize({...r()});return u.setItem(o.name,{state:e,version:o.version})},p=i.setState;i.setState=(e,t)=>(p(e,t),d());const h=e((...e)=>(n(...e),d()),r,i);let f;i.getInitialState=()=>h;const m=()=>{var e,t;if(!u)return;const i=++a;s=!1,c.forEach(e=>{var t;return e(null!=(t=r())?t:h)});const p=(null==(t=o.onRehydrateStorage)?void 0:t.call(o,null!=(e=r())?e:h))||void 0;return le(u.getItem.bind(u))(o.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===o.version)return[!1,e.state];if(o.migrate){const t=o.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;if(i!==a)return;const[s,c]=e;return f=o.merge(c,null!=(t=r())?t:h),n(f,!0),s?d():void 0}).then(()=>{i===a&&(null==p||p(f,void 0),f=r(),s=!0,l.forEach(e=>e(f)))}).catch(e=>{i===a&&(null==p||p(void 0,e))})};return i.persist={setOptions:e=>{o={...o,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>m(),hasHydrated:()=>s,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},o.skipHydration||m(),f||h})(e=>({...ue,setValues:t=>e({values:t}),updateValues:t=>e(e=>({values:e.values?{...e.values,...t}:null})),setLoadStatus:t=>e({loadStatus:t}),setSaveStatus:t=>e({saveStatus:t}),setError:t=>e({error:t}),setDatabase:t=>e(e=>({database:{...e.database,...t}})),setShowDatabase:t=>e({showDatabase:t}),setApi:t=>e(e=>({api:{...e.api,...t}})),setApiTest:t=>e(e=>{const n={...e.apiTest};return Object.keys(t).forEach(e=>{t[e]&&(n[e]=t[e])}),{apiTest:n}}),setPluginStatus:t=>e(e=>({pluginStatus:{...e.pluginStatus,...t}})),reset:()=>e(ue)}),{name:"redirection-settings",partialize:e=>({values:e.values})}),{name:"SettingsStore"})),pe=function(e){const t="mailto:john@redirection.me?subject=Redirection%20Error&body="+encodeURIComponent(e),n="https://github.com/johngodley/redirection/issues/new?title=Redirection%20Error&body="+encodeURIComponent("```\n"+e.trim()+"\n```\n\n");return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{className:"wpl-error__highlight",children:U((0,m.__)("Please check the {{link}}support site{{/link}} before proceeding further.","redirection"),{link:(0,d.jsx)(z,{url:"https://redirection.me/support/"})})}),(0,d.jsx)("p",{children:U((0,m.__)("If that did not help then {{strong}}create an issue{{/strong}} or send it in an {{strong}}email{{/strong}}.","redirection"),{strong:(0,d.jsx)("strong",{})})}),(0,d.jsxs)("p",{children:[(0,d.jsx)("a",{href:n,className:"button-primary",children:(0,m.__)("Create An Issue","redirection")})," ",(0,d.jsx)("a",{href:t,className:"button-secondary",children:(0,m.__)("Email","redirection")})]}),(0,d.jsx)("p",{children:(0,m.__)("Include these details in your report along with a description of what you were doing and a screenshot.","redirection")})]})};function he({setStep:e,setOptions:t}){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{children:(0,m.__)("Welcome to Redirection üöÄüéâ","redirection")}),(0,d.jsx)("p",{children:(0,m.sprintf)(
// translators: %(version)s is the plugin version number
// translators: %(version)s is the plugin version number
(0,m.__)("Thank you for installing and using Redirection v%(version)s. This plugin will allow you to manage 301 redirections, keep track of 404 errors, and improve your site, with no knowledge of Apache or Nginx needed.","redirection"),{version:window.Redirectioni10n.version})}),(0,d.jsx)("p",{children:(0,m.__)("Redirection is designed to be used on sites with a few redirects to sites with thousands of redirects.","redirection")}),(0,d.jsx)("h3",{children:(0,m.__)("How do I use this plugin?","redirection")}),(0,d.jsx)("p",{children:U((0,m.__)("A simple redirect involves setting a {{strong}}source URL{{/strong}} (the old URL) and a {{strong}}target URL{{/strong}} (the new URL). Here's an example:","redirection"),{strong:(0,d.jsx)("strong",{})})}),(0,d.jsx)("table",{className:"redirect-edit",children:(0,d.jsxs)("tbody",{children:[(0,d.jsxs)("tr",{children:[(0,d.jsxs)("th",{children:[(0,m.__)("Source URL","redirection"),":"]}),(0,d.jsx)("td",{children:(0,d.jsx)("input",{type:"text",className:"regular-text",readOnly:!0,value:(0,m.__)("(Example) The source URL is your old or original URL","redirection")})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsxs)("th",{children:[(0,m.__)("Target URL","redirection"),":"]}),(0,d.jsx)("td",{children:(0,d.jsx)("input",{type:"text",className:"regular-text",readOnly:!0,value:(0,m.__)("(Example) The target URL is the new URL","redirection")})})]})]})}),(0,d.jsx)("p",{children:(0,m.__)("That's all there is to it - you are now redirecting! Note that the above is just an example.","redirection")}),(0,d.jsx)("p",{children:U((0,m.__)("Full documentation can be found on the {{link}}Redirection website.{{/link}}","redirection"),{link:(0,d.jsx)(z,{url:"https://redirection.me/support/"})})}),(0,d.jsxs)("h3",{children:[(0,m.__)("Some features you may find useful are","redirection"),":"]}),(0,d.jsxs)("ul",{children:[(0,d.jsx)("li",{children:U((0,m.__)("{{link}}Monitor 404 errors{{/link}}, get detailed information about the visitor, and fix any problems","redirection"),{link:(0,d.jsx)(z,{url:"https://redirection.me/support/tracking-404-errors/"})})}),(0,d.jsx)("li",{children:U((0,m.__)("{{link}}Import{{/link}} from .htaccess, CSV, and a variety of other plugins","redirection"),{link:(0,d.jsx)(z,{url:"https://redirection.me/support/import-export-redirects/"})})}),(0,d.jsx)("li",{children:U((0,m.__)("More powerful URL matching, including {{regular}}regular expressions{{/regular}}, and {{other}}other conditions{{/other}}","redirection"),{regular:(0,d.jsx)(z,{url:"https://redirection.me/support/redirect-regular-expressions/"}),other:(0,d.jsx)(z,{url:"https://redirection.me/support/matching-redirects/"})})}),(0,d.jsx)("li",{children:(0,m.__)("Check a URL is being redirected","redirection")})]}),(0,d.jsx)("h3",{children:(0,m.__)("What's next?","redirection")}),(0,d.jsx)("p",{children:(0,m.__)("First you will be asked a few questions, and then Redirection will set up your database.","redirection")}),(0,d.jsxs)("div",{className:"wizard-buttons",children:[(0,d.jsx)("button",{className:"button-primary button",onClick:function(){t({manual:!1}),e(1)},children:(0,m.__)("Start Setup","redirection")})," ",(0,d.jsx)("button",{className:"button-secondary button",onClick:function(){t({manual:!0}),e(4)},children:(0,m.__)("Manual Setup","redirection")})]})]})}var fe=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},me={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ge=new class{#e=me;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},ye="undefined"==typeof window||"Deno"in globalThis;function ve(){}function _e(e){return"number"==typeof e&&e>=0&&e!==1/0}function be(e,t){return Math.max(e+(t||0)-Date.now(),0)}function xe(e,t){return"function"==typeof e?e(t):e}function we(e,t){return"function"==typeof e?e(t):e}function je(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=e;if(s)if(r){if(t.queryHash!==ke(s,t.options))return!1}else if(!Te(t.queryKey,s))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return!("boolean"==typeof a&&t.isStale()!==a||i&&i!==t.state.fetchStatus||o&&!o(t))}function Se(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Ce(t.options.mutationKey)!==Ce(o))return!1}else if(!Te(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function ke(e,t){return(t?.queryKeyHashFn||Ce)(e)}function Ce(e){return JSON.stringify(e,(e,t)=>Ne(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}function Te(e,t){return e===t||typeof e==typeof t&&!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&Object.keys(t).every(n=>Te(e[n],t[n]))}var Ee=Object.prototype.hasOwnProperty;function Pe(e,t,n=0){if(e===t)return e;if(n>500)return t;const r=Re(e)&&Re(t);if(!(r||Ne(e)&&Ne(t)))return t;const i=(r?e:Object.keys(e)).length,o=r?t:Object.keys(t),s=o.length,a=r?new Array(s):{};let c=0;for(let l=0;l<s;l++){const s=r?l:o[l],u=e[s],d=t[s];if(u===d){a[s]=u,(r?l<i:Ee.call(e,s))&&c++;continue}if(null===u||null===d||"object"!=typeof u||"object"!=typeof d){a[s]=d;continue}const p=Pe(u,d,n+1);a[s]=p,p===u&&c++}return i===s&&c===i?e:a}function Oe(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Re(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ne(e){if(!Ae(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!Ae(n)&&!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype}function Ae(e){return"[object Object]"===Object.prototype.toString.call(e)}function Ie(e,t,n){return"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?Pe(e,t):t}function ze(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Fe(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var De=Symbol();function Le(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==De?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}function Me(e,t){return"function"==typeof e?e(...t):!!e}var $e=new class extends fe{#n;#r;#i;constructor(){super(),this.#i=e=>{if(!ye&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#r||this.setEventListener(this.#i)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(e){this.#i=e,this.#r?.(),this.#r=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#n!==e&&(this.#n=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#n?this.#n:"hidden"!==globalThis.document?.visibilityState}},Ue=function(e){setTimeout(e,0)},Be=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},i=Ue;const o=r=>{t?e.push(r):i(()=>{n(r)})};return{batch:o=>{let s;t++;try{s=o()}finally{t--,t||(()=>{const t=e;e=[],t.length&&i(()=>{r(()=>{t.forEach(e=>{n(e)})})})})()}return s},batchCalls:e=>(...t)=>{o(()=>{e(...t)})},schedule:o,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{i=e}}}(),Ze=new class extends fe{#o=!0;#r;#i;constructor(){super(),this.#i=e=>{if(!ye&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#r||this.setEventListener(this.#i)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(e){this.#i=e,this.#r?.(),this.#r=e(this.setOnline.bind(this))}setOnline(e){this.#o!==e&&(this.#o=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#o}};function qe(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch(()=>{}),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}function He(e){return Math.min(1e3*2**e,3e4)}function We(e){return"online"!==(e??"online")||Ze.isOnline()}var Ge=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Ve(e){let t,n=!1,r=0;const i=qe(),o=()=>"pending"!==i.status,s=()=>$e.isFocused()&&("always"===e.networkMode||Ze.isOnline())&&e.canRun(),a=()=>We(e.networkMode)&&e.canRun(),c=e=>{o()||(t?.(),i.resolve(e))},l=e=>{o()||(t?.(),i.reject(e))},u=()=>new Promise(n=>{t=e=>{(o()||s())&&n(e)},e.onPause?.()}).then(()=>{t=void 0,o()||e.onContinue?.()}),d=()=>{if(o())return;let t;const i=0===r?e.initialPromise:void 0;try{t=i??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(c).catch(t=>{if(o())return;const i=e.retry??(ye?0:3),a=e.retryDelay??He,c="function"==typeof a?a(r,t):a,p=!0===i||"number"==typeof i&&r<i||"function"==typeof i&&i(r,t);var h;!n&&p?(r++,e.onFail?.(r,t),(h=c,new Promise(e=>{ge.setTimeout(e,h)})).then(()=>s()?void 0:u()).then(()=>{n?l(t):d()})):l(t)})};return{promise:i,status:()=>i.status,cancel:t=>{if(!o()){const n=new Ge(t);l(n),e.onCancel?.(n)}},continue:()=>(t?.(),i),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:a,start:()=>(a()?d():u().then(d),i)}}var Qe=class{#s;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_e(this.gcTime)&&(this.#s=ge.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ye?1/0:3e5))}clearGcTimeout(){this.#s&&(ge.clearTimeout(this.#s),this.#s=void 0)}},Ke=class extends Qe{#a;#c;#l;#u;#d;#p;#h;constructor(e){super(),this.#h=!1,this.#p=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#u=e.client,this.#l=this.#u.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#a=Xe(this.options),this.state=e.state??this.#a,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#d?.promise}setOptions(e){if(this.options={...this.#p,...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){const e=Xe(this.options);void 0!==e.data&&(this.setState(Ye(e.data,e.dataUpdatedAt)),this.#a=e)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#l.remove(this)}setData(e,t){const n=Ie(this.state.data,e,this.options);return this.#f({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#f({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#d?.promise;return this.#d?.cancel(e),t?t.then(ve).catch(ve):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#a)}isActive(){return this.observers.some(e=>!1!==we(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===De||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===xe(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!be(this.state.dataUpdatedAt,e))}onFocus(){const e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#d?.continue()}onOnline(){const e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#d?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#l.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#d&&(this.#h?this.#d.cancel({revert:!0}):this.#d.cancelRetry()),this.scheduleGc()),this.#l.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#f({type:"invalidate"})}async fetch(e,t){if("idle"!==this.state.fetchStatus&&"rejected"!==this.#d?.status())if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#d)return this.#d.continueRetry(),this.#d.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const n=new AbortController,r=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#h=!0,n.signal)})},i=()=>{const e=Le(this.options,t),n=(()=>{const e={client:this.#u,queryKey:this.queryKey,meta:this.meta};return r(e),e})();return this.#h=!1,this.options.persister?this.options.persister(e,n,this):e(n)},o=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#u,state:this.state,fetchFn:i};return r(e),e})();this.options.behavior?.onFetch(o,this),this.#c=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===o.fetchOptions?.meta||this.#f({type:"fetch",meta:o.fetchOptions?.meta}),this.#d=Ve({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:e=>{e instanceof Ge&&e.revert&&this.setState({...this.#c,fetchStatus:"idle"}),n.abort()},onFail:(e,t)=>{this.#f({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#f({type:"pause"})},onContinue:()=>{this.#f({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const e=await this.#d.start();if(void 0===e)throw new Error(`${this.queryHash} data is undefined`);return this.setData(e),this.#l.config.onSuccess?.(e,this),this.#l.config.onSettled?.(e,this.state.error,this),e}catch(e){if(e instanceof Ge){if(e.silent)return this.#d.promise;if(e.revert){if(void 0===this.state.data)throw e;return this.state.data}}throw this.#f({type:"error",error:e}),this.#l.config.onError?.(e,this),this.#l.config.onSettled?.(this.state.data,e,this),e}finally{this.scheduleGc()}}#f(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...Je(t.data,this.options),fetchMeta:e.meta??null};case"success":const n={...t,...Ye(e.data,e.dataUpdatedAt),dataUpdateCount:t.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#c=e.manual?n:void 0,n;case"error":const r=e.error;return{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),Be.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#l.notify({query:this,type:"updated",action:e})})}};function Je(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:We(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}function Ye(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Xe(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var et=class extends fe{constructor(e,t){super(),this.options=t,this.#u=e,this.#m=null,this.#g=qe(),this.bindMethods(),this.setOptions(t)}#u;#y=void 0;#v=void 0;#_=void 0;#b;#x;#g;#m;#w;#j;#S;#k;#C;#T;#E=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#y.addObserver(this),tt(this.#y,this.options)?this.#P():this.updateResult(),this.#O())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return nt(this.#y,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return nt(this.#y,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#R(),this.#N(),this.#y.removeObserver(this)}setOptions(e){const t=this.options,n=this.#y;if(this.options=this.#u.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof we(this.options.enabled,this.#y))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#A(),this.#y.setOptions(this.options),t._defaulted&&!Oe(this.options,t)&&this.#u.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#y,observer:this});const r=this.hasListeners();r&&rt(this.#y,n,this.options,t)&&this.#P(),this.updateResult(),!r||this.#y===n&&we(this.options.enabled,this.#y)===we(t.enabled,this.#y)&&xe(this.options.staleTime,this.#y)===xe(t.staleTime,this.#y)||this.#I();const i=this.#z();!r||this.#y===n&&we(this.options.enabled,this.#y)===we(t.enabled,this.#y)&&i===this.#T||this.#F(i)}getOptimisticResult(e){const t=this.#u.getQueryCache().build(this.#u,e),n=this.createResult(t,e);return r=n,!Oe(this.getCurrentResult(),r)&&(this.#_=n,this.#x=this.options,this.#b=this.#y.state),n;var r}getCurrentResult(){return this.#_}trackResult(e,t){return new Proxy(e,{get:(e,n)=>(this.trackProp(n),t?.(n),"promise"===n&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#g.status||this.#g.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,n))})}trackProp(e){this.#E.add(e)}getCurrentQuery(){return this.#y}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#u.defaultQueryOptions(e),n=this.#u.getQueryCache().build(this.#u,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#P({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#_))}#P(e){this.#A();let t=this.#y.fetch(this.options,e);return e?.throwOnError||(t=t.catch(ve)),t}#I(){this.#R();const e=xe(this.options.staleTime,this.#y);if(ye||this.#_.isStale||!_e(e))return;const t=be(this.#_.dataUpdatedAt,e)+1;this.#k=ge.setTimeout(()=>{this.#_.isStale||this.updateResult()},t)}#z(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#y):this.options.refetchInterval)??!1}#F(e){this.#N(),this.#T=e,!ye&&!1!==we(this.options.enabled,this.#y)&&_e(this.#T)&&0!==this.#T&&(this.#C=ge.setInterval(()=>{(this.options.refetchIntervalInBackground||$e.isFocused())&&this.#P()},this.#T))}#O(){this.#I(),this.#F(this.#z())}#R(){this.#k&&(ge.clearTimeout(this.#k),this.#k=void 0)}#N(){this.#C&&(ge.clearInterval(this.#C),this.#C=void 0)}createResult(e,t){const n=this.#y,r=this.options,i=this.#_,o=this.#b,s=this.#x,a=e!==n?e.state:this.#v,{state:c}=e;let l,u={...c},d=!1;if(t._optimisticResults){const i=this.hasListeners(),o=!i&&tt(e,t),s=i&&rt(e,n,t,r);(o||s)&&(u={...u,...Je(c.data,e.options)}),"isRestoring"===t._optimisticResults&&(u.fetchStatus="idle")}let{error:p,errorUpdatedAt:h,status:f}=u;l=u.data;let m=!1;if(void 0!==t.placeholderData&&void 0===l&&"pending"===f){let e;i?.isPlaceholderData&&t.placeholderData===s?.placeholderData?(e=i.data,m=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#S?.state.data,this.#S):t.placeholderData,void 0!==e&&(f="success",l=Ie(i?.data,e,t),d=!0)}if(t.select&&void 0!==l&&!m)if(i&&l===o?.data&&t.select===this.#w)l=this.#j;else try{this.#w=t.select,l=t.select(l),l=Ie(i?.data,l,t),this.#j=l,this.#m=null}catch(e){this.#m=e}this.#m&&(p=this.#m,l=this.#j,h=Date.now(),f="error");const g="fetching"===u.fetchStatus,y="pending"===f,v="error"===f,_=y&&g,b=void 0!==l,x={status:f,fetchStatus:u.fetchStatus,isPending:y,isSuccess:"success"===f,isError:v,isInitialLoading:_,isLoading:_,data:l,dataUpdatedAt:u.dataUpdatedAt,error:p,errorUpdatedAt:h,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>a.dataUpdateCount||u.errorUpdateCount>a.errorUpdateCount,isFetching:g,isRefetching:g&&!y,isLoadingError:v&&!b,isPaused:"paused"===u.fetchStatus,isPlaceholderData:d,isRefetchError:v&&b,isStale:it(e,t),refetch:this.refetch,promise:this.#g,isEnabled:!1!==we(t.enabled,e)};if(this.options.experimental_prefetchInRender){const t=void 0!==x.data,r="error"===x.status&&!t,i=e=>{r?e.reject(x.error):t&&e.resolve(x.data)},o=()=>{const e=this.#g=x.promise=qe();i(e)},s=this.#g;switch(s.status){case"pending":e.queryHash===n.queryHash&&i(s);break;case"fulfilled":(r||x.data!==s.value)&&o();break;case"rejected":r&&x.error===s.reason||o()}}return x}updateResult(){const e=this.#_,t=this.createResult(this.#y,this.options);this.#b=this.#y.state,this.#x=this.options,void 0!==this.#b.data&&(this.#S=this.#y),Oe(t,e)||(this.#_=t,this.#D({listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,n="function"==typeof t?t():t;if("all"===n||!n&&!this.#E.size)return!0;const r=new Set(n??this.#E);return this.options.throwOnError&&r.add("error"),Object.keys(this.#_).some(t=>{const n=t;return this.#_[n]!==e[n]&&r.has(n)})})()}))}#A(){const e=this.#u.getQueryCache().build(this.#u,this.options);if(e===this.#y)return;const t=this.#y;this.#y=e,this.#v=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#O()}#D(e){Be.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#_)}),this.#u.getQueryCache().notify({query:this.#y,type:"observerResultsUpdated"})})}};function tt(e,t){return function(e,t){return!1!==we(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&nt(e,t,t.refetchOnMount)}function nt(e,t,n){if(!1!==we(t.enabled,e)&&"static"!==xe(t.staleTime,e)){const r="function"==typeof n?n(e):n;return"always"===r||!1!==r&&it(e,t)}return!1}function rt(e,t,n,r){return(e!==t||!1===we(r.enabled,e))&&(!n.suspense||"error"!==e.state.status)&&it(e,n)}function it(e,t){return!1!==we(t.enabled,e)&&e.isStaleByTime(xe(t.staleTime,e))}var ot=c.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),st=c.createContext(!1),at=(st.Provider,(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()}));function ct(e,t){return function(e,t,n){const r=c.useContext(st),i=c.useContext(ot),o=h(n),s=o.defaultQueryOptions(e);o.getDefaultOptions().queries?._experimental_beforeQuery?.(s);const a=o.getQueryCache().get(s.queryHash);s._optimisticResults=r?"isRestoring":"optimistic",(e=>{if(e.suspense){const t=1e3,n=e=>"static"===e?e:Math.max(e??t,t),r=e.staleTime;e.staleTime="function"==typeof r?(...e)=>n(r(...e)):n(r),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,t))}})(s),((e,t,n)=>{const r=n?.state.error&&"function"==typeof e.throwOnError?Me(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))})(s,i,a),(e=>{c.useEffect(()=>{e.clearReset()},[e])})(i);const l=!o.getQueryCache().get(s.queryHash),[u]=c.useState(()=>new t(o,s)),d=u.getOptimisticResult(s),p=!r&&!1!==e.subscribed;if(c.useSyncExternalStore(c.useCallback(e=>{const t=p?u.subscribe(Be.batchCalls(e)):ve;return u.updateResult(),t},[u,p]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),c.useEffect(()=>{u.setOptions(s)},[s,u]),((e,t)=>e?.suspense&&t.isPending)(s,d))throw at(s,u,i);if((({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&void 0===e.data||Me(n,[e.error,r])))({result:d,errorResetBoundary:i,throwOnError:s.throwOnError,query:a,suspense:s.suspense}))throw d.error;if(o.getDefaultOptions().queries?._experimental_afterQuery?.(s,d),s.experimental_prefetchInRender&&!ye&&((e,t)=>e.isLoading&&e.isFetching&&!t)(d,r)){const e=l?at(s,u,i):a?.promise;e?.catch(ve).finally(()=>{u.updateResult()})}return s.notifyOnChangeProps?d:u.trackResult(d)}(e,et,t)}var lt=class extends Qe{#u;#L;#M;#d;constructor(e){super(),this.#u=e.client,this.mutationId=e.mutationId,this.#M=e.mutationCache,this.#L=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#L.includes(e)||(this.#L.push(e),this.clearGcTimeout(),this.#M.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#L=this.#L.filter(t=>t!==e),this.scheduleGc(),this.#M.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#L.length||("pending"===this.state.status?this.scheduleGc():this.#M.remove(this))}continue(){return this.#d?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#f({type:"continue"})},n={client:this.#u,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#d=Ve({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#f({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#f({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#M.canRun(this)});const r="pending"===this.state.status,i=!this.#d.canStart();try{if(r)t();else{this.#f({type:"pending",variables:e,isPaused:i}),this.#M.config.onMutate&&await this.#M.config.onMutate(e,this,n);const t=await(this.options.onMutate?.(e,n));t!==this.state.context&&this.#f({type:"pending",context:t,variables:e,isPaused:i})}const o=await this.#d.start();return await(this.#M.config.onSuccess?.(o,e,this.state.context,this,n)),await(this.options.onSuccess?.(o,e,this.state.context,n)),await(this.#M.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n)),await(this.options.onSettled?.(o,null,e,this.state.context,n)),this.#f({type:"success",data:o}),o}catch(t){try{await(this.#M.config.onError?.(t,e,this.state.context,this,n))}catch(e){Promise.reject(e)}try{await(this.options.onError?.(t,e,this.state.context,n))}catch(e){Promise.reject(e)}try{await(this.#M.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this,n))}catch(e){Promise.reject(e)}try{await(this.options.onSettled?.(void 0,t,e,this.state.context,n))}catch(e){Promise.reject(e)}throw this.#f({type:"error",error:t}),t}finally{this.#M.runNext(this)}}#f(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),Be.batch(()=>{this.#L.forEach(t=>{t.onMutationUpdate(e)}),this.#M.notify({mutation:this,type:"updated",action:e})})}},ut=class extends fe{#u;#_=void 0;#$;#U;constructor(e,t){super(),this.#u=e,this.setOptions(t),this.bindMethods(),this.#B()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#u.defaultMutationOptions(e),Oe(this.options,t)||this.#u.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#$,observer:this}),t?.mutationKey&&this.options.mutationKey&&Ce(t.mutationKey)!==Ce(this.options.mutationKey)?this.reset():"pending"===this.#$?.state.status&&this.#$.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#$?.removeObserver(this)}onMutationUpdate(e){this.#B(),this.#D(e)}getCurrentResult(){return this.#_}reset(){this.#$?.removeObserver(this),this.#$=void 0,this.#B(),this.#D()}mutate(e,t){return this.#U=t,this.#$?.removeObserver(this),this.#$=this.#u.getMutationCache().build(this.#u,this.options),this.#$.addObserver(this),this.#$.execute(e)}#B(){const e=this.#$?.state??{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};this.#_={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#D(e){Be.batch(()=>{if(this.#U&&this.hasListeners()){const t=this.#_.variables,n=this.#_.context,r={client:this.#u,meta:this.options.meta,mutationKey:this.options.mutationKey};if("success"===e?.type){try{this.#U.onSuccess?.(e.data,t,n,r)}catch(e){Promise.reject(e)}try{this.#U.onSettled?.(e.data,null,t,n,r)}catch(e){Promise.reject(e)}}else if("error"===e?.type){try{this.#U.onError?.(e.error,t,n,r)}catch(e){Promise.reject(e)}try{this.#U.onSettled?.(void 0,e.error,t,n,r)}catch(e){Promise.reject(e)}}}this.listeners.forEach(e=>{e(this.#_)})})}};function dt(e,t){const n=h(t),[r]=c.useState(()=>new ut(n,e));c.useEffect(()=>{r.setOptions(e)},[r,e]);const i=c.useSyncExternalStore(c.useCallback(e=>r.subscribe(Be.batchCalls(e)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=c.useCallback((e,t)=>{r.mutate(e,t).catch(ve)},[r]);if(i.error&&Me(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}const pt=e=>"object"==typeof e&&null!==e,ht=e=>0===e?"Admin AJAX returned 0":"string"==typeof e?e:pt(e)&&e.message?e.message:(console.error(e),"Unknown error "+(pt(e)?Object.keys(e):e)),ft=e=>"number"==typeof e?`${e}`:pt(e)&&e.error_code?e.error_code:pt(e)&&e.code?e.code:pt(e)&&e.name?e.name:pt(e)&&e.data?.error_code?e.data.error_code:String(e);function mt(e,t){return function(e){return e.replace("wp-json/wp-json","wp-json").replace("=/wp-json","=")}((n=function(e){return e.replace(/\/$/,"")}(e),r=function(e,t){return-1!==e.indexOf("?")?t.replace("?","&"):t}(e,function(e){return e.replace(/^\//,"")}(t)),n+"/"+r));var n,r}let gt=[];function yt(e,t,n){return{code:ft(e),message:ht(t),request:n,data:n.apiFetch?.data?n.apiFetch?.data:null,jsonData:e&&e.data?e.data:null}}const vt=e=>{if(e.status>=200&&e.status<300)return e;throw e};function _t(e){return e.headers.get("x-wp-nonce")&&xt.nonceMiddleware&&(xt.nonceMiddleware.nonce=e.headers.get("x-wp-nonce")??xt.nonceMiddleware.nonce),e}const bt=e=>e.text(),xt=e=>{const t=[...gt,e=>(e=>fetch(e.url,e).then(_t).then(t=>((e,t)=>(t.apiFetch={action:t.url.replace(/[\?&]_wpnonce=[a-f0-9]*/,"")+" "+t.method.toUpperCase(),body:"object"==typeof t.body?JSON.stringify(t.body):t.body},t.headers=e.headers,e.status&&void 0!==e.statusText&&(t.apiFetch.status=e.status,t.apiFetch.statusText=e.statusText),e))(t,e)).then(bt).then(t=>((e,t)=>(t.apiFetch&&(t.apiFetch.data=e),e))(t,e)).then(t=>((e,t)=>{const n=t.apiFetch?.status;if(""===e&&void 0!==n&&(n<200||n>300))return e;try{const n=JSON.parse(e.replace(/\ufeff/,""));if(0===n)throw yt("json-zero","Failed to get data",t);return n}catch(e){throw yt(e,e?.message,t)}})(t,e)).then(t=>((e,t)=>{if(e?.error||e?.error_code)throw yt(e,e.message,t);if(t.apiFetch){const{status:n,statusText:r}=t.apiFetch;if(e?.code&&e?.message)throw yt(e,e,t);if(void 0!==n&&(n<200||n>=300))throw yt(n,r,t)}return e})(t,e)))(e)],n=e=>r=>{const i=t[e];return i?i(r,e===t.length-1?()=>Promise.resolve():n(e+1)):Promise.reject(new Error("Middleware step is undefined"))};return new Promise((t,r)=>{n(0)(e).then(e=>t(e)).catch(n=>{if("rest_cookie_invalid_nonce"!==n.code)return r(n);window.fetch("admin-ajax.php?action=rest-nonce").then(vt).then(bt).then(n=>{xt.nonceMiddleware.nonce=n,xt(e).then(t).catch(r)}).catch(r)})})};xt.getUrl=e=>xt.rootURLMiddleware({url:e},e=>xt.nonceMiddleware(e,e=>e.url)),xt.use=function(e){gt.unshift(e)},xt.createNonceMiddleware=e=>{const t=(e=>{const t=(e,n)=>{const{headers:r={}}=e;for(const i in r)if("x-wp-nonce"===i.toLowerCase()&&r[i]===t.nonce)return n(e);return n({...e,headers:{...r,"X-WP-Nonce":t.nonce}})};return t.nonce=e,t})(e);return xt.nonceMiddleware=t,t},xt.createRootURLMiddleware=e=>{const t=function(e){const t=(t,n)=>t.url.startsWith("http")?n(t):n({...t,url:mt(e,t.url)});return t.rootURL=e,t}(e);return xt.rootURLMiddleware=t,t},xt.resetMiddlewares=()=>{gt=[]},xt.replaceRootURLMiddleware=e=>{for(let t=0;t<gt.length;t++)gt[t]===xt.rootURLMiddleware&&(gt[t]=xt.createRootURLMiddleware(e))};const wt=xt,jt=(e,t={})=>{const n=e+"/";if(Object.keys(t).length>0){const e=function(e){const t=new URLSearchParams;function n(e,r){for(const i in r){const o=r[i];if(null!=o)if(Array.isArray(o))for(const n of o)null!=n&&t.append(`${e}[${i}][]`,String(n));else"object"==typeof o?n(`${e}[${i}]`,o):t.append(`${e}[${i}]`,String(o))}}for(const r in e){const i=e[r];if(null!=i)if(Array.isArray(i))for(const e of i)null!=e&&t.append(`${r}[]`,String(e));else"object"==typeof i?n(r,i):t.append(r,String(i))}return t.toString()}(t);if(e.length>0)return n+(-1===n.indexOf("?")?"?":"&")+e}return n},St=(e,t={})=>({headers:{Accept:"application/json, */*;q=0.1"},url:jt(e,t),credentials:"include",method:"get",redirect:"error"}),kt=(e,t={},n={})=>{const r={headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json, */*;q=0.1"},url:jt(e,n),credentials:"include",method:"post",body:"{}"};return Object.keys(t).length>0&&(r.body=JSON.stringify(t)),r},Ct=(e,t={},n={})=>kt(e,t,n),Tt=()=>St("redirection/v1/setting"),Et=e=>kt("redirection/v1/setting",e),Pt=e=>St("redirection/v1/redirect",e),Ot=(e,t)=>kt("redirection/v1/redirect/"+e,t),Rt=(e,t)=>kt("redirection/v1/redirect",e,t),Nt=e=>St("redirection/v1/redirect/post",{text:e}),At=e=>St("redirection/v1/group",e),It=(e,t)=>kt("redirection/v1/group/"+e,t),zt=(e,t)=>kt("redirection/v1/group",e,t),Ft=e=>St("redirection/v1/log",e),Dt=e=>St("redirection/v1/404",e),Lt=(e,t)=>((e,t,n)=>{const r=kt(e,{});delete r.headers["Content-Type"];const i=new FormData;return i.append("file",n),r.body=i,r})("redirection/v1/import/file/"+e,0,t),Mt=()=>St("redirection/v1/import/plugin"),$t=e=>kt("redirection/v1/import/plugin",{plugin:e}),Ut=(e,t)=>St("redirection/v1/export/"+e+"/"+t),Bt=()=>St("redirection/v1/plugin"),Zt=()=>Ct("redirection/v1/plugin/delete"),qt=e=>kt("redirection/v1/plugin/data",e?{upgrade:e}:{}),Ht=()=>kt("redirection/v1/plugin/finish",{}),Wt=(e,t)=>kt("redirection/v1/plugin/fix",{reason:e,current:t}),Gt=(e,t,n)=>kt("redirection/v1/bulk/redirect/"+e,t,n),Vt=(e,t,n)=>kt("redirection/v1/bulk/group/"+e,t,n),Qt=(e,t,n)=>kt("redirection/v1/bulk/log/"+e,t,n),Kt=(e,t,n)=>kt("redirection/v1/bulk/404/"+e,t,n),Jt=(e,t=1)=>`https://api.redirect.li/v${t}/`+e,Yt=e=>({url:Jt("useragent/"+encodeURIComponent(e)),method:"get"}),Xt=e=>({url:Jt("http?url="+encodeURIComponent(e),2),method:"get"});function en(e,t,n){function r(n,r){if(n._zod||Object.defineProperty(n,"_zod",{value:{def:r,constr:s,traits:new Set},enumerable:!1}),n._zod.traits.has(e))return;n._zod.traits.add(e),t(n,r);const i=s.prototype,o=Object.keys(i);for(let e=0;e<o.length;e++){const t=o[e];t in n||(n[t]=i[t].bind(n))}}const i=n?.Parent??Object;class o extends i{}function s(e){var t;const i=n?.Parent?new o:this;r(i,e),(t=i._zod).deferred??(t.deferred=[]);for(const e of i._zod.deferred)e();return i}return Object.defineProperty(o,"name",{value:e}),Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:t=>!!(n?.Parent&&t instanceof n.Parent)||t?._zod?.traits?.has(e)}),Object.defineProperty(s,"name",{value:e}),s}Object.freeze({status:"aborted"}),Symbol("zod_brand");class tn extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class nn extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const rn={};function on(e){return e&&Object.assign(rn,e),rn}function sn(e){const t=Object.values(e).filter(e=>"number"==typeof e),n=Object.entries(e).filter(([e,n])=>-1===t.indexOf(+e)).map(([e,t])=>t);return n}function an(e,t="|"){return e.map(e=>En(e)).join(t)}function cn(e,t){return"bigint"==typeof t?t.toString():t}function ln(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function un(e){return null==e}function dn(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}const pn=Symbol("evaluating");function hn(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==pn)return void 0===r&&(r=pn,r=n()),r},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function fn(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function mn(...e){const t={};for(const n of e){const e=Object.getOwnPropertyDescriptors(n);Object.assign(t,e)}return Object.defineProperties({},t)}function gn(e){return JSON.stringify(e)}const yn="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function vn(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}const bn=ln(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(e){return!1}});function xn(e){if(!1===vn(e))return!1;const t=e.constructor;if(void 0===t)return!0;if("function"!=typeof t)return!0;const n=t.prototype;return!1!==vn(n)&&!1!==Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")}function wn(e){return xn(e)?{...e}:Array.isArray(e)?[...e]:e}const jn=new Set(["string","number","symbol"]),Sn=new Set(["string","number","bigint","boolean","symbol","undefined"]);function kn(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Cn(e,t,n){const r=new e._zod.constr(t??e._zod.def);return t&&!n?.parent||(r._zod.parent=e),r}function Tn(e){const t=e;if(!t)return{};if("string"==typeof t)return{error:()=>t};if(void 0!==t?.message){if(void 0!==t?.error)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,"string"==typeof t.error?{...t,error:()=>t.error}:t}function En(e){return"bigint"==typeof e?e.toString()+"n":"string"==typeof e?`"${e}"`:`${e}`}const Pn={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},On={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function Rn(e,t=0){if(!0===e.aborted)return!0;for(let n=t;n<e.issues.length;n++)if(!0!==e.issues[n]?.continue)return!0;return!1}function Nn(e,t){return t.map(t=>{var n;return(n=t).path??(n.path=[]),t.path.unshift(e),t})}function An(e){return"string"==typeof e?e:e?.message}function In(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const i=An(e.inst?._zod.def?.error?.(e))??An(t?.error?.(e))??An(n.customError?.(e))??An(n.localeError?.(e))??"Invalid input";r.message=i}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function zn(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function Fn(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function Dn(...e){const[t,n,r]=e;return"string"==typeof t?{message:t,code:"custom",input:n,inst:r}:{...t}}const Ln=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,cn,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Mn=en("$ZodError",Ln),$n=en("$ZodError",Ln,{Parent:Error}),Un=e=>(t,n,r,i)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new tn;if(s.issues.length){const t=new(i?.Err??e)(s.issues.map(e=>In(e,o,on())));throw yn(t,i?.callee),t}return s.value},Bn=Un($n),Zn=e=>async(t,n,r,i)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){const t=new(i?.Err??e)(s.issues.map(e=>In(e,o,on())));throw yn(t,i?.callee),t}return s.value},qn=Zn($n),Hn=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new tn;return o.issues.length?{success:!1,error:new(e??Mn)(o.issues.map(e=>In(e,i,on())))}:{success:!0,data:o.value}},Wn=Hn($n),Gn=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(e=>In(e,i,on())))}:{success:!0,data:o.value}},Vn=Gn($n),Qn=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Un(e)(t,n,i)},Kn=e=>(t,n,r)=>Un(e)(t,n,r),Jn=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Zn(e)(t,n,i)},Yn=e=>async(t,n,r)=>Zn(e)(t,n,r),Xn=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Hn(e)(t,n,i)},er=e=>(t,n,r)=>Hn(e)(t,n,r),tr=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Gn(e)(t,n,i)},nr=e=>async(t,n,r)=>Gn(e)(t,n,r),rr=/^[cC][^\s-]{8,}$/,ir=/^[0-9a-z]+$/,or=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,sr=/^[0-9a-vA-V]{20}$/,ar=/^[A-Za-z0-9]{27}$/,cr=/^[a-zA-Z0-9_-]{21}$/,lr=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,ur=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,dr=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,pr=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,hr=pr(4),fr=pr(6),mr=pr(7),gr=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,yr=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,vr=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,_r=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,br=_r,xr=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function wr(){return new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")}const jr=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Sr=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,kr=e=>{const t=kn(e??":");return new RegExp(`^(?:[0-9A-F]{2}${t}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${t}){5}[0-9a-f]{2}$`)},Cr=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Tr=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Er=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Pr=/^[A-Za-z0-9_-]*$/,Or=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Rr=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,Nr=/^\+[1-9]\d{6,14}$/,Ar="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Ir=new RegExp(`^${Ar}$`);function zr(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Fr(e){return new RegExp(`^${zr(e)}$`)}function Dr(e){const t=zr({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${Ar}T(?:${r})$`)}const Lr=e=>new RegExp(`^${e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*"}$`),Mr=/^-?\d+n?$/,$r=/^-?\d+$/,Ur=/^-?\d+(?:\.\d+)?$/,Br=/^(?:true|false)$/i,Zr=/^null$/i,qr=/^undefined$/i,Hr=/^[^A-Z]*$/,Wr=/^[^a-z]*$/,Gr=/^[0-9a-fA-F]*$/;function Vr(e,t){return new RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}function Qr(e){return new RegExp(`^[A-Za-z0-9_-]{${e}}$`)}const Kr=/^[0-9a-fA-F]{32}$/,Jr=Vr(22,"=="),Yr=Qr(22),Xr=/^[0-9a-fA-F]{40}$/,ei=Vr(27,"="),ti=Qr(27),ni=/^[0-9a-fA-F]{64}$/,ri=Vr(43,"="),ii=Qr(43),oi=/^[0-9a-fA-F]{96}$/,si=Vr(64,""),ai=Qr(64),ci=/^[0-9a-fA-F]{128}$/,li=Vr(86,"=="),ui=Qr(86),di=en("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),pi={number:"number",bigint:"bigint",object:"date"},hi=en("$ZodCheckLessThan",(e,t)=>{di.init(e,t);const n=pi[typeof t.value];e._zod.onattach.push(e=>{const n=e._zod.bag,r=(t.inclusive?n.maximum:n.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<r&&(t.inclusive?n.maximum=t.value:n.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:"object"==typeof t.value?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),fi=en("$ZodCheckGreaterThan",(e,t)=>{di.init(e,t);const n=pi[typeof t.value];e._zod.onattach.push(e=>{const n=e._zod.bag,r=(t.inclusive?n.minimum:n.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>r&&(t.inclusive?n.minimum=t.value:n.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:"object"==typeof t.value?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),mi=en("$ZodCheckMultipleOf",(e,t)=>{di.init(e,t),e._zod.onattach.push(e=>{var n;(n=e._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");const r="bigint"==typeof n.value?n.value%t.value===BigInt(0):0===function(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let i=(r.split(".")[1]||"").length;if(0===i&&/\d?e-\d?/.test(r)){const e=r.match(/\d?e-(\d?)/);e?.[1]&&(i=Number.parseInt(e[1]))}const o=n>i?n:i;return Number.parseInt(e.toFixed(o).replace(".",""))%Number.parseInt(t.toFixed(o).replace(".",""))/10**o}(n.value,t.value);r||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),gi=en("$ZodCheckNumberFormat",(e,t)=>{di.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[i,o]=Pn[t.format];e._zod.onattach.push(e=>{const r=e._zod.bag;r.format=t.format,r.minimum=i,r.maximum=o,n&&(r.pattern=$r)}),e._zod.check=s=>{const a=s.value;if(n){if(!Number.isInteger(a))return void s.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:a,inst:e});if(!Number.isSafeInteger(a))return void(a>0?s.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):s.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}))}a<i&&s.issues.push({origin:"number",input:a,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),a>o&&s.issues.push({origin:"number",input:a,code:"too_big",maximum:o,inclusive:!0,inst:e,continue:!t.abort})}}),yi=en("$ZodCheckBigIntFormat",(e,t)=>{di.init(e,t);const[n,r]=On[t.format];e._zod.onattach.push(e=>{const i=e._zod.bag;i.format=t.format,i.minimum=n,i.maximum=r}),e._zod.check=i=>{const o=i.value;o<n&&i.issues.push({origin:"bigint",input:o,code:"too_small",minimum:n,inclusive:!0,inst:e,continue:!t.abort}),o>r&&i.issues.push({origin:"bigint",input:o,code:"too_big",maximum:r,inclusive:!0,inst:e,continue:!t.abort})}}),vi=en("$ZodCheckMaxSize",(e,t)=>{var n;di.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!un(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{const n=e._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<n&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const r=n.value;r.size<=t.maximum||n.issues.push({origin:zn(r),code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),_i=en("$ZodCheckMinSize",(e,t)=>{var n;di.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!un(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{const n=e._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>n&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const r=n.value;r.size>=t.minimum||n.issues.push({origin:zn(r),code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),bi=en("$ZodCheckSizeEquals",(e,t)=>{var n;di.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!un(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{const n=e._zod.bag;n.minimum=t.size,n.maximum=t.size,n.size=t.size}),e._zod.check=n=>{const r=n.value,i=r.size;if(i===t.size)return;const o=i>t.size;n.issues.push({origin:zn(r),...o?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),xi=en("$ZodCheckMaxLength",(e,t)=>{var n;di.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!un(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<n&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const r=n.value;if(r.length<=t.maximum)return;const i=Fn(r);n.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),wi=en("$ZodCheckMinLength",(e,t)=>{var n;di.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!un(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>n&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const r=n.value;if(r.length>=t.minimum)return;const i=Fn(r);n.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),ji=en("$ZodCheckLengthEquals",(e,t)=>{var n;di.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!un(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length}),e._zod.check=n=>{const r=n.value,i=r.length;if(i===t.length)return;const o=Fn(r),s=i>t.length;n.issues.push({origin:o,...s?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),Si=en("$ZodCheckStringFormat",(e,t)=>{var n,r;di.init(e,t),e._zod.onattach.push(e=>{const n=e._zod.bag;n.format=t.format,t.pattern&&(n.patterns??(n.patterns=new Set),n.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:t.format,input:n.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),ki=en("$ZodCheckRegex",(e,t)=>{Si.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Ci=en("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Hr),Si.init(e,t)}),Ti=en("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Wr),Si.init(e,t)}),Ei=en("$ZodCheckIncludes",(e,t)=>{di.init(e,t);const n=kn(t.includes),r=new RegExp("number"==typeof t.position?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=n=>{n.value.includes(t.includes,t.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:n.value,inst:e,continue:!t.abort})}}),Pi=en("$ZodCheckStartsWith",(e,t)=>{di.init(e,t);const n=new RegExp(`^${kn(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),Oi=en("$ZodCheckEndsWith",(e,t)=>{di.init(e,t);const n=new RegExp(`.*${kn(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}});function Ri(e,t,n){e.issues.length&&t.issues.push(...Nn(n,e.issues))}const Ni=en("$ZodCheckProperty",(e,t)=>{di.init(e,t),e._zod.check=e=>{const n=t.schema._zod.run({value:e.value[t.property],issues:[]},{});if(n instanceof Promise)return n.then(n=>Ri(n,e,t.property));Ri(n,e,t.property)}}),Ai=en("$ZodCheckMimeType",(e,t)=>{di.init(e,t);const n=new Set(t.mime);e._zod.onattach.push(e=>{e._zod.bag.mime=t.mime}),e._zod.check=r=>{n.has(r.value.type)||r.issues.push({code:"invalid_value",values:t.mime,input:r.value.type,inst:e,continue:!t.abort})}}),Ii=en("$ZodCheckOverwrite",(e,t)=>{di.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});class zi{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e)return e(this,{execution:"sync"}),void e(this,{execution:"async"});const t=e.split("\n").filter(e=>e),n=Math.min(...t.map(e=>e.length-e.trimStart().length)),r=t.map(e=>e.slice(n)).map(e=>" ".repeat(2*this.indent)+e);for(const e of r)this.content.push(e)}compile(){const e=Function,t=this?.args,n=[...(this?.content??[""]).map(e=>`  ${e}`)];return new e(...t,n.join("\n"))}}const Fi={major:4,minor:3,patch:6},Di=en("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Fi;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const t of r)for(const n of t._zod.onattach)n(e);if(0===r.length)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const t=(e,t,n)=>{let r,i=Rn(e);for(const o of t){if(o._zod.def.when){if(!o._zod.def.when(e))continue}else if(i)continue;const t=e.issues.length,s=o._zod.check(e);if(s instanceof Promise&&!1===n?.async)throw new tn;if(r||s instanceof Promise)r=(r??Promise.resolve()).then(async()=>{await s,e.issues.length!==t&&(i||(i=Rn(e,t)))});else{if(e.issues.length===t)continue;i||(i=Rn(e,t))}}return r?r.then(()=>e):e},n=(n,i,o)=>{if(Rn(n))return n.aborted=!0,n;const s=t(i,r,o);if(s instanceof Promise){if(!1===o.async)throw new tn;return s.then(t=>e._zod.parse(t,o))}return e._zod.parse(s,o)};e._zod.run=(i,o)=>{if(o.skipChecks)return e._zod.parse(i,o);if("backward"===o.direction){const t=e._zod.parse({value:i.value,issues:[]},{...o,skipChecks:!0});return t instanceof Promise?t.then(e=>n(e,i,o)):n(t,i,o)}const s=e._zod.parse(i,o);if(s instanceof Promise){if(!1===o.async)throw new tn;return s.then(e=>t(e,r,o))}return t(s,r,o)}}hn(e,"~standard",()=>({validate:t=>{try{const n=Wn(e,t);return n.success?{value:n.data}:{issues:n.error?.issues}}catch(n){return Vn(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}))}),Li=en("$ZodString",(e,t)=>{Di.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Lr(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch(r){}return"string"==typeof n.value||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),Mi=en("$ZodStringFormat",(e,t)=>{Si.init(e,t),Li.init(e,t)}),$i=en("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=dr),Mi.init(e,t)}),Ui=en("$ZodUUID",(e,t)=>{if(t.version){const e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=pr(e))}else t.pattern??(t.pattern=pr());Mi.init(e,t)}),Bi=en("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=gr),Mi.init(e,t)}),Zi=en("$ZodURL",(e,t)=>{Mi.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);return t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),void(t.normalize?n.value=i.href:n.value=r)}catch(r){n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),qi=en("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=wr()),Mi.init(e,t)}),Hi=en("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=cr),Mi.init(e,t)}),Wi=en("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=rr),Mi.init(e,t)}),Gi=en("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=ir),Mi.init(e,t)}),Vi=en("$ZodULID",(e,t)=>{t.pattern??(t.pattern=or),Mi.init(e,t)}),Qi=en("$ZodXID",(e,t)=>{t.pattern??(t.pattern=sr),Mi.init(e,t)}),Ki=en("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=ar),Mi.init(e,t)}),Ji=en("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Dr(t)),Mi.init(e,t)}),Yi=en("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Ir),Mi.init(e,t)}),Xi=en("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Fr(t)),Mi.init(e,t)}),eo=en("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=lr),Mi.init(e,t)}),to=en("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=jr),Mi.init(e,t),e._zod.bag.format="ipv4"}),no=en("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Sr),Mi.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),ro=en("$ZodMAC",(e,t)=>{t.pattern??(t.pattern=kr(t.delimiter)),Mi.init(e,t),e._zod.bag.format="mac"}),io=en("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Cr),Mi.init(e,t)}),oo=en("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Tr),Mi.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(2!==r.length)throw new Error;const[e,t]=r;if(!t)throw new Error;const n=Number(t);if(`${n}`!==t)throw new Error;if(n<0||n>128)throw new Error;new URL(`http://[${e}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function so(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}const ao=en("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Er),Mi.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{so(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}}),co=en("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Pr),Mi.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{(function(e){if(!Pr.test(e))return!1;const t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return so(t.padEnd(4*Math.ceil(t.length/4),"="))})(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),lo=en("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Nr),Mi.init(e,t)}),uo=en("$ZodJWT",(e,t)=>{Mi.init(e,t),e._zod.check=n=>{(function(e,t=null){try{const n=e.split(".");if(3!==n.length)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&"JWT"!==i?.typ||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}})(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),po=en("$ZodCustomStringFormat",(e,t)=>{Mi.init(e,t),e._zod.check=n=>{t.fn(n.value)||n.issues.push({code:"invalid_format",format:t.format,input:n.value,inst:e,continue:!t.abort})}}),ho=en("$ZodNumber",(e,t)=>{Di.init(e,t),e._zod.pattern=e._zod.bag.pattern??Ur,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch(e){}const i=n.value;if("number"==typeof i&&!Number.isNaN(i)&&Number.isFinite(i))return n;const o="number"==typeof i?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...o?{received:o}:{}}),n}}),fo=en("$ZodNumberFormat",(e,t)=>{gi.init(e,t),ho.init(e,t)}),mo=en("$ZodBoolean",(e,t)=>{Di.init(e,t),e._zod.pattern=Br,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Boolean(n.value)}catch(e){}const i=n.value;return"boolean"==typeof i||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),go=en("$ZodBigInt",(e,t)=>{Di.init(e,t),e._zod.pattern=Mr,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=BigInt(n.value)}catch(e){}return"bigint"==typeof n.value||n.issues.push({expected:"bigint",code:"invalid_type",input:n.value,inst:e}),n}}),yo=en("$ZodBigIntFormat",(e,t)=>{yi.init(e,t),go.init(e,t)}),vo=en("$ZodSymbol",(e,t)=>{Di.init(e,t),e._zod.parse=(t,n)=>{const r=t.value;return"symbol"==typeof r||t.issues.push({expected:"symbol",code:"invalid_type",input:r,inst:e}),t}}),_o=en("$ZodUndefined",(e,t)=>{Di.init(e,t),e._zod.pattern=qr,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(t,n)=>{const r=t.value;return void 0===r||t.issues.push({expected:"undefined",code:"invalid_type",input:r,inst:e}),t}}),bo=en("$ZodNull",(e,t)=>{Di.init(e,t),e._zod.pattern=Zr,e._zod.values=new Set([null]),e._zod.parse=(t,n)=>{const r=t.value;return null===r||t.issues.push({expected:"null",code:"invalid_type",input:r,inst:e}),t}}),xo=en("$ZodAny",(e,t)=>{Di.init(e,t),e._zod.parse=e=>e}),wo=en("$ZodUnknown",(e,t)=>{Di.init(e,t),e._zod.parse=e=>e}),jo=en("$ZodNever",(e,t)=>{Di.init(e,t),e._zod.parse=(t,n)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}),So=en("$ZodVoid",(e,t)=>{Di.init(e,t),e._zod.parse=(t,n)=>{const r=t.value;return void 0===r||t.issues.push({expected:"void",code:"invalid_type",input:r,inst:e}),t}}),ko=en("$ZodDate",(e,t)=>{Di.init(e,t),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=new Date(n.value)}catch(e){}const i=n.value,o=i instanceof Date;return o&&!Number.isNaN(i.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:i,...o?{received:"Invalid Date"}:{},inst:e}),n}});function Co(e,t,n){e.issues.length&&t.issues.push(...Nn(n,e.issues)),t.value[n]=e.value}const To=en("$ZodArray",(e,t)=>{Di.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const o=[];for(let e=0;e<i.length;e++){const s=i[e],a=t.element._zod.run({value:s,issues:[]},r);a instanceof Promise?o.push(a.then(t=>Co(t,n,e))):Co(a,n,e)}return o.length?Promise.all(o).then(()=>n):n}});function Eo(e,t,n,r,i){if(e.issues.length){if(i&&!(n in r))return;t.issues.push(...Nn(n,e.issues))}void 0===e.value?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Po(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const n=(r=e.shape,Object.keys(r).filter(e=>"optional"===r[e]._zod.optin&&"optional"===r[e]._zod.optout));var r;return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Oo(e,t,n,r,i,o){const s=[],a=i.keySet,c=i.catchall._zod,l=c.def.type,u="optional"===c.optout;for(const i in t){if(a.has(i))continue;if("never"===l){s.push(i);continue}const o=c.run({value:t[i],issues:[]},r);o instanceof Promise?e.push(o.then(e=>Eo(e,n,i,t,u))):Eo(o,n,i,t,u)}return s.length&&n.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:o}),e.length?Promise.all(e).then(()=>n):n}const Ro=en("$ZodObject",(e,t)=>{Di.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!n?.get){const e=t.shape;Object.defineProperty(t,"shape",{get:()=>{const n={...e};return Object.defineProperty(t,"shape",{value:n}),n}})}const r=ln(()=>Po(t));hn(e._zod,"propValues",()=>{const e=t.shape,n={};for(const t in e){const r=e[t]._zod;if(r.values){n[t]??(n[t]=new Set);for(const e of r.values)n[t].add(e)}}return n});const i=vn,o=t.catchall;let s;e._zod.parse=(t,n)=>{s??(s=r.value);const a=t.value;if(!i(a))return t.issues.push({expected:"object",code:"invalid_type",input:a,inst:e}),t;t.value={};const c=[],l=s.shape;for(const e of s.keys){const r=l[e],i="optional"===r._zod.optout,o=r._zod.run({value:a[e],issues:[]},n);o instanceof Promise?c.push(o.then(n=>Eo(n,t,e,a,i))):Eo(o,t,e,a,i)}return o?Oo(c,a,t,n,r.value,e):c.length?Promise.all(c).then(()=>t):t}}),No=en("$ZodObjectJIT",(e,t)=>{Ro.init(e,t);const n=e._zod.parse,r=ln(()=>Po(t));let i;const o=vn,s=!rn.jitless,a=s&&bn.value,c=t.catchall;let l;e._zod.parse=(u,d)=>{l??(l=r.value);const p=u.value;return o(p)?s&&a&&!1===d?.async&&!0!==d.jitless?(i||(i=(e=>{const t=new zi(["shape","payload","ctx"]),n=r.value,i=e=>{const t=gn(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");const o=Object.create(null);let s=0;for(const e of n.keys)o[e]="key_"+s++;t.write("const newResult = {};");for(const r of n.keys){const n=o[r],s=gn(r),a=e[r],c="optional"===a?._zod?.optout;t.write(`const ${n} = ${i(r)};`),c?t.write(`\n        if (${n}.issues.length) {\n          if (${s} in input) {\n            payload.issues = payload.issues.concat(${n}.issues.map(iss => ({\n              ...iss,\n              path: iss.path ? [${s}, ...iss.path] : [${s}]\n            })));\n          }\n        }\n        \n        if (${n}.value === undefined) {\n          if (${s} in input) {\n            newResult[${s}] = undefined;\n          }\n        } else {\n          newResult[${s}] = ${n}.value;\n        }\n        \n      `):t.write(`\n        if (${n}.issues.length) {\n          payload.issues = payload.issues.concat(${n}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${s}, ...iss.path] : [${s}]\n          })));\n        }\n        \n        if (${n}.value === undefined) {\n          if (${s} in input) {\n            newResult[${s}] = undefined;\n          }\n        } else {\n          newResult[${s}] = ${n}.value;\n        }\n        \n      `)}t.write("payload.value = newResult;"),t.write("return payload;");const a=t.compile();return(t,n)=>a(e,t,n)})(t.shape)),u=i(u,d),c?Oo([],p,u,d,l,e):u):n(u,d):(u.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),u)}});function Ao(e,t,n,r){for(const n of e)if(0===n.issues.length)return t.value=n.value,t;const i=e.filter(e=>!Rn(e));return 1===i.length?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(e=>e.issues.map(e=>In(e,r,on())))}),t)}const Io=en("$ZodUnion",(e,t)=>{Di.init(e,t),hn(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),hn(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),hn(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),hn(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){const e=t.options.map(e=>e._zod.pattern);return new RegExp(`^(${e.map(e=>dn(e.source)).join("|")})$`)}});const n=1===t.options.length,r=t.options[0]._zod.run;e._zod.parse=(i,o)=>{if(n)return r(i,o);let s=!1;const a=[];for(const e of t.options){const t=e._zod.run({value:i.value,issues:[]},o);if(t instanceof Promise)a.push(t),s=!0;else{if(0===t.issues.length)return t;a.push(t)}}return s?Promise.all(a).then(t=>Ao(t,i,e,o)):Ao(a,i,e,o)}});function zo(e,t,n,r){const i=e.filter(e=>0===e.issues.length);return 1===i.length?(t.value=i[0].value,t):(0===i.length?t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(e=>e.issues.map(e=>In(e,r,on())))}):t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:[],inclusive:!1}),t)}const Fo=en("$ZodXor",(e,t)=>{Io.init(e,t),t.inclusive=!1;const n=1===t.options.length,r=t.options[0]._zod.run;e._zod.parse=(i,o)=>{if(n)return r(i,o);let s=!1;const a=[];for(const e of t.options){const t=e._zod.run({value:i.value,issues:[]},o);t instanceof Promise?(a.push(t),s=!0):a.push(t)}return s?Promise.all(a).then(t=>zo(t,i,e,o)):zo(a,i,e,o)}}),Do=en("$ZodDiscriminatedUnion",(e,t)=>{t.inclusive=!1,Io.init(e,t);const n=e._zod.parse;hn(e._zod,"propValues",()=>{const e={};for(const n of t.options){const r=n._zod.propValues;if(!r||0===Object.keys(r).length)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(n)}"`);for(const[t,n]of Object.entries(r)){e[t]||(e[t]=new Set);for(const r of n)e[t].add(r)}}return e});const r=ln(()=>{const e=t.options,n=new Map;for(const r of e){const e=r._zod.propValues?.[t.discriminator];if(!e||0===e.size)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(r)}"`);for(const t of e){if(n.has(t))throw new Error(`Duplicate discriminator value "${String(t)}"`);n.set(t,r)}}return n});e._zod.parse=(i,o)=>{const s=i.value;if(!vn(s))return i.issues.push({code:"invalid_type",expected:"object",input:s,inst:e}),i;const a=r.value.get(s?.[t.discriminator]);return a?a._zod.run(i,o):t.unionFallback?n(i,o):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:s,path:[t.discriminator],inst:e}),i)}}),Lo=en("$ZodIntersection",(e,t)=>{Di.init(e,t),e._zod.parse=(e,n)=>{const r=e.value,i=t.left._zod.run({value:r,issues:[]},n),o=t.right._zod.run({value:r,issues:[]},n);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([t,n])=>$o(e,t,n)):$o(e,i,o)}});function Mo(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e===+t)return{valid:!0,data:e};if(xn(e)&&xn(t)){const n=Object.keys(t),r=Object.keys(e).filter(e=>-1!==n.indexOf(e)),i={...e,...t};for(const n of r){const r=Mo(e[n],t[n]);if(!r.valid)return{valid:!1,mergeErrorPath:[n,...r.mergeErrorPath]};i[n]=r.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=Mo(e[r],t[r]);if(!i.valid)return{valid:!1,mergeErrorPath:[r,...i.mergeErrorPath]};n.push(i.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function $o(e,t,n){const r=new Map;let i;for(const n of t.issues)if("unrecognized_keys"===n.code){i??(i=n);for(const e of n.keys)r.has(e)||r.set(e,{}),r.get(e).l=!0}else e.issues.push(n);for(const t of n.issues)if("unrecognized_keys"===t.code)for(const e of t.keys)r.has(e)||r.set(e,{}),r.get(e).r=!0;else e.issues.push(t);const o=[...r].filter(([,e])=>e.l&&e.r).map(([e])=>e);if(o.length&&i&&e.issues.push({...i,keys:o}),Rn(e))return e;const s=Mo(t.value,n.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return e.value=s.data,e}const Uo=en("$ZodTuple",(e,t)=>{Di.init(e,t);const n=t.items;e._zod.parse=(r,i)=>{const o=r.value;if(!Array.isArray(o))return r.issues.push({input:o,inst:e,expected:"tuple",code:"invalid_type"}),r;r.value=[];const s=[],a=[...n].reverse().findIndex(e=>"optional"!==e._zod.optin),c=-1===a?0:n.length-a;if(!t.rest){const t=o.length>n.length,i=o.length<c-1;if(t||i)return r.issues.push({...t?{code:"too_big",maximum:n.length,inclusive:!0}:{code:"too_small",minimum:n.length},input:o,inst:e,origin:"array"}),r}let l=-1;for(const e of n){if(l++,l>=o.length&&l>=c)continue;const t=e._zod.run({value:o[l],issues:[]},i);t instanceof Promise?s.push(t.then(e=>Bo(e,r,l))):Bo(t,r,l)}if(t.rest){const e=o.slice(n.length);for(const n of e){l++;const e=t.rest._zod.run({value:n,issues:[]},i);e instanceof Promise?s.push(e.then(e=>Bo(e,r,l))):Bo(e,r,l)}}return s.length?Promise.all(s).then(()=>r):r}});function Bo(e,t,n){e.issues.length&&t.issues.push(...Nn(n,e.issues)),t.value[n]=e.value}const Zo=en("$ZodRecord",(e,t)=>{Di.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!xn(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),n;const o=[],s=t.keyType._zod.values;if(s){n.value={};const a=new Set;for(const e of s)if("string"==typeof e||"number"==typeof e||"symbol"==typeof e){a.add("number"==typeof e?e.toString():e);const s=t.valueType._zod.run({value:i[e],issues:[]},r);s instanceof Promise?o.push(s.then(t=>{t.issues.length&&n.issues.push(...Nn(e,t.issues)),n.value[e]=t.value})):(s.issues.length&&n.issues.push(...Nn(e,s.issues)),n.value[e]=s.value)}let c;for(const e in i)a.has(e)||(c=c??[],c.push(e));c&&c.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:c})}else{n.value={};for(const s of Reflect.ownKeys(i)){if("__proto__"===s)continue;let a=t.keyType._zod.run({value:s,issues:[]},r);if(a instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if("string"==typeof s&&Ur.test(s)&&a.issues.length){const e=t.keyType._zod.run({value:Number(s),issues:[]},r);if(e instanceof Promise)throw new Error("Async schemas not supported in object keys currently");0===e.issues.length&&(a=e)}if(a.issues.length){"loose"===t.mode?n.value[s]=i[s]:n.issues.push({code:"invalid_key",origin:"record",issues:a.issues.map(e=>In(e,r,on())),input:s,path:[s],inst:e});continue}const c=t.valueType._zod.run({value:i[s],issues:[]},r);c instanceof Promise?o.push(c.then(e=>{e.issues.length&&n.issues.push(...Nn(s,e.issues)),n.value[a.value]=e.value})):(c.issues.length&&n.issues.push(...Nn(s,c.issues)),n.value[a.value]=c.value)}}return o.length?Promise.all(o).then(()=>n):n}}),qo=en("$ZodMap",(e,t)=>{Di.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!(i instanceof Map))return n.issues.push({expected:"map",code:"invalid_type",input:i,inst:e}),n;const o=[];n.value=new Map;for(const[s,a]of i){const c=t.keyType._zod.run({value:s,issues:[]},r),l=t.valueType._zod.run({value:a,issues:[]},r);c instanceof Promise||l instanceof Promise?o.push(Promise.all([c,l]).then(([t,o])=>{Ho(t,o,n,s,i,e,r)})):Ho(c,l,n,s,i,e,r)}return o.length?Promise.all(o).then(()=>n):n}});function Ho(e,t,n,r,i,o,s){e.issues.length&&(jn.has(typeof r)?n.issues.push(...Nn(r,e.issues)):n.issues.push({code:"invalid_key",origin:"map",input:i,inst:o,issues:e.issues.map(e=>In(e,s,on()))})),t.issues.length&&(jn.has(typeof r)?n.issues.push(...Nn(r,t.issues)):n.issues.push({origin:"map",code:"invalid_element",input:i,inst:o,key:r,issues:t.issues.map(e=>In(e,s,on()))})),n.value.set(e.value,t.value)}const Wo=en("$ZodSet",(e,t)=>{Di.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!(i instanceof Set))return n.issues.push({input:i,inst:e,expected:"set",code:"invalid_type"}),n;const o=[];n.value=new Set;for(const e of i){const i=t.valueType._zod.run({value:e,issues:[]},r);i instanceof Promise?o.push(i.then(e=>Go(e,n))):Go(i,n)}return o.length?Promise.all(o).then(()=>n):n}});function Go(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}const Vo=en("$ZodEnum",(e,t)=>{Di.init(e,t);const n=sn(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(e=>jn.has(typeof e)).map(e=>"string"==typeof e?kn(e):e.toString()).join("|")})$`),e._zod.parse=(t,i)=>{const o=t.value;return r.has(o)||t.issues.push({code:"invalid_value",values:n,input:o,inst:e}),t}}),Qo=en("$ZodLiteral",(e,t)=>{if(Di.init(e,t),0===t.values.length)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(e=>"string"==typeof e?kn(e):e?kn(e.toString()):String(e)).join("|")})$`),e._zod.parse=(r,i)=>{const o=r.value;return n.has(o)||r.issues.push({code:"invalid_value",values:t.values,input:o,inst:e}),r}}),Ko=en("$ZodFile",(e,t)=>{Di.init(e,t),e._zod.parse=(t,n)=>{const r=t.value;return r instanceof File||t.issues.push({expected:"file",code:"invalid_type",input:r,inst:e}),t}}),Jo=en("$ZodTransform",(e,t)=>{Di.init(e,t),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new nn(e.constructor.name);const i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(e=>(n.value=e,n));if(i instanceof Promise)throw new tn;return n.value=i,n}});function Yo(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}const Xo=en("$ZodOptional",(e,t)=>{Di.init(e,t),e._zod.optin="optional",e._zod.optout="optional",hn(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),hn(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${dn(e.source)})?$`):void 0}),e._zod.parse=(e,n)=>{if("optional"===t.innerType._zod.optin){const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(t=>Yo(t,e.value)):Yo(r,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,n)}}),es=en("$ZodExactOptional",(e,t)=>{Xo.init(e,t),hn(e._zod,"values",()=>t.innerType._zod.values),hn(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(e,n)=>t.innerType._zod.run(e,n)}),ts=en("$ZodNullable",(e,t)=>{Di.init(e,t),hn(e._zod,"optin",()=>t.innerType._zod.optin),hn(e._zod,"optout",()=>t.innerType._zod.optout),hn(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${dn(e.source)}|null)$`):void 0}),hn(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,n)=>null===e.value?e:t.innerType._zod.run(e,n)}),ns=en("$ZodDefault",(e,t)=>{Di.init(e,t),e._zod.optin="optional",hn(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);if(void 0===e.value)return e.value=t.defaultValue,e;const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(e=>rs(e,t)):rs(r,t)}});function rs(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}const is=en("$ZodPrefault",(e,t)=>{Di.init(e,t),e._zod.optin="optional",hn(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>("backward"===n.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,n))}),os=en("$ZodNonOptional",(e,t)=>{Di.init(e,t),hn(e._zod,"values",()=>{const e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(t=>ss(t,e)):ss(i,e)}});function ss(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const as=en("$ZodSuccess",(e,t)=>{Di.init(e,t),e._zod.parse=(e,n)=>{if("backward"===n.direction)throw new nn("ZodSuccess");const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(t=>(e.value=0===t.issues.length,e)):(e.value=0===r.issues.length,e)}}),cs=en("$ZodCatch",(e,t)=>{Di.init(e,t),hn(e._zod,"optin",()=>t.innerType._zod.optin),hn(e._zod,"optout",()=>t.innerType._zod.optout),hn(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(r=>(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>In(e,n,on()))},input:e.value}),e.issues=[]),e)):(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>In(e,n,on()))},input:e.value}),e.issues=[]),e)}}),ls=en("$ZodNaN",(e,t)=>{Di.init(e,t),e._zod.parse=(t,n)=>("number"==typeof t.value&&Number.isNaN(t.value)||t.issues.push({input:t.value,inst:e,expected:"nan",code:"invalid_type"}),t)}),us=en("$ZodPipe",(e,t)=>{Di.init(e,t),hn(e._zod,"values",()=>t.in._zod.values),hn(e._zod,"optin",()=>t.in._zod.optin),hn(e._zod,"optout",()=>t.out._zod.optout),hn(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,n)=>{if("backward"===n.direction){const r=t.out._zod.run(e,n);return r instanceof Promise?r.then(e=>ds(e,t.in,n)):ds(r,t.in,n)}const r=t.in._zod.run(e,n);return r instanceof Promise?r.then(e=>ds(e,t.out,n)):ds(r,t.out,n)}});function ds(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const ps=en("$ZodCodec",(e,t)=>{Di.init(e,t),hn(e._zod,"values",()=>t.in._zod.values),hn(e._zod,"optin",()=>t.in._zod.optin),hn(e._zod,"optout",()=>t.out._zod.optout),hn(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,n)=>{if("forward"===(n.direction||"forward")){const r=t.in._zod.run(e,n);return r instanceof Promise?r.then(e=>hs(e,t,n)):hs(r,t,n)}{const r=t.out._zod.run(e,n);return r instanceof Promise?r.then(e=>hs(e,t,n)):hs(r,t,n)}}});function hs(e,t,n){if(e.issues.length)return e.aborted=!0,e;if("forward"===(n.direction||"forward")){const r=t.transform(e.value,e);return r instanceof Promise?r.then(r=>fs(e,r,t.out,n)):fs(e,r,t.out,n)}{const r=t.reverseTransform(e.value,e);return r instanceof Promise?r.then(r=>fs(e,r,t.in,n)):fs(e,r,t.in,n)}}function fs(e,t,n,r){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:t,issues:e.issues},r)}const ms=en("$ZodReadonly",(e,t)=>{Di.init(e,t),hn(e._zod,"propValues",()=>t.innerType._zod.propValues),hn(e._zod,"values",()=>t.innerType._zod.values),hn(e._zod,"optin",()=>t.innerType?._zod?.optin),hn(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(gs):gs(r)}});function gs(e){return e.value=Object.freeze(e.value),e}const ys=en("$ZodTemplateLiteral",(e,t)=>{Di.init(e,t);const n=[];for(const e of t.parts)if("object"==typeof e&&null!==e){if(!e._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...e._zod.traits].shift()}`);const t=e._zod.pattern instanceof RegExp?e._zod.pattern.source:e._zod.pattern;if(!t)throw new Error(`Invalid template literal part: ${e._zod.traits}`);const r=t.startsWith("^")?1:0,i=t.endsWith("$")?t.length-1:t.length;n.push(t.slice(r,i))}else{if(null!==e&&!Sn.has(typeof e))throw new Error(`Invalid template literal part: ${e}`);n.push(kn(`${e}`))}e._zod.pattern=new RegExp(`^${n.join("")}$`),e._zod.parse=(n,r)=>"string"!=typeof n.value?(n.issues.push({input:n.value,inst:e,expected:"string",code:"invalid_type"}),n):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(n.value)||n.issues.push({input:n.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source}),n)}),vs=en("$ZodFunction",(e,t)=>(Di.init(e,t),e._def=t,e._zod.def=t,e.implement=t=>{if("function"!=typeof t)throw new Error("implement() must be called with a function");return function(...n){const r=e._def.input?Bn(e._def.input,n):n,i=Reflect.apply(t,this,r);return e._def.output?Bn(e._def.output,i):i}},e.implementAsync=t=>{if("function"!=typeof t)throw new Error("implementAsync() must be called with a function");return async function(...n){const r=e._def.input?await qn(e._def.input,n):n,i=await Reflect.apply(t,this,r);return e._def.output?await qn(e._def.output,i):i}},e._zod.parse=(t,n)=>{if("function"!=typeof t.value)return t.issues.push({code:"invalid_type",expected:"function",input:t.value,inst:e}),t;const r=e._def.output&&"promise"===e._def.output._zod.def.type;return t.value=r?e.implementAsync(t.value):e.implement(t.value),t},e.input=(...t)=>{const n=e.constructor;return Array.isArray(t[0])?new n({type:"function",input:new Uo({type:"tuple",items:t[0],rest:t[1]}),output:e._def.output}):new n({type:"function",input:t[0],output:e._def.output})},e.output=t=>new(0,e.constructor)({type:"function",input:e._def.input,output:t}),e)),_s=en("$ZodPromise",(e,t)=>{Di.init(e,t),e._zod.parse=(e,n)=>Promise.resolve(e.value).then(e=>t.innerType._zod.run({value:e,issues:[]},n))}),bs=en("$ZodLazy",(e,t)=>{Di.init(e,t),hn(e._zod,"innerType",()=>t.getter()),hn(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),hn(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),hn(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),hn(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(t,n)=>e._zod.innerType._zod.run(t,n)}),xs=en("$ZodCustom",(e,t)=>{di.init(e,t),Di.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(t=>ws(t,n,r,e));ws(i,n,r,e)}});function ws(e,t,n,r){if(!e){const e={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(e.params=r._zod.def.params),t.issues.push(Dn(e))}}var js;Symbol("ZodOutput"),Symbol("ZodInput");(js=globalThis).__zod_globalRegistry??(js.__zod_globalRegistry=new class{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){const n=t[0];return this._map.set(e,n),n&&"object"==typeof n&&"id"in n&&this._idmap.set(n.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const n={...this.get(t)??{}};delete n.id;const r={...n,...this._map.get(e)};return Object.keys(r).length?r:void 0}return this._map.get(e)}has(e){return this._map.has(e)}});const Ss=globalThis.__zod_globalRegistry;function ks(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Tn(t)})}function Cs(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Tn(t)})}function Ts(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Tn(t)})}function Es(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Tn(t)})}function Ps(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Tn(t)})}function Os(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Tn(t)})}function Rs(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Tn(t)})}function Ns(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Tn(t)})}function As(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Tn(t)})}function Is(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Tn(t)})}function zs(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Tn(t)})}function Fs(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Tn(t)})}function Ds(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Tn(t)})}function Ls(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Tn(t)})}function Ms(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Tn(t)})}function $s(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Tn(t)})}function Us(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Tn(t)})}function Bs(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Tn(t)})}function Zs(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Tn(t)})}function qs(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Tn(t)})}function Hs(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Tn(t)})}function Ws(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Tn(t)})}function Gs(e,t){return new hi({check:"less_than",...Tn(t),value:e,inclusive:!1})}function Vs(e,t){return new hi({check:"less_than",...Tn(t),value:e,inclusive:!0})}function Qs(e,t){return new fi({check:"greater_than",...Tn(t),value:e,inclusive:!1})}function Ks(e,t){return new fi({check:"greater_than",...Tn(t),value:e,inclusive:!0})}function Js(e){return Qs(0,e)}function Ys(e){return Gs(0,e)}function Xs(e){return Vs(0,e)}function ea(e){return Ks(0,e)}function ta(e,t){return new mi({check:"multiple_of",...Tn(t),value:e})}function na(e,t){return new vi({check:"max_size",...Tn(t),maximum:e})}function ra(e,t){return new _i({check:"min_size",...Tn(t),minimum:e})}function ia(e,t){return new bi({check:"size_equals",...Tn(t),size:e})}function oa(e,t){return new xi({check:"max_length",...Tn(t),maximum:e})}function sa(e,t){return new wi({check:"min_length",...Tn(t),minimum:e})}function aa(e,t){return new ji({check:"length_equals",...Tn(t),length:e})}function ca(e,t){return new ki({check:"string_format",format:"regex",...Tn(t),pattern:e})}function la(e){return new Ci({check:"string_format",format:"lowercase",...Tn(e)})}function ua(e){return new Ti({check:"string_format",format:"uppercase",...Tn(e)})}function da(e,t){return new Ei({check:"string_format",format:"includes",...Tn(t),includes:e})}function pa(e,t){return new Pi({check:"string_format",format:"starts_with",...Tn(t),prefix:e})}function ha(e,t){return new Oi({check:"string_format",format:"ends_with",...Tn(t),suffix:e})}function fa(e,t,n){return new Ni({check:"property",property:e,schema:t,...Tn(n)})}function ma(e,t){return new Ai({check:"mime_type",mime:e,...Tn(t)})}function ga(e){return new Ii({check:"overwrite",tx:e})}function ya(e){return ga(t=>t.normalize(e))}function va(){return ga(e=>e.trim())}function _a(){return ga(e=>e.toLowerCase())}function ba(){return ga(e=>e.toUpperCase())}function xa(){return ga(e=>function(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}(e))}function wa(e,t,n,r={}){const i=Tn(r),o={...Tn(r),check:"string_format",type:"string",format:t,fn:"function"==typeof n?n:e=>n.test(e),...i};return n instanceof RegExp&&(o.pattern=n),new e(o)}function ja(e){let t=e?.target??"draft-2020-12";return"draft-4"===t&&(t="draft-04"),"draft-7"===t&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??Ss,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function Sa(e,t,n={path:[],schemaPath:[]}){var r;const i=e._zod.def,o=t.seen.get(e);if(o)return o.count++,n.schemaPath.includes(e)&&(o.cycle=n.path),o.schema;const s={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,s);const a=e._zod.toJSONSchema?.();if(a)s.schema=a;else{const r={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,s.schema,r);else{const n=s.schema,o=t.processors[i.type];if(!o)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);o(e,t,n,r)}const o=e._zod.parent;o&&(s.ref||(s.ref=o),Sa(o,t,r),t.seen.get(o).isParent=!0)}const c=t.metadataRegistry.get(e);return c&&Object.assign(s.schema,c),"input"===t.io&&Ta(e)&&(delete s.schema.examples,delete s.schema.default),"input"===t.io&&s.schema._prefault&&((r=s.schema).default??(r.default=s.schema._prefault)),delete s.schema._prefault,t.seen.get(e).schema}function ka(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const t of e.seen.entries()){const n=e.metadataRegistry.get(t[0])?.id;if(n){const e=r.get(n);if(e&&e!==t[0])throw new Error(`Duplicate schema id "${n}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(n,t[0])}}const i=t=>{if(t[1].schema.$ref)return;const r=t[1],{ref:i,defId:o}=(t=>{const r="draft-2020-12"===e.target?"$defs":"definitions";if(e.external){const n=e.external.registry.get(t[0])?.id,i=e.external.uri??(e=>e);if(n)return{ref:i(n)};const o=t[1].defId??t[1].schema.id??"schema"+e.counter++;return t[1].defId=o,{defId:o,ref:`${i("__shared")}#/${r}/${o}`}}if(t[1]===n)return{ref:"#"};const i=`#/${r}/`,o=t[1].schema.id??"__schema"+e.counter++;return{defId:o,ref:i+o}})(t);r.def={...r.schema},o&&(r.defId=o);const s=r.schema;for(const e in s)delete s[e];s.$ref=i};if("throw"===e.cycles)for(const t of e.seen.entries()){const e=t[1];if(e.cycle)throw new Error(`Cycle detected: #/${e.cycle?.join("/")}/<root>\n\nSet the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const n of e.seen.entries()){const r=n[1];if(t===n[0]){i(n);continue}if(e.external){const r=e.external.registry.get(n[0])?.id;if(t!==n[0]&&r){i(n);continue}}const o=e.metadataRegistry.get(n[0])?.id;(o||r.cycle||r.count>1&&"ref"===e.reused)&&i(n)}}function Ca(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=t=>{const n=e.seen.get(t);if(null===n.ref)return;const i=n.def??n.schema,o={...i},s=n.ref;if(n.ref=null,s){r(s);const n=e.seen.get(s),a=n.schema;if(!a.$ref||"draft-07"!==e.target&&"draft-04"!==e.target&&"openapi-3.0"!==e.target?Object.assign(i,a):(i.allOf=i.allOf??[],i.allOf.push(a)),Object.assign(i,o),t._zod.parent===s)for(const e in i)"$ref"!==e&&"allOf"!==e&&(e in o||delete i[e]);if(a.$ref&&n.def)for(const e in i)"$ref"!==e&&"allOf"!==e&&e in n.def&&JSON.stringify(i[e])===JSON.stringify(n.def[e])&&delete i[e]}const a=t._zod.parent;if(a&&a!==s){r(a);const t=e.seen.get(a);if(t?.schema.$ref&&(i.$ref=t.schema.$ref,t.def))for(const e in i)"$ref"!==e&&"allOf"!==e&&e in t.def&&JSON.stringify(i[e])===JSON.stringify(t.def[e])&&delete i[e]}e.override({zodSchema:t,jsonSchema:i,path:n.path??[]})};for(const t of[...e.seen.entries()].reverse())r(t[0]);const i={};if("draft-2020-12"===e.target?i.$schema="https://json-schema.org/draft/2020-12/schema":"draft-07"===e.target?i.$schema="http://json-schema.org/draft-07/schema#":"draft-04"===e.target?i.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const n=e.external.registry.get(t)?.id;if(!n)throw new Error("Schema is missing an `id` property");i.$id=e.external.uri(n)}Object.assign(i,n.def??n.schema);const o=e.external?.defs??{};for(const t of e.seen.entries()){const e=t[1];e.def&&e.defId&&(o[e.defId]=e.def)}e.external||Object.keys(o).length>0&&("draft-2020-12"===e.target?i.$defs=o:i.definitions=o);try{const n=JSON.parse(JSON.stringify(i));return Object.defineProperty(n,"~standard",{value:{...t["~standard"],jsonSchema:{input:Ea(t,"input",e.processors),output:Ea(t,"output",e.processors)}},enumerable:!1,writable:!1}),n}catch(e){throw new Error("Error converting schema to JSON.")}}function Ta(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if("transform"===r.type)return!0;if("array"===r.type)return Ta(r.element,n);if("set"===r.type)return Ta(r.valueType,n);if("lazy"===r.type)return Ta(r.getter(),n);if("promise"===r.type||"optional"===r.type||"nonoptional"===r.type||"nullable"===r.type||"readonly"===r.type||"default"===r.type||"prefault"===r.type)return Ta(r.innerType,n);if("intersection"===r.type)return Ta(r.left,n)||Ta(r.right,n);if("record"===r.type||"map"===r.type)return Ta(r.keyType,n)||Ta(r.valueType,n);if("pipe"===r.type)return Ta(r.in,n)||Ta(r.out,n);if("object"===r.type){for(const e in r.shape)if(Ta(r.shape[e],n))return!0;return!1}if("union"===r.type){for(const e of r.options)if(Ta(e,n))return!0;return!1}if("tuple"===r.type){for(const e of r.items)if(Ta(e,n))return!0;return!(!r.rest||!Ta(r.rest,n))}return!1}const Ea=(e,t,n={})=>r=>{const{libraryOptions:i,target:o}=r??{},s=ja({...i??{},target:o,io:t,processors:n});return Sa(e,s),ka(s,e),Ca(s,e)},Pa={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},Oa=(e,t,n,r)=>{const i=e._zod.def,o=!1===i.inclusive,s=i.options.map((e,n)=>Sa(e,t,{...r,path:[...r.path,o?"oneOf":"anyOf",n]}));o?n.oneOf=s:n.anyOf=s},Ra=(e,t,n,r)=>{const i=e._zod.def;Sa(i.innerType,t,r),t.seen.get(e).ref=i.innerType},Na=en("ZodISODateTime",(e,t)=>{Ji.init(e,t),oc.init(e,t)});function Aa(e){return function(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Tn(t)})}(Na,e)}const Ia=en("ZodISODate",(e,t)=>{Yi.init(e,t),oc.init(e,t)});function za(e){return function(e,t){return new e({type:"string",format:"date",check:"string_format",...Tn(t)})}(Ia,e)}const Fa=en("ZodISOTime",(e,t)=>{Xi.init(e,t),oc.init(e,t)});function Da(e){return function(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Tn(t)})}(Fa,e)}const La=en("ZodISODuration",(e,t)=>{eo.init(e,t),oc.init(e,t)});function Ma(e){return function(e,t){return new e({type:"string",format:"duration",check:"string_format",...Tn(t)})}(La,e)}const $a=(e,t)=>{Mn.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>function(e,t=e=>e.message){const n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code&&i.errors.length)i.errors.map(e=>r({issues:e}));else if("invalid_key"===i.code)r({issues:i.issues});else if("invalid_element"===i.code)r({issues:i.issues});else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(e),n}(e,t)},flatten:{value:t=>function(e,t=e=>e.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,cn,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,cn,2)}},isEmpty:{get:()=>0===e.issues.length}})},Ua=en("ZodError",$a),Ba=en("ZodError",$a,{Parent:Error}),Za=Un(Ba),qa=Zn(Ba),Ha=Hn(Ba),Wa=Gn(Ba),Ga=Qn(Ba),Va=Kn(Ba),Qa=Jn(Ba),Ka=Yn(Ba),Ja=Xn(Ba),Ya=er(Ba),Xa=tr(Ba),ec=nr(Ba),tc=en("ZodType",(e,t)=>(Di.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Ea(e,"input"),output:Ea(e,"output")}}),e.toJSONSchema=((e,t={})=>n=>{const r=ja({...n,processors:t});return Sa(e,r),ka(r,e),Ca(r,e)})(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(mn(t,{checks:[...t.checks??[],...n.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]}),{parent:!0}),e.with=e.check,e.clone=(t,n)=>Cn(e,t,n),e.brand=()=>e,e.register=(t,n)=>(t.add(e,n),e),e.parse=(t,n)=>Za(e,t,n,{callee:e.parse}),e.safeParse=(t,n)=>Ha(e,t,n),e.parseAsync=async(t,n)=>qa(e,t,n,{callee:e.parseAsync}),e.safeParseAsync=async(t,n)=>Wa(e,t,n),e.spa=e.safeParseAsync,e.encode=(t,n)=>Ga(e,t,n),e.decode=(t,n)=>Va(e,t,n),e.encodeAsync=async(t,n)=>Qa(e,t,n),e.decodeAsync=async(t,n)=>Ka(e,t,n),e.safeEncode=(t,n)=>Ja(e,t,n),e.safeDecode=(t,n)=>Ya(e,t,n),e.safeEncodeAsync=async(t,n)=>Xa(e,t,n),e.safeDecodeAsync=async(t,n)=>ec(e,t,n),e.refine=(t,n)=>e.check(Vu(t,n)),e.superRefine=t=>e.check(Qu(t)),e.overwrite=t=>e.check(ga(t)),e.optional=()=>hu(e),e.exactOptional=()=>mu(e),e.nullable=()=>yu(e),e.nullish=()=>hu(yu(e)),e.nonoptional=t=>Su(e,t),e.array=()=>Al(e),e.or=t=>$l([e,t]),e.and=t=>Wl(e,t),e.transform=t=>Nu(e,du(t)),e.default=t=>bu(e,t),e.prefault=t=>wu(e,t),e.catch=t=>Eu(e,t),e.pipe=t=>Nu(e,t),e.readonly=()=>Fu(e),e.describe=t=>{const n=e.clone();return Ss.add(n,{description:t}),n},Object.defineProperty(e,"description",{get:()=>Ss.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return Ss.get(e);const n=e.clone();return Ss.add(n,t[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=t=>t(e),e)),nc=en("_ZodString",(e,t)=>{Li.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=n;r.type="string";const{minimum:i,maximum:o,format:s,patterns:a,contentEncoding:c}=e._zod.bag;if("number"==typeof i&&(r.minLength=i),"number"==typeof o&&(r.maxLength=o),s&&(r.format=Pa[s]??s,""===r.format&&delete r.format,"time"===s&&delete r.format),c&&(r.contentEncoding=c),a&&a.size>0){const e=[...a];1===e.length?r.pattern=e[0].source:e.length>1&&(r.allOf=[...e.map(e=>({..."draft-07"===t.target||"draft-04"===t.target||"openapi-3.0"===t.target?{type:"string"}:{},pattern:e.source}))])}})(e,t,n);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...t)=>e.check(ca(...t)),e.includes=(...t)=>e.check(da(...t)),e.startsWith=(...t)=>e.check(pa(...t)),e.endsWith=(...t)=>e.check(ha(...t)),e.min=(...t)=>e.check(sa(...t)),e.max=(...t)=>e.check(oa(...t)),e.length=(...t)=>e.check(aa(...t)),e.nonempty=(...t)=>e.check(sa(1,...t)),e.lowercase=t=>e.check(la(t)),e.uppercase=t=>e.check(ua(t)),e.trim=()=>e.check(va()),e.normalize=(...t)=>e.check(ya(...t)),e.toLowerCase=()=>e.check(_a()),e.toUpperCase=()=>e.check(ba()),e.slugify=()=>e.check(xa())}),rc=en("ZodString",(e,t)=>{Li.init(e,t),nc.init(e,t),e.email=t=>e.check(ks(sc,t)),e.url=t=>e.check(Rs(mc,t)),e.jwt=t=>e.check(Ws(Vc,t)),e.emoji=t=>e.check(Ns(vc,t)),e.guid=t=>e.check(Cs(cc,t)),e.uuid=t=>e.check(Ts(uc,t)),e.uuidv4=t=>e.check(Es(uc,t)),e.uuidv6=t=>e.check(Ps(uc,t)),e.uuidv7=t=>e.check(Os(uc,t)),e.nanoid=t=>e.check(As(bc,t)),e.guid=t=>e.check(Cs(cc,t)),e.cuid=t=>e.check(Is(wc,t)),e.cuid2=t=>e.check(zs(Sc,t)),e.ulid=t=>e.check(Fs(Cc,t)),e.base64=t=>e.check(Zs(Bc,t)),e.base64url=t=>e.check(qs(qc,t)),e.xid=t=>e.check(Ds(Ec,t)),e.ksuid=t=>e.check(Ls(Oc,t)),e.ipv4=t=>e.check(Ms(Nc,t)),e.ipv6=t=>e.check($s(Fc,t)),e.cidrv4=t=>e.check(Us(Lc,t)),e.cidrv6=t=>e.check(Bs($c,t)),e.e164=t=>e.check(Hs(Wc,t)),e.datetime=t=>e.check(Aa(t)),e.date=t=>e.check(za(t)),e.time=t=>e.check(Da(t)),e.duration=t=>e.check(Ma(t))});function ic(e){return function(e,t){return new e({type:"string",...Tn(t)})}(rc,e)}const oc=en("ZodStringFormat",(e,t)=>{Mi.init(e,t),nc.init(e,t)}),sc=en("ZodEmail",(e,t)=>{Bi.init(e,t),oc.init(e,t)});function ac(e){return ks(sc,e)}const cc=en("ZodGUID",(e,t)=>{$i.init(e,t),oc.init(e,t)});function lc(e){return Cs(cc,e)}const uc=en("ZodUUID",(e,t)=>{Ui.init(e,t),oc.init(e,t)});function dc(e){return Ts(uc,e)}function pc(e){return Es(uc,e)}function hc(e){return Ps(uc,e)}function fc(e){return Os(uc,e)}const mc=en("ZodURL",(e,t)=>{Zi.init(e,t),oc.init(e,t)});function gc(e){return Rs(mc,e)}function yc(e){return Rs(mc,{protocol:/^https?$/,hostname:Rr,...Tn(e)})}const vc=en("ZodEmoji",(e,t)=>{qi.init(e,t),oc.init(e,t)});function _c(e){return Ns(vc,e)}const bc=en("ZodNanoID",(e,t)=>{Hi.init(e,t),oc.init(e,t)});function xc(e){return As(bc,e)}const wc=en("ZodCUID",(e,t)=>{Wi.init(e,t),oc.init(e,t)});function jc(e){return Is(wc,e)}const Sc=en("ZodCUID2",(e,t)=>{Gi.init(e,t),oc.init(e,t)});function kc(e){return zs(Sc,e)}const Cc=en("ZodULID",(e,t)=>{Vi.init(e,t),oc.init(e,t)});function Tc(e){return Fs(Cc,e)}const Ec=en("ZodXID",(e,t)=>{Qi.init(e,t),oc.init(e,t)});function Pc(e){return Ds(Ec,e)}const Oc=en("ZodKSUID",(e,t)=>{Ki.init(e,t),oc.init(e,t)});function Rc(e){return Ls(Oc,e)}const Nc=en("ZodIPv4",(e,t)=>{to.init(e,t),oc.init(e,t)});function Ac(e){return Ms(Nc,e)}const Ic=en("ZodMAC",(e,t)=>{ro.init(e,t),oc.init(e,t)});function zc(e){return function(e,t){return new e({type:"string",format:"mac",check:"string_format",abort:!1,...Tn(t)})}(Ic,e)}const Fc=en("ZodIPv6",(e,t)=>{no.init(e,t),oc.init(e,t)});function Dc(e){return $s(Fc,e)}const Lc=en("ZodCIDRv4",(e,t)=>{io.init(e,t),oc.init(e,t)});function Mc(e){return Us(Lc,e)}const $c=en("ZodCIDRv6",(e,t)=>{oo.init(e,t),oc.init(e,t)});function Uc(e){return Bs($c,e)}const Bc=en("ZodBase64",(e,t)=>{ao.init(e,t),oc.init(e,t)});function Zc(e){return Zs(Bc,e)}const qc=en("ZodBase64URL",(e,t)=>{co.init(e,t),oc.init(e,t)});function Hc(e){return qs(qc,e)}const Wc=en("ZodE164",(e,t)=>{lo.init(e,t),oc.init(e,t)});function Gc(e){return Hs(Wc,e)}const Vc=en("ZodJWT",(e,t)=>{uo.init(e,t),oc.init(e,t)});function Qc(e){return Ws(Vc,e)}const Kc=en("ZodCustomStringFormat",(e,t)=>{po.init(e,t),oc.init(e,t)});function Jc(e,t,n={}){return wa(Kc,e,t,n)}function Yc(e){return wa(Kc,"hostname",Or,e)}function Xc(e){return wa(Kc,"hex",Gr,e)}function el(e,t){const n=`${e}_${t?.enc??"hex"}`,i=r[n];if(!i)throw new Error(`Unrecognized hash format: ${n}`);return wa(Kc,n,i,t)}const tl=en("ZodNumber",(e,t)=>{ho.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=n,{minimum:i,maximum:o,format:s,multipleOf:a,exclusiveMaximum:c,exclusiveMinimum:l}=e._zod.bag;"string"==typeof s&&s.includes("int")?r.type="integer":r.type="number","number"==typeof l&&("draft-04"===t.target||"openapi-3.0"===t.target?(r.minimum=l,r.exclusiveMinimum=!0):r.exclusiveMinimum=l),"number"==typeof i&&(r.minimum=i,"number"==typeof l&&"draft-04"!==t.target&&(l>=i?delete r.minimum:delete r.exclusiveMinimum)),"number"==typeof c&&("draft-04"===t.target||"openapi-3.0"===t.target?(r.maximum=c,r.exclusiveMaximum=!0):r.exclusiveMaximum=c),"number"==typeof o&&(r.maximum=o,"number"==typeof c&&"draft-04"!==t.target&&(c<=o?delete r.maximum:delete r.exclusiveMaximum)),"number"==typeof a&&(r.multipleOf=a)})(e,t,n),e.gt=(t,n)=>e.check(Qs(t,n)),e.gte=(t,n)=>e.check(Ks(t,n)),e.min=(t,n)=>e.check(Ks(t,n)),e.lt=(t,n)=>e.check(Gs(t,n)),e.lte=(t,n)=>e.check(Vs(t,n)),e.max=(t,n)=>e.check(Vs(t,n)),e.int=t=>e.check(il(t)),e.safe=t=>e.check(il(t)),e.positive=t=>e.check(Qs(0,t)),e.nonnegative=t=>e.check(Ks(0,t)),e.negative=t=>e.check(Gs(0,t)),e.nonpositive=t=>e.check(Vs(0,t)),e.multipleOf=(t,n)=>e.check(ta(t,n)),e.step=(t,n)=>e.check(ta(t,n)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function nl(e){return function(e,t){return new e({type:"number",checks:[],...Tn(t)})}(tl,e)}const rl=en("ZodNumberFormat",(e,t)=>{fo.init(e,t),tl.init(e,t)});function il(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Tn(t)})}(rl,e)}function ol(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...Tn(t)})}(rl,e)}function sl(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...Tn(t)})}(rl,e)}function al(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...Tn(t)})}(rl,e)}function cl(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...Tn(t)})}(rl,e)}const ll=en("ZodBoolean",(e,t)=>{mo.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t,n)=>{n.type="boolean"})(0,0,t)});function ul(e){return function(e,t){return new e({type:"boolean",...Tn(t)})}(ll,e)}const dl=en("ZodBigInt",(e,t)=>{go.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("BigInt cannot be represented in JSON Schema")})(0,e),e.gte=(t,n)=>e.check(Ks(t,n)),e.min=(t,n)=>e.check(Ks(t,n)),e.gt=(t,n)=>e.check(Qs(t,n)),e.gte=(t,n)=>e.check(Ks(t,n)),e.min=(t,n)=>e.check(Ks(t,n)),e.lt=(t,n)=>e.check(Gs(t,n)),e.lte=(t,n)=>e.check(Vs(t,n)),e.max=(t,n)=>e.check(Vs(t,n)),e.positive=t=>e.check(Qs(BigInt(0),t)),e.negative=t=>e.check(Gs(BigInt(0),t)),e.nonpositive=t=>e.check(Vs(BigInt(0),t)),e.nonnegative=t=>e.check(Ks(BigInt(0),t)),e.multipleOf=(t,n)=>e.check(ta(t,n));const n=e._zod.bag;e.minValue=n.minimum??null,e.maxValue=n.maximum??null,e.format=n.format??null});function pl(e){return function(e,t){return new e({type:"bigint",...Tn(t)})}(dl,e)}const hl=en("ZodBigIntFormat",(e,t)=>{yo.init(e,t),dl.init(e,t)});function fl(e){return function(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...Tn(t)})}(hl,e)}function ml(e){return function(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...Tn(t)})}(hl,e)}const gl=en("ZodSymbol",(e,t)=>{vo.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Symbols cannot be represented in JSON Schema")})(0,e)});function yl(e){return function(e,t){return new e({type:"symbol",...Tn(t)})}(gl,e)}const vl=en("ZodUndefined",(e,t)=>{_o.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Undefined cannot be represented in JSON Schema")})(0,e)});function _l(e){return function(e,t){return new e({type:"undefined",...Tn(t)})}(vl,e)}const bl=en("ZodNull",(e,t)=>{bo.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t,n)=>{"openapi-3.0"===t.target?(n.type="string",n.nullable=!0,n.enum=[null]):n.type="null"})(0,e,t)});function xl(e){return function(e,t){return new e({type:"null",...Tn(t)})}(bl,e)}const wl=en("ZodAny",(e,t)=>{xo.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(e,t,n)=>{}});function jl(){return new wl({type:"any"})}const Sl=en("ZodUnknown",(e,t)=>{wo.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(e,t,n)=>{}});function kl(){return new Sl({type:"unknown"})}const Cl=en("ZodNever",(e,t)=>{jo.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t,n)=>{n.not={}})(0,0,t)});function Tl(e){return function(e,t){return new e({type:"never",...Tn(t)})}(Cl,e)}const El=en("ZodVoid",(e,t)=>{So.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Void cannot be represented in JSON Schema")})(0,e)});function Pl(e){return function(e,t){return new e({type:"void",...Tn(t)})}(El,e)}const Ol=en("ZodDate",(e,t)=>{ko.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Date cannot be represented in JSON Schema")})(0,e),e.min=(t,n)=>e.check(Ks(t,n)),e.max=(t,n)=>e.check(Vs(t,n));const n=e._zod.bag;e.minDate=n.minimum?new Date(n.minimum):null,e.maxDate=n.maximum?new Date(n.maximum):null});function Rl(e){return function(e,t){return new e({type:"date",...Tn(t)})}(Ol,e)}const Nl=en("ZodArray",(e,t)=>{To.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=n,o=e._zod.def,{minimum:s,maximum:a}=e._zod.bag;"number"==typeof s&&(i.minItems=s),"number"==typeof a&&(i.maxItems=a),i.type="array",i.items=Sa(o.element,t,{...r,path:[...r.path,"items"]})})(e,t,n,r),e.element=t.element,e.min=(t,n)=>e.check(sa(t,n)),e.nonempty=t=>e.check(sa(1,t)),e.max=(t,n)=>e.check(oa(t,n)),e.length=(t,n)=>e.check(aa(t,n)),e.unwrap=()=>e.element});function Al(e,t){return function(e,t,n){return new e({type:"array",element:t,...Tn(n)})}(Nl,e,t)}function Il(e){const t=e._zod.def.shape;return iu(Object.keys(t))}const zl=en("ZodObject",(e,t)=>{No.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=n,o=e._zod.def;i.type="object",i.properties={};const s=o.shape;for(const e in s)i.properties[e]=Sa(s[e],t,{...r,path:[...r.path,"properties",e]});const a=new Set(Object.keys(s)),c=new Set([...a].filter(e=>{const n=o.shape[e]._zod;return"input"===t.io?void 0===n.optin:void 0===n.optout}));c.size>0&&(i.required=Array.from(c)),"never"===o.catchall?._zod.def.type?i.additionalProperties=!1:o.catchall?o.catchall&&(i.additionalProperties=Sa(o.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):"output"===t.io&&(i.additionalProperties=!1)})(e,t,n,r),hn(e,"shape",()=>t.shape),e.keyof=()=>iu(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:kl()}),e.loose=()=>e.clone({...e._zod.def,catchall:kl()}),e.strict=()=>e.clone({...e._zod.def,catchall:Tl()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>function(e,t){if(!xn(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const n=e._zod.def.shape;for(const e in t)if(void 0!==Object.getOwnPropertyDescriptor(n,e))throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const r=mn(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return fn(this,"shape",n),n}});return Cn(e,r)}(e,t),e.safeExtend=t=>function(e,t){if(!xn(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=mn(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return fn(this,"shape",n),n}});return Cn(e,n)}(e,t),e.merge=t=>function(e,t){const n=mn(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return fn(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Cn(e,n)}(e,t),e.pick=t=>function(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");return Cn(e,mn(e._zod.def,{get shape(){const e={};for(const r in t){if(!(r in n.shape))throw new Error(`Unrecognized key: "${r}"`);t[r]&&(e[r]=n.shape[r])}return fn(this,"shape",e),e},checks:[]}))}(e,t),e.omit=t=>function(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const i=mn(e._zod.def,{get shape(){const r={...e._zod.def.shape};for(const e in t){if(!(e in n.shape))throw new Error(`Unrecognized key: "${e}"`);t[e]&&delete r[e]}return fn(this,"shape",r),r},checks:[]});return Cn(e,i)}(e,t),e.partial=(...t)=>function(e,t,n){const r=t._zod.def.checks;if(r&&r.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const i=mn(t._zod.def,{get shape(){const r=t._zod.def.shape,i={...r};if(n)for(const t in n){if(!(t in r))throw new Error(`Unrecognized key: "${t}"`);n[t]&&(i[t]=e?new e({type:"optional",innerType:r[t]}):r[t])}else for(const t in r)i[t]=e?new e({type:"optional",innerType:r[t]}):r[t];return fn(this,"shape",i),i},checks:[]});return Cn(t,i)}(pu,e,t[0]),e.required=(...t)=>function(e,t,n){const r=mn(t._zod.def,{get shape(){const r=t._zod.def.shape,i={...r};if(n)for(const t in n){if(!(t in i))throw new Error(`Unrecognized key: "${t}"`);n[t]&&(i[t]=new e({type:"nonoptional",innerType:r[t]}))}else for(const t in r)i[t]=new e({type:"nonoptional",innerType:r[t]});return fn(this,"shape",i),i}});return Cn(t,r)}(ju,e,t[0])});function Fl(e,t){const n={type:"object",shape:e??{},...Tn(t)};return new zl(n)}function Dl(e,t){return new zl({type:"object",shape:e,catchall:Tl(),...Tn(t)})}function Ll(e,t){return new zl({type:"object",shape:e,catchall:kl(),...Tn(t)})}const Ml=en("ZodUnion",(e,t)=>{Io.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(t,n,r)=>Oa(e,t,n,r),e.options=t.options});function $l(e,t){return new Ml({type:"union",options:e,...Tn(t)})}const Ul=en("ZodXor",(e,t)=>{Ml.init(e,t),Fo.init(e,t),e._zod.processJSONSchema=(t,n,r)=>Oa(e,t,n,r),e.options=t.options});function Bl(e,t){return new Ul({type:"union",options:e,inclusive:!1,...Tn(t)})}const Zl=en("ZodDiscriminatedUnion",(e,t)=>{Ml.init(e,t),Do.init(e,t)});function ql(e,t,n){return new Zl({type:"union",options:t,discriminator:e,...Tn(n)})}const Hl=en("ZodIntersection",(e,t)=>{Lo.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def,o=Sa(i.left,t,{...r,path:[...r.path,"allOf",0]}),s=Sa(i.right,t,{...r,path:[...r.path,"allOf",1]}),a=e=>"allOf"in e&&1===Object.keys(e).length,c=[...a(o)?o.allOf:[o],...a(s)?s.allOf:[s]];n.allOf=c})(e,t,n,r)});function Wl(e,t){return new Hl({type:"intersection",left:e,right:t})}const Gl=en("ZodTuple",(e,t)=>{Uo.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=n,o=e._zod.def;i.type="array";const s="draft-2020-12"===t.target?"prefixItems":"items",a="draft-2020-12"===t.target||"openapi-3.0"===t.target?"items":"additionalItems",c=o.items.map((e,n)=>Sa(e,t,{...r,path:[...r.path,s,n]})),l=o.rest?Sa(o.rest,t,{...r,path:[...r.path,a,..."openapi-3.0"===t.target?[o.items.length]:[]]}):null;"draft-2020-12"===t.target?(i.prefixItems=c,l&&(i.items=l)):"openapi-3.0"===t.target?(i.items={anyOf:c},l&&i.items.anyOf.push(l),i.minItems=c.length,l||(i.maxItems=c.length)):(i.items=c,l&&(i.additionalItems=l));const{minimum:u,maximum:d}=e._zod.bag;"number"==typeof u&&(i.minItems=u),"number"==typeof d&&(i.maxItems=d)})(e,t,n,r),e.rest=t=>e.clone({...e._zod.def,rest:t})});function Vl(e,t,n){const r=t instanceof Di;return new Gl({type:"tuple",items:e,rest:r?t:null,...Tn(r?n:t)})}const Ql=en("ZodRecord",(e,t)=>{Zo.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=n,o=e._zod.def;i.type="object";const s=o.keyType,a=s._zod.bag,c=a?.patterns;if("loose"===o.mode&&c&&c.size>0){const e=Sa(o.valueType,t,{...r,path:[...r.path,"patternProperties","*"]});i.patternProperties={};for(const t of c)i.patternProperties[t.source]=e}else"draft-07"!==t.target&&"draft-2020-12"!==t.target||(i.propertyNames=Sa(o.keyType,t,{...r,path:[...r.path,"propertyNames"]})),i.additionalProperties=Sa(o.valueType,t,{...r,path:[...r.path,"additionalProperties"]});const l=s._zod.values;if(l){const e=[...l].filter(e=>"string"==typeof e||"number"==typeof e);e.length>0&&(i.required=e)}})(e,t,n,r),e.keyType=t.keyType,e.valueType=t.valueType});function Kl(e,t,n){return new Ql({type:"record",keyType:e,valueType:t,...Tn(n)})}function Jl(e,t,n){const r=Cn(e);return r._zod.values=void 0,new Ql({type:"record",keyType:r,valueType:t,...Tn(n)})}function Yl(e,t,n){return new Ql({type:"record",keyType:e,valueType:t,mode:"loose",...Tn(n)})}const Xl=en("ZodMap",(e,t)=>{qo.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Map cannot be represented in JSON Schema")})(0,e),e.keyType=t.keyType,e.valueType=t.valueType,e.min=(...t)=>e.check(ra(...t)),e.nonempty=t=>e.check(ra(1,t)),e.max=(...t)=>e.check(na(...t)),e.size=(...t)=>e.check(ia(...t))});function eu(e,t,n){return new Xl({type:"map",keyType:e,valueType:t,...Tn(n)})}const tu=en("ZodSet",(e,t)=>{Wo.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Set cannot be represented in JSON Schema")})(0,e),e.min=(...t)=>e.check(ra(...t)),e.nonempty=t=>e.check(ra(1,t)),e.max=(...t)=>e.check(na(...t)),e.size=(...t)=>e.check(ia(...t))});function nu(e,t){return new tu({type:"set",valueType:e,...Tn(t)})}const ru=en("ZodEnum",(e,t)=>{Vo.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=sn(e._zod.def.entries);r.every(e=>"number"==typeof e)&&(n.type="number"),r.every(e=>"string"==typeof e)&&(n.type="string"),n.enum=r})(e,0,n),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(e,r)=>{const i={};for(const r of e){if(!n.has(r))throw new Error(`Key ${r} not found in enum`);i[r]=t.entries[r]}return new ru({...t,checks:[],...Tn(r),entries:i})},e.exclude=(e,r)=>{const i={...t.entries};for(const t of e){if(!n.has(t))throw new Error(`Key ${t} not found in enum`);delete i[t]}return new ru({...t,checks:[],...Tn(r),entries:i})}});function iu(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e;return new ru({type:"enum",entries:n,...Tn(t)})}function ou(e,t){return new ru({type:"enum",entries:e,...Tn(t)})}const su=en("ZodLiteral",(e,t)=>{Qo.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=e._zod.def,i=[];for(const e of r.values)if(void 0===e){if("throw"===t.unrepresentable)throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof e){if("throw"===t.unrepresentable)throw new Error("BigInt literals cannot be represented in JSON Schema");i.push(Number(e))}else i.push(e);if(0===i.length);else if(1===i.length){const e=i[0];n.type=null===e?"null":typeof e,"draft-04"===t.target||"openapi-3.0"===t.target?n.enum=[e]:n.const=e}else i.every(e=>"number"==typeof e)&&(n.type="number"),i.every(e=>"string"==typeof e)&&(n.type="string"),i.every(e=>"boolean"==typeof e)&&(n.type="boolean"),i.every(e=>null===e)&&(n.type="null"),n.enum=i})(e,t,n),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function au(e,t){return new su({type:"literal",values:Array.isArray(e)?e:[e],...Tn(t)})}const cu=en("ZodFile",(e,t)=>{Ko.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=n,i={type:"string",format:"binary",contentEncoding:"binary"},{minimum:o,maximum:s,mime:a}=e._zod.bag;void 0!==o&&(i.minLength=o),void 0!==s&&(i.maxLength=s),a?1===a.length?(i.contentMediaType=a[0],Object.assign(r,i)):(Object.assign(r,i),r.anyOf=a.map(e=>({contentMediaType:e}))):Object.assign(r,i)})(e,0,n),e.min=(t,n)=>e.check(ra(t,n)),e.max=(t,n)=>e.check(na(t,n)),e.mime=(t,n)=>e.check(ma(Array.isArray(t)?t:[t],n))});function lu(e){return function(e,t){return new e({type:"file",...Tn(t)})}(cu,e)}const uu=en("ZodTransform",(e,t)=>{Jo.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Transforms cannot be represented in JSON Schema")})(0,e),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new nn(e.constructor.name);n.addIssue=r=>{if("string"==typeof r)n.issues.push(Dn(r,n.value,t));else{const t=r;t.fatal&&(t.continue=!1),t.code??(t.code="custom"),t.input??(t.input=n.value),t.inst??(t.inst=e),n.issues.push(Dn(t))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(e=>(n.value=e,n)):(n.value=i,n)}});function du(e){return new uu({type:"transform",transform:e})}const pu=en("ZodOptional",(e,t)=>{Xo.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(t,n,r)=>Ra(e,t,0,r),e.unwrap=()=>e._zod.def.innerType});function hu(e){return new pu({type:"optional",innerType:e})}const fu=en("ZodExactOptional",(e,t)=>{es.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(t,n,r)=>Ra(e,t,0,r),e.unwrap=()=>e._zod.def.innerType});function mu(e){return new fu({type:"optional",innerType:e})}const gu=en("ZodNullable",(e,t)=>{ts.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def,o=Sa(i.innerType,t,r),s=t.seen.get(e);"openapi-3.0"===t.target?(s.ref=i.innerType,n.nullable=!0):n.anyOf=[o,{type:"null"}]})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});function yu(e){return new gu({type:"nullable",innerType:e})}function vu(e){return hu(yu(e))}const _u=en("ZodDefault",(e,t)=>{ns.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def;Sa(i.innerType,t,r),t.seen.get(e).ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function bu(e,t){return new _u({type:"default",innerType:e,get defaultValue(){return"function"==typeof t?t():wn(t)}})}const xu=en("ZodPrefault",(e,t)=>{is.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def;Sa(i.innerType,t,r),t.seen.get(e).ref=i.innerType,"input"===t.io&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});function wu(e,t){return new xu({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof t?t():wn(t)}})}const ju=en("ZodNonOptional",(e,t)=>{os.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def;Sa(i.innerType,t,r),t.seen.get(e).ref=i.innerType})(e,t,0,r),e.unwrap=()=>e._zod.def.innerType});function Su(e,t){return new ju({type:"nonoptional",innerType:e,...Tn(t)})}const ku=en("ZodSuccess",(e,t)=>{as.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t,n)=>{n.type="boolean"})(0,0,t),e.unwrap=()=>e._zod.def.innerType});function Cu(e){return new ku({type:"success",innerType:e})}const Tu=en("ZodCatch",(e,t)=>{cs.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def;let o;Sa(i.innerType,t,r),t.seen.get(e).ref=i.innerType;try{o=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=o})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Eu(e,t){return new Tu({type:"catch",innerType:e,catchValue:"function"==typeof t?t:()=>t})}const Pu=en("ZodNaN",(e,t)=>{ls.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("NaN cannot be represented in JSON Schema")})(0,e)});function Ou(e){return function(e,t){return new e({type:"nan",...Tn(t)})}(Pu,e)}const Ru=en("ZodPipe",(e,t)=>{us.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def,o="input"===t.io?"transform"===i.in._zod.def.type?i.out:i.in:i.out;Sa(o,t,r),t.seen.get(e).ref=o})(e,t,0,r),e.in=t.in,e.out=t.out});function Nu(e,t){return new Ru({type:"pipe",in:e,out:t})}const Au=en("ZodCodec",(e,t)=>{Ru.init(e,t),ps.init(e,t)});function Iu(e,t,n){return new Au({type:"pipe",in:e,out:t,transform:n.decode,reverseTransform:n.encode})}const zu=en("ZodReadonly",(e,t)=>{ms.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def;Sa(i.innerType,t,r),t.seen.get(e).ref=i.innerType,n.readOnly=!0})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});function Fu(e){return new zu({type:"readonly",innerType:e})}const Du=en("ZodTemplateLiteral",(e,t)=>{ys.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=n,i=e._zod.pattern;if(!i)throw new Error("Pattern not found in template literal");r.type="string",r.pattern=i.source})(e,0,n)});function Lu(e,t){return new Du({type:"template_literal",parts:e,...Tn(t)})}const Mu=en("ZodLazy",(e,t)=>{bs.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.innerType;Sa(i,t,r),t.seen.get(e).ref=i})(e,t,0,r),e.unwrap=()=>e._zod.def.getter()});function $u(e){return new Mu({type:"lazy",getter:e})}const Uu=en("ZodPromise",(e,t)=>{_s.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def;Sa(i.innerType,t,r),t.seen.get(e).ref=i.innerType})(e,t,0,r),e.unwrap=()=>e._zod.def.innerType});function Bu(e){return new Uu({type:"promise",innerType:e})}const Zu=en("ZodFunction",(e,t)=>{vs.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Function types cannot be represented in JSON Schema")})(0,e)});function qu(e){return new Zu({type:"function",input:Array.isArray(e?.input)?Vl(e?.input):e?.input??Al(kl()),output:e?.output??kl()})}const Hu=en("ZodCustom",(e,t)=>{xs.init(e,t),tc.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Custom types cannot be represented in JSON Schema")})(0,e)});function Wu(e){const t=new di({check:"custom"});return t._zod.check=e,t}function Gu(e,t){return function(e,t,n){const r=Tn(n);return r.abort??(r.abort=!0),new e({type:"custom",check:"custom",fn:t,...r})}(Hu,e??(()=>!0),t)}function Vu(e,t={}){return function(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Tn(n)})}(Hu,e,t)}function Qu(e){return function(e){const t=function(e){const t=new di({check:"custom",...Tn(void 0)});return t._zod.check=e,t}(n=>(n.addIssue=e=>{if("string"==typeof e)n.issues.push(Dn(e,n.value,t._zod.def));else{const r=e;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(Dn(r))}},e(n.value,n)));return t}(e)}const Ku=function(e){const t=new di({check:"describe"});return t._zod.onattach=[t=>{const n=Ss.get(t)??{};Ss.add(t,{...n,description:e})}],t._zod.check=()=>{},t},Ju=function(e){const t=new di({check:"meta"});return t._zod.onattach=[t=>{const n=Ss.get(t)??{};Ss.add(t,{...n,...e})}],t._zod.check=()=>{},t};function Yu(e,t={}){const n=new Hu({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0,...Tn(t)});return n._zod.bag.Class=e,n._zod.check=t=>{t.value instanceof e||t.issues.push({code:"invalid_type",expected:e.name,input:t.value,inst:n,path:[...n._zod.def.path??[]]})},n}const Xu=(...e)=>function(e,t){const n=Tn(t);let r=n.truthy??["true","1","yes","on","y","enabled"],i=n.falsy??["false","0","no","off","n","disabled"];"sensitive"!==n.case&&(r=r.map(e=>"string"==typeof e?e.toLowerCase():e),i=i.map(e=>"string"==typeof e?e.toLowerCase():e));const o=new Set(r),s=new Set(i),a=e.Codec??ps,c=e.Boolean??mo,l=new a({type:"pipe",in:new(e.String??Li)({type:"string",error:n.error}),out:new c({type:"boolean",error:n.error}),transform:(e,t)=>{let r=e;return"sensitive"!==n.case&&(r=r.toLowerCase()),!!o.has(r)||!s.has(r)&&(t.issues.push({code:"invalid_value",expected:"stringbool",values:[...o,...s],input:t.value,inst:l,continue:!1}),{})},reverseTransform:(e,t)=>!0===e?r[0]||"true":i[0]||"false",error:n.error});return l}({Codec:Au,Boolean:ll,String:rc},...e);function ed(e){const t=$u(()=>$l([ic(e),nl(),ul(),xl(),Al(t),Kl(ic(),t)]));return t}function td(e,t){return Nu(du(e),t)}var nd;function rd(e){return function(e,t){return new e({type:"number",coerce:!0,checks:[],...Tn(t)})}(tl,e)}nd||(nd={}),new Set(["$schema","$ref","$defs","definitions","$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor","type","enum","const","anyOf","oneOf","allOf","not","properties","required","additionalProperties","patternProperties","propertyNames","minProperties","maxProperties","items","prefixItems","additionalItems","minItems","maxItems","uniqueItems","contains","minContains","maxContains","minLength","maxLength","pattern","format","minimum","maximum","exclusiveMinimum","exclusiveMaximum","multipleOf","description","default","contentEncoding","contentMediaType","contentSchema","unevaluatedItems","unevaluatedProperties","if","then","else","dependentSchemas","dependentRequired","nullable","readOnly"]),on({localeError:(()=>{const e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"},map:{unit:"entries",verb:"to have"}};function t(t){return e[t]??null}const n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},r={nan:"NaN"};return e=>{switch(e.code){case"invalid_type":{const t=r[e.expected]??e.expected,n=function(e){const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"nan":"number";case"object":{if(null===e)return"null";if(Array.isArray(e))return"array";const t=e;if(t&&Object.getPrototypeOf(t)!==Object.prototype&&"constructor"in t&&t.constructor)return t.constructor.name}}return t}(e.input);return`Invalid input: expected ${t}, received ${r[n]??n}`}case"invalid_value":return 1===e.values.length?`Invalid input: expected ${En(e.values[0])}`:`Invalid option: expected one of ${an(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Too big: expected ${e.origin??"value"} to have ${n}${e.maximum.toString()} ${r.unit??"elements"}`:`Too big: expected ${e.origin??"value"} to be ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Too small: expected ${e.origin} to have ${n}${e.minimum.toString()} ${r.unit}`:`Too small: expected ${e.origin} to be ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Invalid string: must start with "${t.prefix}"`:"ends_with"===t.format?`Invalid string: must end with "${t.suffix}"`:"includes"===t.format?`Invalid string: must include "${t.includes}"`:"regex"===t.format?`Invalid string: must match pattern ${t.pattern}`:`Invalid ${n[t.format]??e.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${e.divisor}`;case"unrecognized_keys":return`Unrecognized key${e.keys.length>1?"s":""}: ${an(e.keys,", ")}`;case"invalid_key":return`Invalid key in ${e.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${e.origin}`}}})()});class id extends Error{constructor(e,t){const n=e.issues,r=n.map(e=>{const t=e.path.join(".");return`${t?`${t}: `:""}${e.message}`}).join("\n");super(n.length>0?`API response validation failed:\n${r}`:"API response validation failed"),this.zodError=e,this.response=t,this.name="ApiValidationError"}getErrors(){return this.zodError.format()}getFirstError(){const e=this.zodError.issues;return e.length>0&&e[0]?e[0].message:"Validation error"}}function od(e){return e instanceof Ua?(console.error("API Validation Error:",e.format()),new id(e)):e instanceof Error?e:"object"==typeof e&&null!==e&&"message"in e?new Error(e.message||"Unknown error"):new Error("Unknown error occurred")}const sd={redirects:{all:["redirects"],lists:()=>[...sd.redirects.all,"list"],list:e=>[...sd.redirects.lists(),e],detail:e=>[...sd.redirects.all,"detail",e]},groups:{all:["groups"],lists:()=>[...sd.groups.all,"list"],list:e=>[...sd.groups.lists(),e],detail:e=>[...sd.groups.all,"detail",e]},logs:{all:["logs"],lists:()=>[...sd.logs.all,"list"],list:e=>[...sd.logs.lists(),e]},errors:{all:["errors"],lists:()=>[...sd.errors.all,"list"],list:e=>[...sd.errors.lists(),e]},settings:{all:["settings"],get:()=>[...sd.settings.all,"get"],status:()=>[...sd.settings.all,"status"]},pluginInfo:{all:["pluginInfo"],get:()=>[...sd.pluginInfo.all,"get"]},io:{all:["io"],importers:()=>[...sd.io.all,"importers"]},info:{all:["info"],ip:e=>[...sd.info.all,"ip",e],agent:e=>[...sd.info.all,"agent",e],http:e=>[...sd.info.all,"http",e]}},ad={errors:[],notices:[],inProgress:0},cd=te()(se(e=>({...ad,addError:t=>e(e=>({errors:[...e.errors,"string"==typeof t?{message:t,type:"error"}:t]})),addNotice:t=>e(e=>({notices:[...e.notices,"string"==typeof t?{message:t,type:"notice"}:t]})),clearErrors:()=>e({errors:[]}),clearNotices:()=>e({notices:[]}),incrementProgress:()=>e(e=>({inProgress:e.inProgress+1})),decrementProgress:()=>e(e=>({inProgress:Math.max(0,e.inProgress-1)})),reset:()=>e(ad)}),{name:"MessageStore"}));function ld(e){return ct({queryKey:sd.io.importers(),queryFn:async()=>{const e=await wt(Mt());return e?.importers||[]},...e})}function ud(e){const t=h(),{addNotice:n,addError:r}=cd();return dt({mutationFn:async e=>await wt($t(e)),onSuccess:()=>{n("Import completed"),t.invalidateQueries({queryKey:sd.redirects.lists()})},onError:e=>{r(e.message||"Import failed")},...e})}function dd({setStep:e,step:t,options:n,setOptions:r}){const{log:i=!1,ip:o=!1,monitor:s=!1}=n?.settings??{},{data:a=[]}=ld(),c=0===a.length?t+2:t+1;function l(e){r({settings:{...n.settings,[e.target.name]:e.target.checked}})}return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{children:(0,m.__)("Basic Setup","redirection")}),(0,d.jsx)("p",{children:(0,m.__)("These are some options you may want to enable now. They can be changed at any time.","redirection")}),(0,d.jsxs)("div",{className:"wizard-option",children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("input",{id:"wizard-monitor",name:"monitor",type:"checkbox",checked:s,onChange:l}),(0,d.jsxs)("label",{htmlFor:"wizard-monitor",children:[(0,m.__)("Monitor permalink changes in WordPress posts and pages","redirection"),"."]})]}),(0,d.jsxs)("p",{children:[(0,m.__)("If you change the permalink in a post or page then Redirection can automatically create a redirect for you.","redirection"),"¬†",U((0,m.__)("{{link}}Read more about this.{{/link}}","redirection"),{link:(0,d.jsx)(z,{url:"https://redirection.me/support/options/#monitor"})})]})]}),(0,d.jsxs)("div",{className:"wizard-option",children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("input",{id:"wizard-log",name:"log",type:"checkbox",checked:i,onChange:function(e){r({settings:{...n.settings,[e.target.name]:e.target.checked,ip:!!e.target.checked&&o}})}}),(0,d.jsx)("label",{htmlFor:"wizard-log",children:(0,m.__)("Keep a log of all redirects and 404 errors.","redirection")})]}),(0,d.jsxs)("p",{children:[(0,m.__)("Storing logs for redirects and 404s will allow you to see what is happening on your site. This will increase your database storage requirements.","redirection"),"¬†",U((0,m.__)("{{link}}Read more about this.{{/link}}","redirection"),{link:(0,d.jsx)(z,{url:"https://redirection.me/support/logs/"})})]})]}),(0,d.jsxs)("div",{className:i?"wizard-option":"wizard-option wizard-option_disabled",children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("input",{id:"wizard-ip",name:"ip",type:"checkbox",disabled:!i,checked:o,onChange:l}),(0,d.jsx)("label",{htmlFor:"wizard-ip",children:(0,m.__)("Store IP information for redirects and 404 errors.","redirection")})]}),(0,d.jsxs)("p",{children:[(0,m.__)("Storing the IP address allows you to perform additional log actions. Note that you will need to adhere to local laws regarding the collection of data (for example GDPR).","redirection"),"¬†",U((0,m.__)("{{link}}Read more about this.{{/link}}","redirection"),{link:(0,d.jsx)(z,{url:"https://redirection.me/support/privacy-gdpr/"})})]})]}),(0,d.jsxs)("div",{className:"wizard-buttons",children:[(0,d.jsx)("button",{className:"button-primary button",onClick:()=>e(c),children:(0,m.__)("Continue","redirection")}),"¬†",(0,d.jsx)("button",{className:"button",onClick:()=>e(t-1),children:(0,m.__)("Go back","redirection")})]})]})}const pd=function({error:e}){const{request:t}=e,n=function(e){return!!(e&&e.raw&&e.raw.length>500)}(t),[r,i]=(0,c.useState)(n);return t&&t.raw?(0,d.jsxs)(d.Fragment,{children:[n&&r&&(0,d.jsx)("button",{className:"api-result-hide",type:"button",onClick:e=>{e.preventDefault(),i(!1)},children:(0,m.__)("Show Full","redirection")}),n&&!r&&(0,d.jsx)("button",{className:"api-result-hide",type:"button",onClick:e=>{e.preventDefault(),i(!0)},children:(0,m.__)("Hide","redirection")}),(0,d.jsx)("pre",{children:r?t.raw.substring(0,500)+" ...":t.raw})]}):null},hd=({error:e,methods:t})=>{const n=(e=>e.code?e.code:e.name?e.name:null)(e);return(0,d.jsxs)("div",{className:"api-result-log_details",children:[(0,d.jsx)("p",{children:(0,d.jsx)("span",{className:"dashicons dashicons-no"})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{children:[t.map((t,n)=>(0,d.jsxs)("span",{className:"api-result-method_fail",children:[t," ",e.data&&e.data.status]},n)),n&&(0,d.jsxs)("strong",{children:[n,": "]}),e.message]}),(0,d.jsx)(B,{error:e,links:K(),locale:"redirection"}),(0,d.jsx)(pd,{error:e})]})]},t.join(""))},fd=({methods:e})=>(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"dashicons dashicons-yes"}),e.map((e,t)=>(0,d.jsx)("span",{className:"api-result-method_pass",children:e},t)),(0,m.__)("Working!","redirection")]},e.join("")),md=e=>e.code?e.code:0,gd=({result:e})=>{const t=[],{GET:n,POST:r}=e;return n.status===r.status&&md(n)===md(r)?("fail"===n.status&&n.error?t.push((0,d.jsx)(hd,{error:n.error,methods:["GET","POST"]},"get-post")):t.push((0,d.jsx)(fd,{methods:["GET","POST"]},"get-post")),t):("fail"===n.status&&n.error?t.push((0,d.jsx)(hd,{error:n.error,methods:["GET"]},"get")):t.push((0,d.jsx)(fd,{methods:["GET"]},"get")),"fail"===r.status&&r.error?t.push((0,d.jsx)(hd,{error:r.error,methods:["POST"]},"post")):t.push((0,d.jsx)(fd,{methods:["POST"]},"post")),t)},yd=({item:e,result:t,routes:n,isCurrent:r,allowChange:i})=>(e=>0===Object.keys(e).length||"loading"===e.GET.status||"loading"===e.POST.status)(t)?null:(0,d.jsxs)("div",{className:"api-result-log",children:[(0,d.jsxs)("form",{className:"api-result-select",action:window.Redirectioni10n.pluginRoot+"&sub=support",method:"POST",children:[i&&!r&&(0,d.jsx)("input",{type:"submit",className:"button button-secondary",value:(0,m.__)("Switch to this API","redirection")}),i&&r&&(0,d.jsx)("span",{children:(0,m.__)("Current API","redirection")}),(0,d.jsx)("input",{type:"hidden",name:"rest_api",value:e.value}),(0,d.jsx)("input",{type:"hidden",name:"_wpnonce",value:wt.nonceMiddleware.nonce}),(0,d.jsx)("input",{type:"hidden",name:"action",value:"rest_api"})]}),(0,d.jsx)("h4",{children:e.text}),(0,d.jsxs)("p",{children:["URL:"," ",(0,d.jsx)("code",{children:(0,d.jsx)(z,{url:n[e.value]||"",children:n[e.value]||""})})]}),(0,d.jsx)(gd,{result:t})]}),vd=({size:e=""})=>{const t=y("wpl-spinner__container",e&&" spinner-"+e);return(0,d.jsx)("div",{className:t,children:(0,d.jsx)("span",{className:"wpl-spinner__item"})})},_d=e=>{const{title:t,url:n=!1,children:r}=e;return(0,d.jsxs)("tr",{children:[(0,d.jsxs)("th",{children:[!n&&t,n&&(0,d.jsx)("a",{href:n,target:"_blank",rel:"noreferrer",children:t})]}),(0,d.jsx)("td",{children:r})]})},bd=e=>(0,d.jsx)("table",{className:"form-table",children:(0,d.jsx)("tbody",{children:e.children})}),xd=({value:e,label:t,disabled:n=!1})=>Array.isArray(e)?(0,d.jsx)("optgroup",{label:String(t),disabled:n,children:e.map((e,t)=>(0,d.jsx)(xd,{label:e.label,value:e.value,disabled:e.disabled||!1},t))}):(0,d.jsx)("option",{value:e,disabled:n,children:t}),wd=xd,jd=({items:e,value:t,name:n,onChange:r,disabled:i=!1,className:o})=>(0,d.jsx)("select",{name:n,value:t,onChange:r,disabled:i,className:o,children:e.map((e,t)=>(0,d.jsx)(wd,{value:e.value,label:e.label,disabled:e.disabled||!1},t))}),Sd=()=>[{value:0,label:(0,m.__)("Default REST API","redirection")},{value:1,label:(0,m.__)("Raw REST API","redirection")},{value:3,label:(0,m.__)("Relative REST API","redirection")}],kd=function(e){const{settings:t,onChange:n,getLink:r,installed:i,warning:o}=e,{location:s,token:a,rest_api:c,plugin_update:l}=t;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("tr",{className:"redirect-option__row",children:(0,d.jsx)("th",{colSpan:2,children:(0,d.jsx)("h2",{className:"title",children:(0,m.__)("Advanced","redirection")})})}),(0,d.jsxs)(_d,{title:(0,m.__)("RSS Token","redirection")+":",url:r("options","rsstoken"),children:[(0,d.jsx)("input",{className:"regular-text",type:"text",value:a,name:"token",onChange:n}),(0,d.jsx)("br",{}),(0,d.jsx)("span",{className:"sub",children:(0,m.__)("A unique token allowing feed readers access to Redirection log RSS (leave blank to auto-generate)","redirection")})]}),(0,d.jsxs)(_d,{title:(0,m.__)("Apache .htaccess","redirection"),url:r("options","apache"),children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("label",{className:"screen-reader-text",htmlFor:"apache-htaccess-location",children:(0,m.__)("Apache .htaccess location","redirection")}),(0,d.jsx)("input",{id:"apache-htaccess-location",type:"text",className:"regular-text",name:"location",value:s,onChange:n})]}),(0,d.jsx)("p",{className:"sub",children:U((0,m.sprintf)(
// translators: %(installed)s is the path where WordPress is installed
// translators: %(installed)s is the path where WordPress is installed
(0,m.__)("Redirects added to an Apache group can be saved to an {{code}}.htaccess{{/code}} file by adding the full path here. For reference, your WordPress is installed to {{code}}%(installed)s{{/code}}.","redirection"),{installed:i}),{code:(0,d.jsx)("code",{})})}),o&&(0,d.jsxs)("p",{className:"inline-notice",children:[(0,m.__)("Unable to save .htaccess file","redirection")," ",(0,d.jsx)("code",{children:o})]})]}),(0,d.jsxs)(_d,{title:(0,m.__)("REST API","redirection"),url:r("options","restapi"),children:[(0,d.jsx)(jd,{items:Sd(),name:"rest_api",value:String(c),onChange:n})," ","¬†",(0,d.jsx)("span",{className:"sub",children:(0,m.__)("How Redirection uses the REST API - don't change unless necessary","redirection")})]}),(0,d.jsxs)(_d,{title:(0,m.__)("Data Upgrade","redirection"),children:[(0,d.jsx)(jd,{items:[{value:"prompt",
// translators: Upgrade manually when prompted
label:(0,m.__)("Upgrade manually when prompted","redirection")},{value:"admin",
// translators: Automatically upgrade on admin pages
label:(0,m.__)("Automatically upgrade on admin pages","redirection")}],name:"plugin_update",value:l,onChange:n})," ","¬†",(0,d.jsx)("span",{className:"sub",children:(0,m.__)("Decide how Redirection updates itself, if needed.","redirection")})]})]})},Cd=Fl({support:ul().optional(),token:ic().optional(),ip_logging:nl().int().optional(),expire_redirect:nl().int().optional(),expire_404:nl().int().optional(),auto_target:ic().optional(),location:ic().optional(),monitor_post:nl().int().optional(),monitor_types:Al(ic()).optional(),associated_redirect:ic().optional(),redirect_cache:nl().int().optional(),rest_api:nl().int().optional(),https:ul().optional(),headers:Al(kl()).optional(),flag_regex:ul().optional(),flag_query:ic().optional(),flag_trailing:ul().optional(),flag_case:ul().optional(),postTypes:Kl(ic(),ic()).optional(),installed:ic().optional(),warning:ic().optional(),plugin_update:ic().optional()}).passthrough(),Td=Fl({status:iu(["ok","need-update","error"]),version:ic().optional(),required:ic().optional(),reason:ic().optional()});function Ed(e){const{setValues:t,setLoadStatus:n,setError:r}=de(),{addError:i}=cd();return ct({queryKey:sd.settings.get(),queryFn:async()=>{n("loading"),r(!1);try{const e=await wt(Tt()),r=e?.settings||e,o={...r,postTypes:e?.post_types||r.postTypes,installed:e?.installed||r.installed,warning:e?.warning||r.warning};try{const e=Cd.parse(o);return t(e),n("success"),e}catch(e){if(e instanceof Ua)return t(o),n("success"),i("Settings validation failed, using unvalidated data."),o;throw e}}catch(e){throw n("error"),r(e.message||"Failed to load settings"),i(e.message||"Failed to load settings"),od(e)}},...e})}function Pd(e){const t=h(),{updateValues:n,setSaveStatus:r}=de(),{incrementProgress:i,decrementProgress:o,addNotice:s,addError:a}=cd();return dt({mutationFn:async e=>{i(),r(!0);try{const t=await wt(Et(e)),n=t?.settings||t;return Cd.parse(n)}catch(e){throw o(),r(!1),od(e)}},onSuccess:e=>{o(),r(!1),n(e),s("Settings saved"),t.invalidateQueries({queryKey:sd.settings.all})},onError:e=>{a(e.message||"Failed to save settings")},...e})}function Od(e){const{setDatabase:t}=de(),{incrementProgress:n,decrementProgress:r,addError:i}=cd();return dt({mutationFn:async e=>{n(),t({inProgress:!0});try{return await wt(qt("skip"===e||"stop"===e?{upgrade:e}:void 0))}catch(e){throw r(),t({inProgress:!1,result:"failed"}),od(e)}},onSuccess:e=>{r(),t({inProgress:!1,...e})},onError:e=>{i(e.message||"Database upgrade failed")},...e})}function Rd(e){const t=h(),{setShowDatabase:n}=de(),{addError:r}=cd();return dt({mutationFn:async()=>{try{return await wt(Ht())}catch(e){throw od(e)}},onSuccess:()=>{n(!1),t.invalidateQueries({queryKey:sd.settings.all}),window.location.href=window.Redirectioni10n.pluginRoot},onError:e=>{r(e.message||"Failed to finish setup")},...e})}function Nd(e){const t=h(),{setDatabase:n}=de(),{onSuccess:r,...i}=e||{};return dt({mutationFn:async({reason:e,current:t})=>await wt(Wt(e,t)),onSuccess:(...e)=>{const[i]=e;n(i.database||{}),t.invalidateQueries({queryKey:sd.settings.all}),r?.(...e)},...i})}Fl({version:ic(),database:Td,groups:Al(kl()).optional(),postTypes:Al(ic()).optional(),canDelete:ul().optional(),autoTarget:ic().optional()});const Ad="ok",Id="fail",zd="loading",Fd="warning-current",Dd="warning-not-selected";function Ld(e){return e===Ad?(0,m.__)("Good","redirection"):e===Dd||e===Fd?(0,m.__)("Working but some issues","redirection"):(0,m.__)("Unavailable","redirection")}function Md({allowChange:e=!0}){const[t,n]=u().useState(!1),[r,i]=u().useState(!1),o=de(e=>e.apiTest),s=de(e=>e.api),{mutate:a}=function(){const{setApiTest:e}=de();return dt({mutationFn:async t=>{const n={};for(const e of t){const{id:t}=e;n[t]={GET:{status:"loading"},POST:{status:"loading"}}}e(n);for(const r of t){const{id:t,url:i}=r,o=i.endsWith("/")?`${i}redirection/v1/plugin/test`:`${i}/redirection/v1/plugin/test`;try{await wt({url:o,method:"GET"}),n[t].GET={status:"ok"}}catch(e){n[t].GET={status:"fail",error:e,code:e?.data?.status||e?.code}}e(n);try{await wt({url:o,method:"POST",data:{}}),n[t].POST={status:"ok"}}catch(e){n[t].POST={status:"fail",error:e,code:e?.data?.status||e?.code}}e(n)}return n}})}(),{routes:l,current:p}=s;(0,c.useEffect)(()=>{const e=Object.keys(l).map(e=>({id:e,url:l[e]}));e.length>0&&!r&&(a(e.filter(e=>!!e&&!!e.url)),i(!0))},[l,a,r]);const h=()=>{n(!0)},f=e=>t||e===Id,g=Sd().map(e=>({text:e.label,value:String(e.value)})),v=function(e,t){if(0===Object.keys(e).length)return 0;const n=2*t.length;let r=0;for(let t=0;t<Object.keys(e).length;t++){const n=Object.keys(e)[t];n&&e[n]&&e[n].GET&&e[n].GET.status!==zd&&r++,n&&e[n]&&e[n].POST&&e[n].POST.status!==zd&&r++}return Math.round(r/n*100)}(o,g),_=function(e,t,n){const r=Object.keys(e).filter(t=>{return!(!(n=e[t])||!n.GET||!n.POST||n.GET.status!==Id&&n.POST.status!==Id);var n}).length;return 0===r?"ok":r<t.length?(i=e[n])&&i.GET&&i.POST&&i.GET.status===Ad&&i.POST.status===Ad?Fd:Dd:"fail";var i}(o,g,p),b=v>=100&&f(_)||t,x=y({"api-result-status":!0,"api-result-status_good":_===Ad&&v>=100,"api-result-status_problem":_===Fd&&Dd&&v>=100,"api-result-status_failed":_===Id&&v>=100});return(0,d.jsxs)("div",{className:"api-result-wrapper",children:[(0,d.jsxs)("div",{className:"api-result-header",children:[(0,d.jsx)("strong",{children:"REST API:"}),(0,d.jsxs)("div",{className:"api-result-progress",children:[(0,d.jsxs)("span",{className:x,children:[v<100&&(0,m.sprintf)(
// translators: %s is the percentage complete
// translators: %s is the percentage complete
(0,m.__)("Testing - %s%%","redirection"),String(v)),v>=100&&Ld(_)]}),v<100&&(0,d.jsx)(vd,{})]}),v>=100&&_!==Ad&&(0,d.jsx)("button",{className:"button button-secondary api-result-retry",onClick:e=>{e.preventDefault(),n(!1),i(!1);const t=Object.keys(l).map(e=>({id:e,url:l[e]}));a(t.filter(e=>!!e&&!!e.url))},children:(0,m.__)("Check Again","redirection")})]}),v>=100&&_!==Ad&&(e=>{const t=f(e);let n=(0,m.__)("There are some problems connecting to your REST API. It is not necessary to fix these problems and the plugin is able to work.","redirection");return e===Id&&(n=(0,m.__)("Your REST API is not working and the plugin will not be able to continue until this is fixed.","redirection")),(0,d.jsxs)("div",{className:"api-result-log",children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:(0,m.__)("Summary","redirection")}),": ",n]}),!t&&(0,d.jsx)("p",{children:(0,d.jsx)("button",{className:"button-secondary",onClick:h,children:(0,m.__)("Show Problems","redirection")})})]})})(_),b&&g.map((t,n)=>{return(0,d.jsx)(yd,{item:t,result:(r=o,i=t.value,r&&r[i]?r[i]:{}),routes:l,isCurrent:p===t.value,allowChange:e||!1},n);var r,i})]})}function $d(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];if(r&&e[r]&&"ok"===e[r].GET.status&&"ok"===e[r].POST.status)return r}return 0}function Ud({setStep:e,step:t}){let n=null,r=null;try{n=new URL(window.Redirectioni10n.api.WP_API_root),r=new URL(window.Redirectioni10n.pluginBaseUrl)}catch(e){}const i=n&&r&&(n.protocol!==r.protocol||n.host!==r.host),o=de(e=>e.apiTest);return(0,c.useEffect)(()=>()=>{const e=$d(o);window.Redirectioni10n.api.routes[e]&&wt.replaceRootURLMiddleware(window.Redirectioni10n.api.routes[e])},[o]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{children:(0,m.__)("REST API","redirection")}),(0,d.jsx)("p",{children:U((0,m.__)("Redirection uses the {{link}}WordPress REST API{{/link}} to communicate with WordPress. This is enabled and working by default. Sometimes the REST API is blocked by:","redirection"),{link:(0,d.jsx)(z,{url:"https://developer.wordpress.org/rest-api/"})})}),(0,d.jsxs)("ul",{children:[(0,d.jsx)("li",{children:(0,m.__)("A security plugin (e.g Wordfence)","redirection")}),(0,d.jsx)("li",{children:(0,m.__)("A server firewall or other server configuration (e.g OVH)","redirection")}),(0,d.jsx)("li",{children:(0,m.__)("Caching software (e.g Cloudflare)","redirection")}),(0,d.jsx)("li",{children:(0,m.__)("Some other plugin that blocks the REST API","redirection")})]}),(0,d.jsx)("p",{children:U((0,m.__)("If you do experience a problem then please consult your plugin documentation, or try contacting your host support. This is generally {{link}}not a problem caused by Redirection{{/link}}.","redirection"),{link:(0,d.jsx)(z,{url:"https://redirection.me/support/problems/rest-api/"})})}),i&&(0,d.jsxs)("div",{className:"wpl-error",children:[(0,m.__)("You have different URLs configured on your WordPress Settings > General page, which is usually an indication of a misconfiguration, and it can cause problems with the REST API. Please review your settings.","redirection"),(0,d.jsx)("p",{children:(0,d.jsx)("code",{children:n?n.protocol+"//"+n.host:"unknown url"})}),(0,d.jsx)("p",{children:(0,d.jsx)("code",{children:r?r.protocol+"//"+r.host:"unknown url"})})]}),(0,d.jsx)(Md,{allowChange:!1}),(0,d.jsx)("p",{children:(0,m.__)("You will need at least one working REST API to continue.","redirection")}),(0,d.jsx)("div",{className:"wizard-buttons",children:(0,d.jsx)("button",{className:"button-primary button",onClick:()=>e(t+1),children:(0,m.__)("Finish Setup","redirection")})})]})}function Bd(e){return Bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(e)}function Zd(e,t,n){return(t=function(e){var t=function(e){if("object"!=Bd(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Bd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Bd(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Hd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qd(Object(n),!0).forEach(function(t){Zd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Wd=n(500),Gd=n.n(Wd),Vd={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},Qd=["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"];const Kd=function(e){var t=Hd(Hd({},Vd),e),n=t.className,r=t.percent,i=t.prefixCls,o=t.strokeColor,s=t.strokeLinecap,a=t.strokeWidth,l=t.style,u=t.trailColor,d=t.trailWidth,p=t.transition,h=function(e,t){if(null==e)return{};var n,r,i=_(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,Qd);delete h.gapPosition;var f,m,g=Array.isArray(r)?r:[r],y=Array.isArray(o)?o:[o],b=(f=(0,c.useRef)([]),m=(0,c.useRef)(null),(0,c.useEffect)(function(){var e=Date.now(),t=!1;f.current.forEach(function(n){if(n){t=!0;var r=n.style;r.transitionDuration=".3s, .3s, .3s, .06s",m.current&&e-m.current<100&&(r.transitionDuration="0s, 0s")}}),t&&(m.current=Date.now())}),f.current),x=a/2,w=100-a/2,j="M ".concat("round"===s?x:0,",").concat(x,"\n         L ").concat("round"===s?w:100,",").concat(x),S="0 0 100 ".concat(a),k=0;return c.createElement("svg",v({className:Gd()("".concat(i,"-line"),n),viewBox:S,preserveAspectRatio:"none",style:l},h),c.createElement("path",{className:"".concat(i,"-line-trail"),d:j,strokeLinecap:s,stroke:u,strokeWidth:d||a,fillOpacity:"0"}),g.map(function(e,t){var n=1;switch(s){case"round":n=1-a/100;break;case"square":n=1-a/2/100;break;default:n=1}var r={strokeDasharray:"".concat(e*n,"px, 100px"),strokeDashoffset:"-".concat(k,"px"),transition:p||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},o=y[t]||y[y.length-1];return k+=e,c.createElement("path",{key:t,className:"".concat(i,"-line-path"),d:j,strokeLinecap:s,stroke:o,strokeWidth:a,fillOpacity:"0",ref:function(e){b[t]=e},style:r})}))};"undefined"==typeof window||!window.document||window.document.createElement;const Jd=function({message:e,prevent:t=!0}){const n=(0,c.useRef)();return(0,c.useEffect)(()=>{n.current=t=>(t.returnValue=e,t.returnValue)},[e]),(0,c.useEffect)(()=>{if(!t||!n.current)return;const e=e=>{if(n.current)return n.current(e)};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[t]),null};function Yd({onRetry:e}){return(0,d.jsxs)("div",{className:"redirection-database_error wpl-error",children:[(0,d.jsx)("h3",{children:(0,m.__)("Database problem","redirection")}),(0,d.jsx)("p",{children:(0,d.jsx)("button",{className:"button button-primary",onClick:e,children:(0,m.__)("Try again","redirection")})})]})}function Xd({onRetry:e,error:t}){const{current:n,next:r,debug:i,reason:o}=de(e=>e.database),{mutate:s}=Od(),a=function(e,t,n,r){return[e?"Message: "+e:null,"Installed: "+t,"Next: "+n,r.length>0?"Debug: "+r.join("\n"):null].filter(e=>e).join("\n")}(o,n,r,i),c="mailto:john@redirection.me?subject=Redirection%20Database&body="+encodeURIComponent("Redirection: "+window.Redirectioni10n.versions);return(0,d.jsxs)("div",{className:"redirection-database_error wpl-error",children:[(0,d.jsx)("h3",{children:(0,m.__)("Database problem","redirection")}),(0,d.jsx)("p",{children:t}),(0,d.jsxs)("p",{children:[(0,d.jsx)("button",{className:"button button-primary",onClick:e,children:(0,m.__)("Try again","redirection")}),"¬†","-"!==n&&(0,d.jsx)("button",{className:"button button-secondary",onClick:function(){s("skip")},children:(0,m.__)("Skip this stage","redirection")}),"¬†","-"!==n&&(0,d.jsx)("button",{className:"button button-secondary",onClick:function(){s("stop")},children:(0,m.__)("Stop upgrade","redirection")})]}),(0,d.jsx)("p",{children:U((0,m.__)("If you want to {{support}}ask for support{{/support}} please include these details:","redirection"),{support:(0,d.jsx)("button",{type:"button",onClick:function(){window.location.href=c}})})}),(0,d.jsx)(N,{readOnly:!0,value:a,rows:15})]})}function ep(e){return"need-update"===e?(0,m.__)("Upgrading Redirection","redirection"):(0,m.__)("Setting up Redirection","redirection")}function tp(e){return"finish-install"===e||"finish-update"===e}function np({children:e}){const t=de(e=>e.database),{status:n,reason:r,result:i,complete:o}=t,s="ok"===i&&!tp(n),{mutate:a}=Od(),l=(0,c.useCallback)(()=>{a("retry")},[a]),u=(0,c.useCallback)(()=>{a("")},[a]);return(0,c.useEffect)(()=>{(function(e,t){return"error"!==t&&"failed"!==t&&("need-install"===e||"need-update"===e)})(n,i)&&setTimeout(()=>{u()},1e3)},[o,n,i,u]),(0,d.jsxs)("div",{className:"redirection-database",children:[(0,d.jsx)(Jd,{message:(0,m.__)("Leaving before the process has completed may cause problems.","redirection"),prevent:"error"!==i&&"failed"!==i&&!tp(n)}),(0,d.jsx)("h1",{children:ep(n)}),(0,d.jsx)("p",{children:(0,m.__)("Please remain on this page until complete.","redirection")}),(0,d.jsxs)("div",{className:"redirection-database_progress",children:[(0,d.jsx)("h3",{children:
// translators: %(complete)d is percentage complete as a number
// translators: %(complete)d is percentage complete as a number
(0,m.sprintf)((0,m.__)("Progress: %(complete)d%%","redirection"),{complete:o})}),(0,d.jsx)(Kd,{percent:o,strokeWidth:4,trailWidth:4,strokeLinecap:"square"}),r&&"ok"===i&&(0,d.jsx)("p",{children:r}),s&&(0,d.jsx)("div",{className:"redirection-database_spinner",children:(0,d.jsx)(vd,{})}),"error"===i&&(0,d.jsx)(Xd,{error:r||"",onRetry:l}),"failed"===i&&(0,d.jsx)(Yd,{error:r||"",onRetry:l}),tp(n)&&e]})]})}function rp({onCancel:e,onComplete:t}){const n=de(e=>e.loadStatus),{mutate:r}=Nd({onSuccess:()=>{t&&t()}});return(0,d.jsxs)("div",{className:"redirection-database",children:[(0,d.jsx)("h1",{children:(0,m.__)("Manual Install","redirection")}),(0,d.jsxs)("p",{children:[(0,m.__)("If your site needs special database permissions, or you would rather do it yourself, you can manually run the following SQL.","redirection")," ",(0,m.__)('Click "Finished! üéâ" when finished.',"redirection")]}),(0,d.jsx)("p",{children:(0,d.jsx)(N,{readOnly:!0,cols:120,value:Redirectioni10n.database.manual.join(";\n\n")+";",spellCheck:!1})}),"error"===n&&(0,d.jsxs)("div",{className:"redirection-database_error wpl-error",children:[(0,d.jsx)("h3",{children:(0,m.__)("Database problem","redirection")}),(0,d.jsx)("p",{children:(0,m.__)("The Redirection database does not appear to exist. Have you run the above SQL?","redirection")})]}),(0,d.jsx)("button",{className:"button button-primary",onClick:function(){r({reason:"database",current:Redirectioni10n.database.next})},type:"button",children:(0,m.__)("Finished! üéâ","redirection")})," ",(0,d.jsx)("button",{className:"button button-secondary",onClick:e,type:"button",children:(0,m.__)("Go back","redirection")}),(0,d.jsx)("p",{children:(0,m.__)("If you do not complete the manual install you will be returned here.","redirection")})]})}function ip({step:e,setStep:t,options:n,setOptions:r}){const{manual:i}=n;return i?(0,d.jsx)(rp,{onCancel:function(){t(0),r({manual:!1})},onComplete:function(){t(e+1)}}):(0,d.jsx)(np,{children:(0,d.jsx)("div",{className:"wizard-buttons",children:(0,d.jsx)("button",{className:"button-primary button",onClick:()=>t(e+1),children:(0,m.__)("Continue","redirection")})})})}const op="wordpress-old-slugs";function sp({setOptions:e,options:t,setStep:n,step:r}){const{importers:i=[op]}=t,{data:o=[]}=ld(),s=o.find(e=>e.id===op),a=o.filter(e=>e.id!==op);function c(t){const n=i.filter(e=>e!==t.target.name);t.target.checked?e({importers:n.concat(t.target.name)}):e({importers:n})}return(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:(0,m.__)("Import Existing Redirects","redirection")}),(0,d.jsx)("p",{children:(0,m.__)("Importing existing redirects from WordPress or other plugins is a good way to get started with Redirection. Check each set of redirects you wish to import.","redirection")}),s&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{children:(0,m.__)("WordPress automatically creates redirects when you change a post URL. Importing these into Redirection will allow you to manage and monitor them.","redirection")}),(0,d.jsx)("ul",{children:(0,d.jsxs)("li",{children:[(0,d.jsx)("input",{id:"wizard-importer-wordpress-old-slugs",type:"checkbox",name:op,onChange:c,checked:i.includes(op)}),(0,d.jsxs)("label",{htmlFor:"wizard-importer-wordpress-old-slugs",children:[s.name," (",s.total,")"]})]})})]}),a.length>0&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{children:(0,m.__)("The following plugins have been detected.","redirection")}),(0,d.jsx)("ul",{children:a.map(e=>{const t=`wizard-importer-${e.id}`;return(0,d.jsxs)("li",{children:[(0,d.jsx)("input",{id:t,type:"checkbox",name:e.id,onChange:c,checked:i.includes(e.id)}),(0,d.jsxs)("label",{htmlFor:t,children:[e.name," (",e.total,")"]})]},e.id)})})]}),(0,d.jsxs)("div",{className:"wizard-buttons",children:[(0,d.jsx)("button",{className:"button-primary button",onClick:()=>n(r+1),children:(0,m.__)("Continue","redirection")}),"¬†",(0,d.jsx)("button",{className:"button",onClick:()=>n(r-1),children:(0,m.__)("Go back","redirection")})]})]})}function ap({step:e,setStep:t,options:n}){const r=ud(),{mutate:i}=r;let o="idle";r.isPending?o="loading":r.isSuccess?o="success":r.isError&&(o="error");const s=(0,c.useCallback)(()=>{i(n.importers)},[i,n.importers]);return(0,c.useEffect)(()=>{s()},[s]),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:(0,m.__)("Import Existing Redirects","redirection")}),"loading"===o&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{children:(0,m.__)("Please wait, importing.","redirection")}),(0,d.jsx)("div",{className:"loader-wrapper loader-textarea",children:(0,d.jsx)("div",{className:"wpl-placeholder__loading"})})]}),("success"===o||"error"===o)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{children:"success"===o?(0,m.__)("Import finished.","redirection"):(0,m.__)("Importing failed.","redirection")}),(0,d.jsxs)("div",{className:"wizard-buttons",children:["error"===o&&(0,d.jsx)("button",{className:"button-secondary button",onClick:s,children:(0,m.__)("Retry","redirection")}),(0,d.jsx)("button",{className:"button-primary button",onClick:()=>t(e+1),children:(0,m.__)("Continue","redirection")})]})]})]})}function cp({options:e}){const t=de(e=>e.apiTest),{mutate:n}=Pd(),{mutate:r}=Rd();return(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:(0,m.__)("Installation Complete","redirection")}),(0,d.jsx)("p",{children:(0,m.__)("Redirection is now installed!","redirection")}),(0,d.jsx)("p",{children:U((0,m.__)("Please take a moment to consult the {{support}}support site{{/support}} for information about how to use Redirection.","redirection"),{support:(0,d.jsx)(z,{url:"https://redirection.me"})})}),(0,d.jsx)("button",{className:"button button-primary",onClick:function(){const{ip:i,log:o,monitor:s}=e.settings,a=$d(t);n({expire_redirect:o?7:-1,expire_404:o?7:-1,ip_logging:i?1:0,rest_api:"number"==typeof a?a:void 0,monitor_types:s?["post","page"]:void 0,monitor_post:s?1:0},{onSuccess:()=>r()})},type:"button",children:(0,m.__)("Ready to begin! üéâ","redirection")})]})}const lp=function(){const[e,t]=(0,c.useState)(0),[n,r]=(0,c.useState)({settings:{log:!1,ip:!1,monitor:!1},importers:[]}),i=de(e=>e.database.status),o=de(e=>e.database.reason),s=function(e){return 2===e?sp:4===e?ip:3===e?Ud:1===e?dd:5===e?ap:6===e?cp:he}(e);return(0,d.jsxs)(d.Fragment,{children:["error"===i&&(0,d.jsx)(Q,{details:J(),errors:o,renderDebug:pe,links:K(),locale:"redirection",children:(0,m.__)("Something went wrong when installing Redirection.","redirection")}),(0,d.jsxs)("div",{className:"wizard-wrapper",children:[0!==e&&3!==e&&(0,d.jsx)("h1",{children:(0,m.__)("Redirection","redirection")}),(0,d.jsx)("div",{className:"wizard",children:(0,d.jsx)(s,{options:n,step:e,setStep:function(e){let r=e;5===e&&0===n.importers.length&&(r=e+1),t(r)},setOptions:e=>r({...n,...e})})})]}),(0,d.jsx)("div",{className:"wizard-support",children:(0,d.jsx)(z,{url:"https://redirection.me/contact/",children:(0,m.__)("I need support!","redirection")})})]})};function up(e){return window.Redirectioni10n.pluginRoot+"&sub=rss&module=1&token="+encodeURIComponent(e)}function dp(e,t){return e.replace(/\/$/,"")+"/"+t.replace(/^\//,"")}function pp(e){const t={};for(const n of e)n&&(t[n.moduleName]||(t[n.moduleName]=[]),t[n.moduleName].push({value:n.id,label:n.name}));return Object.keys(t).map(e=>({label:e,value:t[e]}))}function hp(e,t){const n=window.Redirectioni10n.api.WP_API_nonce;return window.Redirectioni10n.pluginRoot+"&sub=io&export="+encodeURIComponent(e)+"&exporter="+encodeURIComponent(t)+"&_wpnonce="+encodeURIComponent(n)}function fp(e){return"finish-install"===e||"finish-update"===e}function mp(){const{current:e,next:t}=window.Redirectioni10n.database;return e===t?(0,d.jsx)("p",{children:(0,m.__)("A database upgrade is in progress. Please continue to finish.","redirection")}):(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("p",{children:U((0,m.sprintf)(
// translators: %(current)s is the current database version, %(latest)s is the latest database version
// translators: %(current)s is the current database version, %(latest)s is the latest database version
(0,m.__)("Redirection stores data in your database and sometimes this needs upgrading. Your database is at version {{strong}}%(current)s{{/strong}} and the latest is {{strong}}%(latest)s{{/strong}}.","redirection"),{current:window.Redirectioni10n.database.current,latest:window.Redirectioni10n.database.next}),{strong:(0,d.jsx)("strong",{})})})})}function gp(){const{mutate:e}=Nd();function t(){e({reason:"database",current:window.Redirectioni10n.database.next})}return 0===window.Redirectioni10n.database.manual.length?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{children:(0,m.__)("Your site already has the latest SQL.","redirection")+" "+(0,m.__)('Click "Complete Upgrade" when finished.',"redirection")}),(0,d.jsx)("p",{children:(0,d.jsx)("button",{className:"button-primary",onClick:t,children:(0,m.__)("Complete Upgrade","redirection")})})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("p",{children:[(0,m.__)("If your site needs special database permissions, or you would rather do it yourself, you can manually run the following SQL.")," ",(0,m.__)('Click "Complete Upgrade" when finished.',"redirection")]}),(0,d.jsx)("p",{children:(0,d.jsx)(N,{readOnly:!0,cols:120,value:window.Redirectioni10n.database.manual.join(";\n")+";",spellCheck:!1})}),(0,d.jsx)("p",{children:(0,d.jsx)("button",{className:"button-primary",onClick:t,children:(0,m.__)("Complete Upgrade","redirection")})})]})}function yp({onShowUpgrade:e}){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{children:(0,m.__)('Click the "Upgrade Database" button to automatically upgrade the database.',"redirection")}),(0,d.jsx)("p",{children:(0,d.jsx)("input",{className:"button-primary",type:"submit",value:(0,m.__)("Upgrade Database","redirection"),onClick:e})})]})}function vp(){const e=de(e=>e.database.reason),t=de(e=>e.database.status),n=de(e=>e.database.result),{mutate:r}=Rd();return(0,d.jsxs)(d.Fragment,{children:["error"===n&&(0,d.jsx)(Q,{details:J(),errors:e,renderDebug:pe,links:K(),locale:"redirection",children:(0,m.__)("Something went wrong when upgrading Redirection.","redirection")}),(0,d.jsx)("div",{className:"wizard-wrapper",children:(0,d.jsxs)("div",{className:"wizard",children:[(0,d.jsx)(np,{}),fp(t)&&(0,d.jsx)("button",{className:"button button-primary",onClick:function(){r()},children:(0,m.__)("Finished! üéâ","redirection")})]})})]})}function _p({onShowUpgrade:e}){const[t,n]=(0,c.useState)(!1);function r(e){e.preventDefault(),n(!t)}return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h1",{className:"wp-heading-inline",children:(0,m.__)("Upgrade Required","redirection")}),(0,d.jsxs)("div",{className:"wpl-error",children:[(0,d.jsx)("h3",{children:(0,m.__)("Redirection database needs upgrading","redirection")}),mp(),(0,d.jsx)("p",{children:U((0,m.__)("Please make a backup of your Redirection data: {{download}}downloading a backup{{/download}}. If you experience any issues you can import this back into Redirection.","redirection"),{download:(0,d.jsx)(z,{url:hp("all","json")}),import:(0,d.jsx)(z,{url:"https://redirection.me/support/import-export-redirects/"})})}),t?(0,d.jsx)(gp,{}):(0,d.jsx)(yp,{onShowUpgrade:e})]}),(0,d.jsxs)("div",{className:"database-switch",children:[!t&&(0,d.jsx)("button",{type:"button",onClick:r,children:(0,m.__)("Manual Upgrade","redirection")}),t&&(0,d.jsx)("button",{type:"button",onClick:r,children:(0,m.__)("Automatic Upgrade","redirection")})]})]})}function bp({showDatabase:e,onShowUpgrade:t}){return e?(0,d.jsx)(vp,{}):(0,d.jsx)(_p,{onShowUpgrade:t})}class xp extends c.Component{constructor(e){super(e),this.state={error:!1,stack:null,errorInfo:null}}static getDerivedStateFromError(e){return{error:!0,stack:e}}componentDidCatch(e,t){this.setState({error:!0,stack:e,errorInfo:t}),console.error(e,t)}render(){const{error:e,stack:t,errorInfo:n}=this.state,{renderCrash:r,children:i,extra:o}=this.props;return e?r(t,n,o):i}}const wp=xp,jp=({item:e,isCurrent:t,onClick:n,isLast:r,urlBase:i})=>{const o=i+(""===e.value?"":"&sub="+e.value);return(0,d.jsxs)("li",{children:[(0,d.jsx)("a",{className:t?"current":"",href:o,onClick:t=>{t.preventDefault(),n(e.value,o)},children:e.name})," ",!r&&"|","¬†"]})},Sp=(e,t,n)=>e===t.value||e===n&&""===t.value,kp=({onChangePage:e,menu:t,home:n,urlBase:r,currentPage:i})=>t.length<2?null:(0,d.jsx)("div",{className:"subsubsub-container",children:(0,d.jsx)("ul",{className:"subsubsub",children:t.map((o,s)=>(0,d.jsx)(jp,{item:o,isCurrent:Sp(i,o,n),isLast:s===t.length-1,onClick:e,urlBase:r},s))})});let Cp=!1;function Tp({notices:e}){const t=e[e.length-1],n=t?.message??"";return(0,d.jsx)(d.Fragment,{children:n+(e.length>1?" ("+e.length+")":"")})}const Ep=function({notices:e,onClear:t,snackBarViewText:n}){const[r,i]=(0,c.useState)(!1);if((0,c.useEffect)(()=>(e.length>0&&(i(!1),Cp&&clearTimeout(Cp),Cp=setTimeout(()=>i(!0),5e3)),()=>{Cp&&clearTimeout(Cp)}),[e]),0===e.length)return null;function o(){r?i(!1):t()}const s=y("notice","notice-info","wpl-notice",r&&"wpl-notice_shrunk");return(0,d.jsxs)("div",{className:s,onClick:o,onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),o())},role:"button",tabIndex:0,children:[(0,d.jsx)("div",{className:"closer",children:(0,d.jsx)("span",{className:"dashicons dashicons-yes"})}),(0,d.jsx)("p",{children:r?(0,d.jsx)("span",{className:"dashicons dashicons-warning",title:n}):(0,d.jsx)(Tp,{notices:e})})]})};function Pp(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Pp(e[n],t[n]))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n){if(!Object.prototype.hasOwnProperty.call(t,r))return!1;if(!Pp(e[r],t[r]))return!1}return!0}return!1}function Op(e){return function(e){const t=new URLSearchParams(e),n={},r=new Map;t.forEach((e,t)=>{const n=t.replace(/\[\d*\]$/,"");r.has(n)||r.set(n,[]),r.get(n).push({key:t,value:e})});for(const[e,t]of r){const r=t.map(e=>e.value);r.length>1?n[e]=r:1===r.length&&(n[e]=r[0])}return n}(e?e.slice(1):document.location.search.slice(1))}function Rp(e,t,n){const r=Op(n);for(const n in e){const i=Pp(t[n],e[n]);e[n]&&!i||"page"===n?r[n.toLowerCase()]=e[n]:i&&delete r[n.toLowerCase()]}return"?"+function(e){const t=new URLSearchParams;for(const n in e){const r=e[n];if(null!=r)if(Array.isArray(r))if(r.some(e=>"object"==typeof e&&null!==e))t.append(n,JSON.stringify(r));else for(const e of r)null!=e&&t.append(`${n}[]`,String(e));else"object"==typeof r?t.append(n,JSON.stringify(r)):t.append(n,String(r))}return t.toString()}(r)}function Np(e,t){const n=Op(t);return n.sub&&-1!==e.indexOf(n.sub)?n.sub:e[0]}const Ap=function(e){const{page:t,setPage:n,children:r,onPageChange:i,defaultPage:o,baseUrl:s,allowedPages:a}=e,l=(0,c.useRef)(void 0),u=(0,c.useCallback)(()=>{const e=Np(window.Redirectioni10n?.caps?.pages||a);n(e)},[a,n]);return(0,c.useEffect)(()=>(window.addEventListener("popstate",u),()=>{window.removeEventListener("popstate",u)}),[u]),(0,c.useEffect)(()=>{i(),l.current&&l.current!==t&&history.pushState({},"",Rp({sub:t},{sub:o},s)),l.current=t},[s,o,i,t]),(0,d.jsx)(d.Fragment,{children:r})},Ip=function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Md,{}),(0,d.jsx)("h3",{children:(0,m.__)("What do I do next?","redirection")}),(0,d.jsxs)("ol",{children:[(0,d.jsx)("li",{children:U((0,m.__)('Take a look at the {{link}}plugin status{{/link}}. It may be able to identify and "magic fix" the problem.',"redirection"),{link:(0,d.jsx)("a",{href:"?page=redirection.php&sub=support"})})}),(0,d.jsx)("li",{children:U((0,m.__)("{{link}}Caching software{{/link}}, in particular Cloudflare, can cache the wrong thing. Try clearing all your caches.","redirection"),{link:(0,d.jsx)(z,{url:"https://redirection.me/support/problems/cloudflare/"})})}),(0,d.jsx)("li",{children:U((0,m.__)("{{link}}Please temporarily disable other plugins!{{/link}} This fixes so many problems.","redirection"),{link:(0,d.jsx)(z,{url:"https://redirection.me/support/problems/plugins/"})})}),(0,d.jsx)("li",{children:U((0,m.__)("Look at your {{link}}Site Health{{/link}} and resolve any issues.","redirection"),{link:(0,d.jsx)(z,{url:K().siteHealth})})})]})]})};function zp(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{children:(0,m.__)("This error may be caused by a browser extension modifying the page. Please try disabling browser extensions for this page.","redirection")}),(0,d.jsx)("p",{children:(0,m.__)("You can also try using a different browser, or using private/incognito mode.","redirection")})]})}function Fp(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("p",{children:[(0,m.__)("Redirection is not working. Try clearing your browser cache and reloading this page.","redirection"),"¬†",(0,m.__)("If you are using a page caching plugin or service (CloudFlare, OVH, etc) then you can also try clearing that cache.","redirection")]}),(0,d.jsx)("p",{children:U((0,m.__)("If that doesn't help, open your browser's error console and create a {{link}}new issue{{/link}} with the details.","redirection"),{link:(0,d.jsx)(z,{url:"https://github.com/johngodley/redirection/issues"})})})]})}const Dp=function(e,t,n){const r=e?.stack||"",i=function(e,t){if(e&&(e.includes("chrome-extension://")||e.includes("moz-extension://")))return!0;const n=["Failed to execute 'removeChild'","Failed to execute 'insertBefore'","Failed to execute 'appendChild'","The node to be removed is not a child of this node"];if(t)for(const e of n)if(t.includes(e))return!0;return!1}(r,e?.message||"");return(0,d.jsx)(Q,{errors:"",renderDebug:pe,type:"fixed",links:K(),details:J().concat([r,t?.componentStack||""]),locale:"redirection",children:i?(0,d.jsx)(zp,{}):(0,d.jsx)(Fp,{})})},Lp=()=>(0,d.jsx)("div",{className:"wpl-placeholder__container",children:(0,d.jsx)("div",{className:"wpl-placeholder__loading"})}),Mp=function(e){const{isPrimary:t=!1,isSecondary:n=!0,isSubmit:r=!1,isSaving:i=!1,className:o,children:s,disabled:a=!1,isDestructive:c=!1,...l}=e,u=y("button",o,{"button-primary":t,"button-secondary":n,"button-delete":c,"wpl-spinner":i});return(0,d.jsxs)("button",{className:u,disabled:a,type:r?"submit":"button",...l,children:[i&&(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),s]})};var $p=n(795),Up="data-focus-lock",Bp="data-focus-lock-disabled";function Zp(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var qp="undefined"!=typeof window?c.useLayoutEffect:c.useEffect,Hp=new WeakMap;var Wp={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},Gp=function(){return Gp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Gp.apply(this,arguments)};function Vp(e){return e}function Qp(e,t){void 0===t&&(t=Vp);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter(function(e){return e!==i})}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var o=function(){var n=t;t=[],n.forEach(e)},s=function(){return Promise.resolve().then(o)};s(),n={push:function(e){t.push(e),s()},filter:function(e){return t=t.filter(e),n}}}};return i}function Kp(e,t){return void 0===t&&(t=Vp),Qp(e,t)}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var Jp=Kp({},function(e){return{target:e.target,currentTarget:e.currentTarget}}),Yp=Kp(),Xp=Kp(),eh=function(e){void 0===e&&(e={});var t=Qp(null);return t.options=Gp({async:!0,ssr:!1},e),t}({async:!0,ssr:"undefined"!=typeof document}),th=(0,c.createContext)(void 0),nh=[],rh=(0,c.forwardRef)(function(e,t){var n,r,i,o,s,a,l,d=(0,c.useState)(),p=d[0],h=d[1],f=(0,c.useRef)(),m=(0,c.useRef)(!1),g=(0,c.useRef)(null),y=(0,c.useState)({})[1],_=e.children,b=e.disabled,x=void 0!==b&&b,w=e.noFocusGuards,j=void 0!==w&&w,S=e.persistentFocus,k=void 0!==S&&S,C=e.crossFrame,T=void 0===C||C,E=e.autoFocus,P=void 0===E||E,O=(e.allowTextSelection,e.group),R=e.className,N=e.whiteList,A=e.hasPositiveIndices,I=e.shards,z=void 0===I?nh:I,F=e.as,D=void 0===F?"div":F,L=e.lockProps,M=void 0===L?{}:L,$=e.sideCar,U=e.returnFocus,B=void 0!==U&&U,Z=e.focusOptions,q=e.onActivation,H=e.onDeactivation,W=(0,c.useState)({})[0],G=(0,c.useCallback)(function(e){var t=e.captureFocusRestore;if(!g.current){var n,r=null==(n=document)?void 0:n.activeElement;g.current=r,r!==document.body&&(g.current=t(r))}f.current&&q&&q(f.current),m.current=!0,y()},[q]),V=(0,c.useCallback)(function(){m.current=!1,H&&H(f.current),y()},[H]),Q=(0,c.useCallback)(function(e){var t=g.current;if(t){var n=("function"==typeof t?t():t)||document.body,r="function"==typeof B?B(n):B;if(r){var i="object"==typeof r?r:void 0;g.current=null,e?Promise.resolve().then(function(){return n.focus(i)}):n.focus(i)}}},[B]),K=(0,c.useCallback)(function(e){m.current&&Jp.useMedium(e)},[]),J=Yp.useMedium,Y=(0,c.useCallback)(function(e){f.current!==e&&(f.current=e,h(e))},[]),X=v(((n={})[Bp]=x&&"disabled",n[Up]=O,n),M),ee=!0!==j,te=ee&&"tail"!==j,ne=(r=[t,Y],o=i||null,s=function(e){return r.forEach(function(t){return Zp(t,e)})},(a=(0,c.useState)(function(){return{value:o,callback:s,facade:{get current(){return a.value},set current(e){var t=a.value;t!==e&&(a.value=e,a.callback(e,t))}}}})[0]).callback=s,l=a.facade,qp(function(){var e=Hp.get(l);if(e){var t=new Set(e),n=new Set(r),i=l.current;t.forEach(function(e){n.has(e)||Zp(e,null)}),n.forEach(function(e){t.has(e)||Zp(e,i)})}Hp.set(l,r)},[r]),l),re=(0,c.useMemo)(function(){return{observed:f,shards:z,enabled:!x,get active(){return m.current}}},[x,m,z,f]);return u().createElement(c.Fragment,null,ee&&[u().createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:x?-1:0,style:Wp}),A?u().createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:x?-1:1,style:Wp}):null],!x&&u().createElement($,{id:W,sideCar:eh,observed:p,disabled:x,persistentFocus:k,crossFrame:T,autoFocus:P,whiteList:N,shards:z,onActivation:G,onDeactivation:V,returnFocus:Q,focusOptions:Z,noFocusGuards:j}),u().createElement(D,v({ref:ne},X,{className:R,onBlur:J,onFocus:K}),u().createElement(th.Provider,{value:re},_)),te&&u().createElement("div",{"data-focus-guard":!0,tabIndex:x?-1:0,style:Wp}))});rh.propTypes={};const ih=rh;function oh(e,t){return oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oh(e,t)}var sh=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},ah=function(e){return Array.isArray(e)?e:[e]},ch=function(e){return Array.isArray(e)?e[0]:e},lh=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},uh=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},dh=function(e,t){var n=e.get(t);if(void 0!==n)return n;var r=function(e,t){return!e||uh(e)||!function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!(!t||!t.getPropertyValue||"none"!==t.getPropertyValue("display")&&"hidden"!==t.getPropertyValue("visibility"))}(e)&&!function(e){return e.hasAttribute("inert")}(e)&&t(lh(e))}(t,dh.bind(void 0,e));return e.set(t,r),r},ph=function(e,t){var n=e.get(t);if(void 0!==n)return n;var r=function(e,t){return!(e&&!uh(e))||!!gh(e)&&t(lh(e))}(t,ph.bind(void 0,e));return e.set(t,r),r},hh=function(e){return e.dataset},fh=function(e){return"INPUT"===e.tagName},mh=function(e){return fh(e)&&"radio"===e.type},gh=function(e){var t=e.getAttribute("data-no-autofocus");return![!0,"true",""].includes(t)},yh=function(e){var t;return Boolean(e&&(null===(t=hh(e))||void 0===t?void 0:t.focusGuard))},vh=function(e){return!yh(e)},_h=function(e){return Boolean(e)},bh=function(e,t){var n=Math.max(0,e.tabIndex),r=Math.max(0,t.tabIndex),i=n-r,o=e.index-t.index;if(i){if(!n)return 1;if(!r)return-1}return i||o},xh=function(e,t,n){return sh(e).map(function(e,t){var r=function(e){return e.tabIndex<0&&!e.hasAttribute("tabindex")?0:e.tabIndex}(e);return{node:e,index:t,tabIndex:n&&-1===r?(e.dataset||{}).focusGuard?0:-1:r}}).filter(function(e){return!t||e.tabIndex>=0}).sort(bh)},wh=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"].join(","),jh="".concat(wh,", [data-focus-guard]"),Sh=function(e,t){return sh((e.shadowRoot||e).children).reduce(function(e,n){return e.concat(n.matches(t?jh:wh)?[n]:[],Sh(n))},[])},kh=function(e,t){return e.reduce(function(e,n){var r,i=Sh(n,t),o=(r=[]).concat.apply(r,i.map(function(e){return function(e,t){var n;return e instanceof HTMLIFrameElement&&(null===(n=e.contentDocument)||void 0===n?void 0:n.body)?kh([e.contentDocument.body],t):[e]}(e,t)}));return e.concat(o,n.parentNode?sh(n.parentNode.querySelectorAll(wh)).filter(function(e){return e===n}):[])},[])},Ch=function(e,t){return sh(e).filter(function(e){return dh(t,e)}).filter(function(e){return function(e){return!((fh(e)||function(e){return"BUTTON"===e.tagName}(e))&&("hidden"===e.type||e.disabled))}(e)})},Th=function(e,t){return void 0===t&&(t=new Map),sh(e).filter(function(e){return ph(t,e)})},Eh=function(e,t,n){return xh(Ch(kh(e,n),t),!0,n)},Ph=function(e,t){return xh(Ch(kh(e),t),!1)},Oh=function(e,t){return e.shadowRoot?Oh(e.shadowRoot,t):!(void 0===Object.getPrototypeOf(e).contains||!Object.getPrototypeOf(e).contains.call(e,t))||sh(e.children).some(function(e){var n;if(e instanceof HTMLIFrameElement){var r=null===(n=e.contentDocument)||void 0===n?void 0:n.body;return!!r&&Oh(r,t)}return Oh(e,t)})},Rh=function(e){if(void 0===e&&(e=document),e&&e.activeElement){var t=e.activeElement;return t.shadowRoot?Rh(t.shadowRoot):t instanceof HTMLIFrameElement&&function(){try{return t.contentWindow.document}catch(e){return}}()?Rh(t.contentWindow.document):t}},Nh=function(e){return e.parentNode?Nh(e.parentNode):e},Ah=function(e){return ah(e).filter(Boolean).reduce(function(e,t){var n=t.getAttribute(Up);return e.push.apply(e,n?function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var o=e[r].compareDocumentPosition(e[i]);(o&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(i),(o&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(e,n){return!t.has(n)})}(sh(Nh(t).querySelectorAll("[".concat(Up,'="').concat(n,'"]:not([').concat(Bp,'="disabled"])')))):[t]),e},[])},Ih=function(e,t){return void 0===t&&(t=Rh(ch(e).ownerDocument)),!(!t||t.dataset&&t.dataset.focusGuard)&&Ah(e).some(function(e){return Oh(e,t)||function(e,t){return Boolean(sh(e.querySelectorAll("iframe")).some(function(e){return function(e,t){return e===t}(e,t)}))}(e,t)})},zh=function(e,t){e&&("focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus())},Fh=function(e,t){return mh(e)&&e.name?function(e,t){return t.filter(mh).filter(function(t){return t.name===e.name}).filter(function(e){return e.checked})[0]||e}(e,t):e},Dh=function(e){return e[0]&&e.length>1?Fh(e[0],e):e[0]},Lh=function(e,t){return e.indexOf(Fh(t,e))},Mh="NEW_FOCUS",$h=function(e,t,n){var r,i=e.map(function(e){return e.node}),o=Th(i.filter((r=n,function(e){var t,n=null===(t=hh(e))||void 0===t?void 0:t.autofocus;return e.autofocus||void 0!==n&&"false"!==n||r.indexOf(e)>=0})));return o&&o.length?Dh(o):Dh(Th(t))},Uh=function(e,t){return void 0===t&&(t=[]),t.push(e),e.parentNode&&Uh(e.parentNode.host||e.parentNode,t),t},Bh=function(e,t){for(var n=Uh(e),r=Uh(t),i=0;i<n.length;i+=1){var o=n[i];if(r.indexOf(o)>=0)return o}return!1},Zh=function(e,t,n){var r=ah(e),i=ah(t),o=r[0],s=!1;return i.filter(Boolean).forEach(function(e){s=Bh(s||e,e)||s,n.filter(Boolean).forEach(function(e){var t=Bh(o,e);t&&(s=!s||Oh(t,s)?t:Bh(t,s))})}),s},qh=function(e,t){return e.reduce(function(e,n){return e.concat(function(e,t){return Ch((n=e.querySelectorAll("[".concat("data-autofocus-inside","]")),sh(n).map(function(e){return kh([e])}).reduce(function(e,t){return e.concat(t)},[])),t);var n}(n,t))},[])},Hh=function(e,t){var n=Rh(ah(e).length>0?document:ch(e).ownerDocument),r=Ah(e).filter(vh),i=Zh(n||e,e,r),o=new Map,s=Ph(r,o),a=s.filter(function(e){var t=e.node;return vh(t)});if(a[0]){var c,l,u,d=Ph([i],o).map(function(e){return e.node}),p=(c=d,l=a,u=new Map,l.forEach(function(e){return u.set(e.node,e)}),c.map(function(e){return u.get(e)}).filter(_h)),h=p.map(function(e){return e.node}),f=p.filter(function(e){return e.tabIndex>=0}).map(function(e){return e.node}),m=function(e,t,n,r,i){var o=e.length,s=e[0],a=e[o-1],c=yh(r);if(!(r&&e.indexOf(r)>=0)){var l=void 0!==r?n.indexOf(r):-1,u=i?n.indexOf(i):l,d=i?e.indexOf(i):-1;if(-1===l)return-1!==d?d:Mh;if(-1===d)return Mh;var p,h,f=l-u,m=n.indexOf(s),g=n.indexOf(a),y=(p=n,h=new Set,p.forEach(function(e){return h.add(Fh(e,p))}),p.filter(function(e){return h.has(e)})),v=void 0!==r?y.indexOf(r):-1,_=i?y.indexOf(i):v,b=y.filter(function(e){return e.tabIndex>=0}),x=void 0!==r?b.indexOf(r):-1,w=i?b.indexOf(i):x,j=x>=0&&w>=0?w-x:_-v;if(!f&&d>=0)return d;if(0===t.length)return d;var S=Lh(e,t[0]),k=Lh(e,t[t.length-1]);return l<=m&&c&&Math.abs(f)>1?k:l>=g&&c&&Math.abs(f)>1?S:f&&Math.abs(j)>1?d:l<=m?k:l>g?S:f?Math.abs(f)>1?d:(o+d+f)%o:void 0}}(h,f,d,n,t);if(m===Mh){var g=$h(s,f,qh(r,o))||$h(s,h,qh(r,o));return g?{node:g}:void console.warn("focus-lock: cannot find any node to move focus into")}return void 0===m?m:p[m]}},Wh=0,Gh=!1,Vh=function(e,t,n){void 0===n&&(n={});var r=Hh(e,t);if(!Gh&&r){if(Wh>2)return console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),Gh=!0,void setTimeout(function(){Gh=!1},1);Wh++,zh(r.node,n.focusOptions),Wh--}};function Qh(e){if(!e)return null;if("undefined"==typeof WeakRef)return function(){return e||null};var t=e?new WeakRef(e):null;return function(){return(null==t?void 0:t.deref())||null}}var Kh=function(e){var t=function(e){if(!e)return null;for(var t=[],n=e;n&&n!==document.body;)t.push({current:Qh(n),parent:Qh(n.parentElement),left:Qh(n.previousElementSibling),right:Qh(n.nextElementSibling)}),n=n.parentElement;return{element:Qh(e),stack:t,ownerDocument:e.ownerDocument}}(e);return function(){return function(e){var t,n,r,i,o;if(e)for(var s=e.stack,a=e.ownerDocument,c=new Map,l=0,u=s;l<u.length;l++){var d=u[l],p=null===(t=d.parent)||void 0===t?void 0:t.call(d);if(p&&a.contains(p)){for(var h=null===(n=d.left)||void 0===n?void 0:n.call(d),f=d.current(),m=p.contains(f)?f:void 0,g=null===(r=d.right)||void 0===r?void 0:r.call(d),y=Eh([p],c),v=null!==(o=null!==(i=null!=m?m:null==h?void 0:h.nextElementSibling)&&void 0!==i?i:g)&&void 0!==o?o:h;v;){for(var _=0,b=y;_<b.length;_++){var x=b[_];if(null==v?void 0:v.contains(x.node))return x.node}v=v.nextElementSibling}if(y.length)return y[0].node}}}(t)}},Jh=function(e,t,n){void 0===t&&(t={});var r=function(e){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},e)}(t),i=function(e,t,n){if(!e||!t)return console.error("no element or scope given"),{};var r=ah(t);if(r.every(function(t){return!Oh(t,e)}))return console.error("Active element is not contained in the scope"),{};var i=n?Eh(r,new Map):Ph(r,new Map),o=i.findIndex(function(t){return t.node===e});return-1!==o?{prev:i[o-1],next:i[o+1],first:i[0],last:i[i.length-1]}:void 0}(e,r.scope,r.onlyTabbable);if(i){var o=n(i,r.cycle);o&&zh(o.node,r.focusOptions)}},Yh=function(e,t,n){var r,i=function(e,t){var n=t?Eh(ah(e),new Map):Ph(ah(e),new Map);return{first:n[0],last:n[n.length-1]}}(e,null===(r=t.onlyTabbable)||void 0===r||r),o=i[n];o&&zh(o.node,t.focusOptions)};function Xh(e){setTimeout(e,1)}var ef=function(e){return e&&"current"in e?e.current:e},tf=function(){return document&&document.activeElement===document.body},nf=null,rf=null,of=function(){return null},sf=null,af=!1,cf=!1,lf=function(){return!0};function uf(e,t,n,r){var i=null,o=e;do{var s=r[o];if(s.guard)s.node.dataset.focusAutoGuard&&(i=s);else{if(!s.lockItem)break;if(o!==e)return;i=null}}while((o+=n)!==t);i&&(i.node.tabIndex=0)}var df=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},pf=function(e){return Ph(e,new Map)},hf=function(){var e,t,n,r,i,o,s,a=!1;if(nf){var c=nf,l=c.observed,u=c.persistentFocus,d=c.autoFocus,p=c.shards,h=c.crossFrame,f=c.focusOptions,m=c.noFocusGuards,g=l||sf&&sf.portaledElement;if(tf()&&rf&&rf!==document.body&&(!document.body.contains(rf)||!pf([(s=rf).parentNode]).some(function(e){return e.node===s}))){var y=of();y&&y.focus()}var v=document&&document.activeElement;if(g){var _=[g].concat(p.map(ef).filter(Boolean));if(v&&!function(e){return(nf.whiteList||lf)(e)}(v)||(u||function(){if(!(h?Boolean(af):"meanwhile"===af)||!m||!rf||cf)return!1;var e=pf(_),t=e.findIndex(function(e){return e.node===rf});return 0===t||t===e.length-1}()||!(tf()||function(e){void 0===e&&(e=document);var t=Rh(e);return!!t&&sh(e.querySelectorAll("[".concat("data-no-focus-lock","]"))).some(function(e){return Oh(e,t)})}())||!rf&&d)&&(g&&!(Ih(_)||v&&function(e,t){return t.some(function(t){return df(e,t,t)})}(v,_)||(o=v,sf&&sf.portaledElement===o))&&(document&&!rf&&v&&!d?(v.blur&&v.blur(),document.body.focus()):(a=Vh(_,rf,{focusOptions:f}),sf={})),(rf=document&&document.activeElement)!==document.body&&(of=Kh(rf)),af=!1),document&&v!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var b=document&&document.activeElement,x=(t=Ah(e=_).filter(vh),n=Zh(e,e,t),r=xh(kh([n],!0),!0,!0),i=kh(t,!1),r.map(function(e){var t=e.node;return{node:t,index:e.index,lockItem:i.indexOf(t)>=0,guard:yh(t)}})),w=x.map(function(e){return e.node}).indexOf(b);w>-1&&(x.filter(function(e){var t=e.guard,n=e.node;return t&&n.dataset.focusAutoGuard}).forEach(function(e){return e.node.removeAttribute("tabIndex")}),uf(w,x.length,1,x),uf(w,-1,-1,x))}}}return a},ff=function(e){hf()&&e&&(e.stopPropagation(),e.preventDefault())},mf=function(){return Xh(hf)},gf=function(){cf=!0},yf=function(){cf=!1,af="just",Xh(function(){af="meanwhile"})},vf={moveFocusInside:Vh,focusInside:Ih,focusNextElement:function(e,t){void 0===t&&(t={}),Jh(e,t,function(e,t){var n=e.next,r=e.first;return n||t&&r})},focusPrevElement:function(e,t){void 0===t&&(t={}),Jh(e,t,function(e,t){var n=e.prev,r=e.last;return n||t&&r})},focusFirstElement:function(e,t){void 0===t&&(t={}),Yh(e,t,"first")},focusLastElement:function(e,t){void 0===t&&(t={}),Yh(e,t,"last")},captureFocusRestore:Kh};Jp.assignSyncMedium(function(e){var t=e.target,n=e.currentTarget;n.contains(t)||(sf={observerNode:n,portaledElement:t})}),Yp.assignMedium(mf),Xp.assignMedium(function(e){return e(vf)});const _f=(bf=function(e){return e.filter(function(e){return!e.disabled})},xf=function(e){var t=e.slice(-1)[0];t&&!nf&&(document.addEventListener("focusin",ff),document.addEventListener("focusout",mf),window.addEventListener("focus",gf),window.addEventListener("blur",yf));var n=nf,r=n&&t&&t.id===n.id;nf=t,n&&!r&&(n.onDeactivation(),e.filter(function(e){return e.id===n.id}).length||n.returnFocus(!t)),t?(rf=null,r&&n.observed===t.observed||t.onActivation(vf),hf(),Xh(hf)):(document.removeEventListener("focusin",ff),document.removeEventListener("focusout",mf),window.removeEventListener("focus",gf),window.removeEventListener("blur",yf),rf=null)},function(e){var t,n=[];function r(){t=bf(n.map(function(e){return e.props})),xf(t)}var i=function(i){function o(){return i.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,oh(e,t)}(o,i),o.peek=function(){return t};var s=o.prototype;return s.componentDidMount=function(){n.push(this),r()},s.componentDidUpdate=function(){r()},s.componentWillUnmount=function(){var e=n.indexOf(this);n.splice(e,1),r()},s.render=function(){return u().createElement(e,this.props)},o}(c.PureComponent);return Zd(i,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(e)+")"),i})(function(){return null});var bf,xf,wf=(0,c.forwardRef)(function(e,t){return u().createElement(ih,v({sideCar:_f,ref:t},e))}),jf=ih.propTypes||{};jf.sideCar,_(jf,["sideCar"]),wf.propTypes={};const Sf=wf;function kf(e){if(null===e)return null;const{left:t,top:n,height:r}=e;return{left:t,top:n+r}}function Cf(e,t){return t?{...e,width:t.getBoundingClientRect().width}:e}function Tf({style:e,align:t}){const n=y("wpl-popover__arrows",{"wpl-popover__arrows__left":"left"===t,"wpl-popover__arrows__right":"right"===t,"wpl-popover__arrows__centre":"centre"===t});return(0,d.jsx)("div",{className:n,style:e})}const Ef=function(e){const{position:t,children:n,popoverPosition:r,align:i,valign:o,hasArrow:s}=e,[a,l]=(0,c.useState)({arrow:{},content:{visibility:"hidden",...t}}),u=(0,c.useCallback)(e=>{if(e){const n=function(e,t,n,r,i,o){if(null===e||null===t)return{};if(!i)return{...e,visibility:"hidden"};const s=e.width?e.width:i.getBoundingClientRect().width,a=t.parentWidth-s-20,c=function(e,t,n,r){return"right"===r?e+t-n:"centre"===r?e-n/2:e}(t.left,t.width,e.width?e.width:s,n);return{...e,left:Math.min(a,c),top:o?e.top+5:e.top}}(t,r,i,0,e,!!s);l({content:n,arrow:Cf(n,e)})}},[t,r,i,o,s]);return(0,d.jsxs)(d.Fragment,{children:[s&&(0,d.jsx)(Tf,{style:a.arrow,align:i}),(0,d.jsx)("div",{className:"wpl-popover__content",style:{...a.content,visibility:t&&t.left?"visible":"hidden",...null!==e.style?e.style:{}},ref:u,children:n})]})};function Pf(e,t){if(!t)return!1;const n=e.target;return!(n&&t.contains(n)||"keydown"===e.type||n&&(n.closest(".wpl-dropdowntext__suggestions")||n.closest(".wpl-multioption")))}function Of(e){const t=(0,c.useRef)(null),{children:n,onOutside:r,className:i}=e,o=(0,c.useCallback)(e=>{(Pf(e,t.current)||"key"in e&&"Escape"===e.key)&&r(e)},[r]);return(0,c.useEffect)(()=>(addEventListener("mousedown",o),addEventListener("keydown",o),()=>{removeEventListener("mousedown",o),removeEventListener("keydown",o)}),[o]),(0,d.jsx)("div",{className:i,ref:t,children:n})}function Rf(e){let t=document.getElementById(e);if(null===t){const n=document.getElementById("wpbody");t=document.createElement("div"),n&&n.parentNode&&(t.setAttribute("id",e),n.parentNode.appendChild(t))}return t}function Nf(e,t="bottom"){const n=document.getElementById("wpwrap");if(null===e||null===n)return null;const r=n.getBoundingClientRect(),{height:i,width:o,left:s,top:a}=e.getBoundingClientRect();return{left:"bottom"===t?s-r.left:s+o/2-r.left-7,top:a-r.top+1,width:o,height:i,parentWidth:r.width,parentHeight:r.height,ref:e}}const Af=function(e){const{children:t,className:n,align:r="left",valign:i="bottom",onClose:o,hasArrow:s=!1,popoverPosition:a,style:l=null,focusLock:u=!0}=e;return(0,c.useEffect)(()=>(window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}),[o]),(0,$p.createPortal)((0,d.jsx)(Of,{className:y("wpl-popover",n),onOutside:e=>{a&&!1===Pf(e,a.ref)&&"Escape"!==e.key||o()},children:(0,d.jsx)(Sf,{returnFocus:!0,disabled:!u,children:(0,d.jsx)(Ef,{position:kf(a),popoverPosition:a,align:r,hasArrow:s,valign:i,style:l,children:t})})}),Rf("wpl-dropdown-portal")||document.body)},If=function(e){const{renderContent:t,className:n,renderToggle:r,align:i="left",valign:o="bottom",hasArrow:s=!1,matchMinimum:a=!1,disabled:l=!1,onClose:u}=e,[p,h]=(0,c.useState)(!1),[f,m]=(0,c.useState)(null),g=(0,c.useRef)(null);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:y("wpl-popover__toggle",n,l&&"wpl-popover__toggle__disabled"),ref:g,children:r(p,e=>{if(!g.current)return;const t=Nf(g.current,o);e?.stopPropagation(),l||(m(t),h(!p))})}),p&&f&&(0,d.jsx)(Af,{align:i,valign:o,hasArrow:s,...void 0!==n?{className:n}:{},onClose:function(){h(!1),u?.()},popoverPosition:f,...a&&f.width?{style:{minWidth:`${f.width}px`}}:{},children:t(()=>h(!1))})]})};function zf({option:e,onChange:t,isSelected:n,optionsType:r="checkbox",name:i}){const{value:o,disabled:s=!1,label:a}=e,c="radio"===r?`multi_${o}`:`multi_${i}_${o}`;return(0,d.jsxs)("p",{children:[(0,d.jsx)("input",{id:c,type:r,name:i||o,value:o,onChange:e=>t(i,o,"checkbox"!==r||e.target.checked),checked:n(i,o),disabled:s,tabIndex:0}),(0,d.jsx)("label",{"aria-label":e.label,htmlFor:c,children:a})]})}const Ff=function(e){const{option:t,optionsType:n,onChange:r,isSelected:i}=e,{options:o=[],label:s,value:a}=t;return(0,d.jsxs)("div",{className:"wpl-multioption__group",children:[(0,d.jsx)("h5",{children:s}),o.map((e,t)=>(0,d.jsx)(zf,{option:e,isSelected:i,onChange:r,name:a||e.value,optionsType:n},t))]})},Df=function(e){const{option:t,isSelected:n,onChange:r}=e;if(t.options){const{optionsType:e="checkbox"}=t;return(0,d.jsx)(Ff,{option:t,optionsType:e,isSelected:n,onChange:r})}const i=t.value||"";return(0,d.jsx)(zf,{option:{label:t.label,value:i,disabled:t.disabled??!1,default:t.default??!1},isSelected:n,onChange:r,optionsType:"checkbox",name:i})},Lf=e=>{const{children:t,className:n,onClick:r,title:i="",onCancel:o,disabled:s=!1,small:a=!1}=e,c={title:i,onClick:r};return(0,d.jsxs)("div",{className:y("wpl-badge",n,{"wpl-badge__click":r,"wpl-badge__small":a,"wpl-badge__disabled":s}),...c,children:[(0,d.jsx)("div",{className:"wpl-badge__content",children:t}),o&&(0,d.jsx)("div",{className:"wpl-badge__close dashicons dashicons-no-alt",onClick:e=>{e.preventDefault(),!s&&o&&o(e)},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),!s&&o&&o(e))},role:"button",tabIndex:0})]})};function Mf(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r){if(r.value===t)return r;if(r.options){const e=Mf(r.options,t);if(e)return e}}}return null}function $f(e,t){return e&&t?{title:e.badge||e.label,default:e.default??!1,onRemove:n=>{if(e.value===t.value)return n(e.value||"",e.value||"",!1);const r=(t.options||[]).find(e=>e.default);r?n(t.value||"",r.value,!0):n(t.value||"",e.value||"",!1)}}:null}function Uf(e){const t=Mf(e,""),n=$f(t,t);return n?[n]:[]}function Bf({selected:e,title:t,options:n,showBadges:r,onChange:i,disabled:o}){let s;if(s=function(e){return Array.isArray(e)?-1!==e.indexOf(""):Boolean(e?.[""])}(e)&&n.length>0?Uf(n):Array.isArray(e)?function(e,t){return-1!==e.indexOf("")?Uf(t):e.map(e=>{const n=Mf(t,e);return $f(n,n)}).filter(e=>null!==e)}(e,n):function(e,t){return Object.keys(e).map(n=>{const r=Mf(t,n);return"string"==typeof e[n]?$f(Mf(t,e[n]),r):e[n]?$f(r,r):null}).filter(e=>null!==e).filter(e=>e&&!0!==e.default)}(e,n),s.length>0&&r){const e=s.slice(0,3).map((e,t)=>e?(0,d.jsx)(Lf,{small:!0,onCancel:t=>function(e,t){e.preventDefault(),e.stopPropagation(),t.onRemove(i)}(t,e),disabled:o,children:e.title},t):null);return s.length>3?e.concat([(0,d.jsx)("span",{children:"..."},"end")]):e}return t.length>0&&(!r||0===s.length)?(0,d.jsx)("h5",{children:t}):null}const Zf=function({onClick:e}){return(0,d.jsx)("svg",{height:"20",width:"20",viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",onClick:e,children:(0,d.jsx)("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"})})},qf=function(e){const{options:t,selected:n,onChange:r,title:i="",badges:o=!1,disabled:s=!1,className:a,asObject:c=!1}=e;function l(e,t){if(c){const r=n;return e===t?Boolean(r[t]):r[e]===t}return-1!==n.indexOf(t)}function u(e,t,i){if(c)r({...n,[e]:e===t?i:t});else{const o=n,s=e===t?e:t;r(i?[...o,s]:o.filter(e=>e!==s))}}return(0,d.jsx)(If,{renderToggle:(e,r)=>(0,d.jsxs)("div",{className:y("action","wpl-multioption__button",s&&"wpl-multioption__disabled",e?"wpl-multioption__button_enabled":null),onClick:r,tabIndex:0,"aria-label":i||"",children:[(0,d.jsx)(Bf,{selected:n,title:i,showBadges:o,options:t,disabled:s,onChange:u}),(0,d.jsx)(Zf,{})]}),disabled:s,align:"right",matchMinimum:!0,renderContent:()=>(0,d.jsx)("div",{className:y("wpl-multioption",a),children:t.map((e,t)=>(0,d.jsx)(Df,{option:e,isSelected:l,onChange:u},t))})})},Hf=function({level:e="notice",children:t,className:n}){return(0,d.jsx)("div",{className:y(`inline-notice inline-${e}`,n),children:t})},Wf=()=>[{value:-1,label:(0,m.__)("No logs","redirection")},{value:1,label:(0,m.__)("A day","redirection")},{value:7,label:(0,m.__)("A week","redirection")},{value:30,label:(0,m.__)("A month","redirection")},{value:60,label:(0,m.__)("Two months","redirection")},{value:0,label:(0,m.__)("Forever","redirection")}],Gf=function(e){const{settings:t,onChange:n,getLink:r}=e,{expire_redirect:i,expire_404:o,ip_logging:s,log_external:a,track_hits:c,log_header:l,ip_proxy:u=[],ip_headers:p=[]}=t;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("tr",{className:"redirect-option__row",children:(0,d.jsx)("th",{colSpan:2,children:(0,d.jsx)("h2",{className:"title",children:(0,m.__)("Logs","redirection")})})}),(0,d.jsxs)(_d,{title:(0,m.__)("Redirect Logs","redirection")+":",url:r("logs"),children:[(0,d.jsx)(jd,{items:Wf(),name:"expire_redirect",value:String(i),onChange:n})," ",(0,m.__)("(time to keep logs for)","redirection")]}),(0,d.jsxs)(_d,{title:(0,m.__)("404 Logs","redirection")+":",url:r("tracking-404-errors"),children:[(0,d.jsx)(jd,{items:Wf(),name:"expire_404",value:String(o),onChange:n})," ",(0,m.__)("(time to keep logs for)","redirection")]}),(0,d.jsxs)(_d,{title:(0,m.__)("IP Logging","redirection")+":",url:r("options","iplogging"),children:[(0,d.jsx)(jd,{items:[{value:0,label:(0,m.__)("No IP logging","redirection")},{value:1,label:(0,m.__)("Full IP logging","redirection")},{value:2,label:(0,m.__)("Anonymize IP (mask last part)","redirection")}],name:"ip_logging",value:String(s),onChange:n})," ",(0,m.__)("(IP logging level)","redirection")]}),(0,d.jsxs)(_d,{title:(0,m.__)("IP Address","redirection")+":",url:r("options","ipaddress"),children:[(0,d.jsx)(qf,{options:[{value:"HTTP_CF_CONNECTING_IP",label:"HTTP_CF_CONNECTING_IP"},{value:"HTTP_CLIENT_IP",label:"HTTP_CLIENT_IP"},{value:"HTTP_X_FORWARDED_FOR",label:"HTTP_X_FORWARDED_FOR"},{value:"HTTP_X_FORWARDED",label:"HTTP_X_FORWARDED"},{value:"HTTP_X_CLUSTER_CLIENT_IP",label:"HTTP_X_CLUSTER_CLIENT_IP"},{value:"HTTP_FORWARDED_FOR",label:"HTTP_FORWARDED_FOR"},{value:"HTTP_FORWARDED",label:"HTTP_FORWARDED"},{value:"HTTP_VIA",label:"HTTP_VIA"}],selected:p,multiple:!0,badges:p.length>0,hideTitle:p.length>0,onChange:e=>n({ip_headers:e}),title:0===p.length?(0,m.__)("REMOTE_ADDR","redirection"):""}),(0,d.jsx)("p",{children:U((0,m.__)("Only set custom IP headers if your server does not use <code>REMOTE_ADDR</code> to store the client IP address.","redirection"),{code:(0,d.jsx)("code",{})})}),p.length>0&&(0,d.jsx)(Hf,{level:"warning",children:(0,d.jsx)("p",{children:U((0,m.__)("Please ensure you trust the data in these headers. If using a proxy then set its address below.","redirection"),{code:(0,d.jsx)("code",{})})})})]}),p.length>0&&(0,d.jsxs)(_d,{title:(0,m.__)("Proxy Address","redirection")+":",url:r("options","proxy"),children:[(0,d.jsx)(N,{minRows:3,value:u.join("\n"),onChange:e=>n({ip_proxy:e.target.value.split("\n")}),rows:5}),(0,d.jsx)("p",{children:(0,m.__)("If using a proxy then add any IP addresses here to only trust IP headers from those addresses.","redirection")})]}),(0,d.jsxs)(_d,{title:(0,m.__)("Logging","redirection")+":",url:r("options","iplogging"),children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("input",{id:"log-options-log-external",type:"checkbox",disabled:-1===parseInt(i.toString(),10),name:"log_external",onChange:n,checked:-1!==parseInt(i.toString(),10)&&a}),(0,d.jsx)("label",{htmlFor:"log-options-log-external",children:(0,m.__)('Log "external" redirects - those not from Redirection. This can increase your log size and contains no user information.',"redirection")})]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("input",{id:"log-options-track-hits",type:"checkbox",name:"track_hits",onChange:n,checked:c}),(0,d.jsx)("label",{htmlFor:"log-options-track-hits",children:(0,m.__)("Track redirect hits and date of last access. Contains no user information.","redirection")})]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("input",{id:"log-options-log-header",type:"checkbox",name:"log_header",onChange:n,checked:l}),(0,d.jsx)("label",{htmlFor:"log-options-log-header",children:(0,m.__)("Capture HTTP header information with logs (except cookies). It may include user information, and could increase your log size.","redirection")})]})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{}),(0,d.jsx)("td",{children:U((0,m.__)("Redirection stores no user identifiable information other than what is configured above. It is your responsibility to ensure your site meets any applicable {{link}}privacy requirements{{/link}}.","redirection"),{link:(0,d.jsx)(z,{url:r("privacy-gdpr")})})})]})]})};function Vf(e,t,n){const r=[];for(const i in e){const o=e[i],s=!!t.find(e=>e===i);o&&r.push((0,d.jsxs)("p",{children:[(0,d.jsx)("input",{id:"monitor-type-"+i,type:"checkbox",name:"monitor_type_"+i,onChange:n,checked:s}),(0,d.jsx)("label",{htmlFor:"monitor-type-"+i,children:(0,m.sprintf)(
// translators: %(type)s is the post type name (e.g. post, page)
// translators: %(type)s is the post type name (e.g. post, page)
(0,m.__)("Monitor changes to %(type)s","redirection"),{type:o.toLowerCase()})})]},i))}return r}function Qf(e,t){return 0===parseInt(e.toString(),10)&&t.length>0?t.length>0&&t[0]?Array.isArray(t[0].value)?t[0].value[0]?.value||0:t[0].value:0:e}const Kf=function(e){const{onChange:t,settings:n,groups:r,getLink:i,postTypes:o}=e,{associated_redirect:s,monitor_post:a,monitor_types:c}=n,l=c.length>0;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(_d,{title:(0,m.__)("URL Monitor","redirection")+":",url:i("options","monitor"),children:Vf(o,c,function(e){const n=e.target.name.replace("monitor_type_",""),i=c.filter(e=>e!==n);e.target.checked&&i.push(n),t({monitor_types:i,monitor_post:i.length>0?Qf(a,r):0,associated_redirect:i.length>0?s:""})})}),l&&(0,d.jsxs)(_d,{title:(0,m.__)("URL Monitor Changes","redirection")+":",url:i("options","monitor"),children:[(0,d.jsx)(jd,{items:r,name:"monitor_post",value:String(a),onChange:t}),"¬†",(0,m.__)("Save changes to this group","redirection"),(0,d.jsxs)("p",{children:[(0,d.jsx)("input",{type:"text",className:"regular-text",name:"associated_redirect",onChange:t,placeholder:(0,m.__)('For example "/amp"',"redirection"),value:s}),"¬†",(0,m.__)("Create associated redirect (added to end of URL)","redirection")]})]})]})},Jf=function(e){const{settings:t,onChange:n,getLink:r,groups:i,postTypes:o}=e,{flag_case:s,flag_trailing:a,flag_query:c,auto_target:l,redirect_cache:u,cache_key:p}=t;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("tr",{className:"redirect-option__row",children:(0,d.jsx)("th",{colSpan:2,children:(0,d.jsx)("h2",{className:"title",children:(0,m.__)("URL","redirection")})})}),(0,d.jsx)(Kf,{settings:t,onChange:n,groups:i,getLink:r,postTypes:o}),(0,d.jsxs)(_d,{title:(0,m.__)("Default URL settings","redirection")+":",url:r("options","urlsettings"),children:[(0,d.jsx)("p",{children:(0,m.__)("Applies to all redirections unless you configure them otherwise.","redirection")}),(0,d.jsxs)("p",{children:[(0,d.jsx)("input",{type:"checkbox",id:"url-options-flag-case",name:"flag_case",onChange:n,checked:s}),(0,d.jsx)("label",{htmlFor:"url-options-flag-case",children:U((0,m.__)("Case insensitive matches (i.e. {{code}}/Exciting-Post{{/code}} will match {{code}}/exciting-post{{/code}})","redirection"),{code:(0,d.jsx)("code",{})})})]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("input",{type:"checkbox",id:"url-options-flag-trailing",name:"flag_trailing",onChange:n,checked:a}),(0,d.jsx)("label",{htmlFor:"url-options-flag-trailing",children:U((0,m.__)("Ignore trailing slashes (i.e. {{code}}/exciting-post/{{/code}} will match {{code}}/exciting-post{{/code}})","redirection"),{code:(0,d.jsx)("code",{})})})]})]}),(0,d.jsxs)(_d,{title:(0,m.__)("Default query matching","redirection")+":",url:r("options","querysettings"),children:[(0,d.jsx)("p",{children:(0,m.__)("Applies to all redirections unless you configure them otherwise.","redirection")}),(0,d.jsx)("p",{children:(0,d.jsx)(jd,{items:[{value:"exact",label:(0,m.__)("Exact match in any order","redirection")},{value:"ignore",label:(0,m.__)("Ignore all query parameters","redirection")},{value:"pass",label:(0,m.__)("Ignore and pass all query parameters","redirection")}],name:"flag_query",value:c,onChange:n})}),(0,d.jsxs)("ul",{children:[(0,d.jsx)("li",{children:(0,m.__)("Exact - matches the query parameters exactly defined in your source, in any order","redirection")}),(0,d.jsx)("li",{children:(0,m.__)("Ignore - as exact, but ignores any query parameters not in your source","redirection")}),(0,d.jsx)("li",{children:(0,m.__)("Pass - as ignore, but also copies the query parameters to the target","redirection")})]})]}),(0,d.jsxs)(_d,{title:(0,m.__)("Auto-generate URL","redirection")+":",url:r("options","autogenerate"),children:[(0,d.jsx)("input",{className:"regular-text",type:"text",value:l,name:"auto_target",onChange:n}),(0,d.jsx)("br",{}),(0,d.jsx)("span",{className:"sub",children:U((0,m.__)("Used to auto-generate a URL if no URL is given. Use the special tags {{code}}$dec${{/code}} or {{code}}$hex${{/code}} to insert a unique ID instead","redirection"),{code:(0,d.jsx)("code",{})})})]}),(0,d.jsxs)(_d,{title:(0,m.__)("HTTP Cache Header","redirection"),url:r("options","cache"),children:[(0,d.jsx)(jd,{items:[{value:-1,label:(0,m.__)("Never cache","redirection")},{value:1,label:(0,m.__)("An hour","redirection")},{value:24,label:(0,m.__)("A day","redirection")},{value:168,label:(0,m.__)("A week","redirection")},{value:0,label:(0,m.__)("Forever","redirection")}],name:"redirect_cache",value:String(u),onChange:n})," ","¬†",(0,d.jsx)("span",{className:"sub",children:(0,m.__)('How long to cache redirected 301 URLs (via "Expires" HTTP header)',"redirection")})]}),(0,d.jsxs)(_d,{title:(0,m.__)("Redirect Caching","redirection"),url:r("options","cache"),children:[(0,d.jsx)("input",{id:"url-options-cache-key",type:"checkbox",name:"cache_key",onChange:n,checked:0!==p&&!1!==p}),"¬†",(0,d.jsx)("label",{htmlFor:"url-options-cache-key",children:(0,d.jsx)("span",{className:"sub",children:(0,m.__)("(beta) Enable caching of redirects via WordPress object cache. Can improve performance. Requires an object cache.","redirection")})})]})]})},Yf=Fl({source:Fl({flag_regex:ul(),flag_trailing:ul(),flag_case:ul(),flag_query:ic()}).optional(),options:Kl(ic(),kl()).optional()}),Xf=Fl({id:nl().int(),url:ic(),match_url:ic().optional(),match_type:ic(),action_type:ic(),action_code:nl().int(),action_data:kl(),match_data:Yf.optional(),group_id:nl().int(),title:ic(),position:nl().int().nonnegative(),regex:ul().optional(),last_access:ic().optional(),enabled:ul().optional(),hits:nl().int().nonnegative().optional()}),em=(Fl({url:ic().min(1,"Source URL is required"),title:ic().optional(),match_type:ic(),action_type:ic(),action_code:nl().int().min(100).max(599).optional(),action_data:kl().optional(),match_data:Yf.optional(),group_id:nl().int().positive(),position:nl().int().nonnegative().default(0),enabled:ul().optional()}).partial().extend({id:nl().int()}),Fl({items:Al(nl().int()),action:iu(["delete","enable","disable","reset"])}),Fl({id:nl().int(),name:ic(),redirects:nl().int().nonnegative(),module_id:nl().int(),moduleName:ic().optional(),enabled:ul()})),tm=(Fl({name:ic().min(1,"Group name is required"),moduleId:nl().int().positive(),position:nl().int().nonnegative().default(0),enabled:ul().optional()}).partial().extend({id:nl().int()}),Fl({page:nl().int().nonnegative(),per_page:nl().int().positive().max(100),orderby:ic(),direction:iu(["asc","desc"]),selected:Al($l([nl(),ic()])),selectAll:ul().optional(),displayType:ic().optional(),displaySelected:Al(ic()).optional(),filterBy:Kl(ic(),ic()).optional(),groupBy:ic().optional()})),nm=e=>Fl({items:Al(e),total:nl().int().nonnegative(),table:tm.optional()}),rm=(Fl({item:kl(),items:Al(kl()).optional(),total:nl().int().nonnegative().optional()}),Fl({code:$l([ic(),nl()]).optional(),message:ic().optional(),data:kl().optional(),jsonData:kl().optional(),request:Fl({url:ic(),method:ic()}).optional()}),nm(Xf)),im=Fl({item:Xf}),om=nm(em),sm=Fl({item:em}),am=(Fl({deleted:nl().int().nonnegative().optional(),updated:nl().int().nonnegative().optional(),items:Al(kl()).optional(),total:nl().int().nonnegative().optional()}),["selected","selectAll","displayType","displaySelected"]);function cm(e){const t={};for(const n in e){const r=e[n];am.includes(n)||null!=r&&("object"!=typeof r||Array.isArray(r)||0!==Object.keys(r).length)&&(Array.isArray(r)&&0===r.length||"string"==typeof r&&""===r.trim()||(t[n]=r))}return t}function lm(e={},t){const n=cm(e);return ct({queryKey:sd.groups.list(n),queryFn:async()=>{try{const e=await wt(At(n));return om.parse(e)}catch(e){throw od(e)}},...t})}function um(e,t){return"https://redirection.me/support/"+e+(t?"/#"+t:"")}const dm={},pm={},hm=function(){const e=de(e=>e.values),t=de(e=>e.saveStatus),n=de(e=>e.values?.installed??""),r=de(e=>e.values?.warning??""),i=de(e=>e.values?.postTypes),{data:o}=lm({}),s=o?.items?pp(o.items):[],{mutate:a}=Pd(),[l,u]=(0,c.useState)(e??pm),p=i??dm;function h(e){if("target"in e){const{target:t}=e,n="checkbox"===t.type?t.checked:t.value;u({...l,[t.name]:n})}else u({...l,...e})}return(0,c.useEffect)(()=>{e&&u(e)},[e]),(0,d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(l)},children:[(0,d.jsxs)(bd,{children:[(0,d.jsx)(Gf,{settings:l,onChange:h,getLink:um}),(0,d.jsx)(Jf,{settings:l,onChange:h,getLink:um,groups:s,postTypes:p}),(0,d.jsx)(kd,{settings:l,onChange:h,getLink:um,installed:n,warning:r})]}),(0,d.jsx)(Mp,{isPrimary:!0,isSubmit:!0,disabled:t,children:(0,m.__)("Update","redirection")})]})},fm=function({onClose:e,children:t,className:n}){return(0,d.jsx)(Of,{className:"wpl-click-outside",onOutside:t=>{t.target instanceof HTMLElement&&t.target.classList.contains("wpl-modal_main")&&e()},children:(0,d.jsxs)("div",{className:y("wpl-modal_content",n),children:[(0,d.jsx)("div",{className:"wpl-modal_close",children:(0,d.jsx)("button",{type:"button",onClick:e,children:"‚úñ"})}),t]})})},mm="wpl-modal_shown",gm=function({padding:e=!0,onClose:t,...n}){const r=(0,c.useCallback)(e=>{"Escape"===e.key&&t()},[t]);(0,c.useEffect)(()=>(document.body.classList.add(mm),document.addEventListener("keydown",r),()=>{document.body.classList.remove(mm),document.removeEventListener("keydown",r)}),[r]);const i=y({"wpl-modal_wrapper":!0,"wpl-modal_wrapper-padding":e});return(0,d.jsxs)("div",{className:i,children:[(0,d.jsx)("div",{className:"wpl-modal_backdrop"}),(0,d.jsx)("div",{className:"wpl-modal_main",children:(0,d.jsx)(fm,{onClose:t,...n})})]})},ym=e=>(0,$p.createPortal)((0,d.jsx)(gm,{...e}),Rf("wpl-modal")||document.body),vm=function(e){const[t,n]=(0,c.useState)(!1);function r(){n(!1)}return(0,d.jsxs)("div",{className:"wrap",children:[(0,d.jsxs)("form",{action:"",method:"post",onSubmit:function(e){n(!0),e.preventDefault()},children:[(0,d.jsx)("h2",{children:(0,m.__)("Delete Redirection","redirection")}),(0,d.jsx)("p",{children:(0,m.__)("Selecting this option will delete all redirections, all logs, and any options associated with the Redirection plugin. Make sure this is what you want to do.","redirection")}),(0,d.jsx)("input",{className:"button-secondary button-delete",type:"submit",name:"delete",value:(0,m.__)("Delete","redirection")})]}),t&&(0,d.jsx)(ym,{onClose:r,children:(0,d.jsxs)("div",{style:{padding:"15px 10px 5px 15px"},children:[(0,d.jsx)("h1",{children:(0,m.__)("Delete the plugin - are you sure?","redirection")}),(0,d.jsx)("p",{children:(0,m.__)("Deleting the plugin will remove all your redirections, logs, and settings. Do this if you want to remove the plugin for good, or if you want to reset the plugin.","redirection")}),(0,d.jsx)("p",{children:(0,m.__)("Once deleted your redirections will stop working. If they appear to continue working then please clear your browser cache.","redirection")}),(0,d.jsxs)("p",{children:[(0,d.jsx)("button",{className:"button-primary button-delete",onClick:function(){e.onDelete(),r()},children:(0,m.__)("Yes! Delete the plugin","redirection")})," ",(0,d.jsx)("button",{className:"button-secondary",onClick:r,children:(0,m.__)("No! Don't delete the plugin")})]})]})})]})},_m=function(){const e=de(e=>e.loadStatus),t=de(e=>e.values);Ed();const n=function(){const{incrementProgress:e,decrementProgress:t,addNotice:n,addError:r}=cd();return dt({mutationFn:async()=>{e();try{return await wt(Zt())}catch(e){throw t(),od(e)}},onSuccess:()=>{t(),n("Plugin deleted"),window.location.href="/wp-admin/plugins.php"},onError:e=>{r(e.message||"Failed to delete plugin")}})}(),r="success"===e;return"loading"!==e&&t?(0,d.jsxs)("div",{children:["success"===e&&(0,d.jsx)(hm,{}),(0,d.jsx)("hr",{}),r&&(0,d.jsx)(vm,{onDelete:()=>{n.mutate()}})]}):(0,d.jsx)(Lp,{})},bm=()=>(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:(0,m.__)("Need help?","redirection")}),(0,d.jsx)("p",{children:U((0,m.__)("Full documentation for Redirection can be found at {{site}}https://redirection.me{{/site}}. If you have a problem please check the {{faq}}FAQ{{/faq}} first.","redirection"),{site:(0,d.jsx)(z,{url:"https://redirection.me"}),faq:(0,d.jsx)(z,{url:"https://redirection.me/support/faq/"})})}),(0,d.jsx)("p",{children:(0,d.jsx)("strong",{children:U((0,m.__)("If you want to report a bug please read the {{report}}Reporting Bugs{{/report}} guide.","redirection"),{report:(0,d.jsx)(z,{url:"https://redirection.me/support/reporting-bugs/"})})})}),(0,d.jsx)("div",{className:"inline-notice inline-general",children:(0,d.jsxs)("p",{className:"github",children:[(0,d.jsx)(z,{url:"https://github.com/johngodley/redirection/issues",children:(0,d.jsx)("img",{src:window.Redirectioni10n.pluginBaseUrl+"/images/GitHub-Mark-64px.png",width:"32",height:"32",alt:"GitHub"})}),(0,d.jsx)(z,{url:"https://github.com/johngodley/redirection/issues",children:"https://github.com/johngodley/redirection/"})]})}),(0,d.jsx)("p",{children:(0,m.__)("Please note that any support is provide on as-time-is-available basis and is not guaranteed. I do not provide paid support.","redirection")}),(0,d.jsx)("p",{children:U((0,m.__)("If you want to submit information that you don't want in a public repository then send it directly via {{email}}email{{/email}} - include as much information as you can!","redirection"),{email:(0,d.jsx)("button",{type:"button",className:"button-link",onClick:()=>{window.location.href="mailto:john@redirection.me?subject=Redirection%20Issue&body="+encodeURIComponent("Redirection: "+window.Redirectioni10n.versions)}})})}),(0,d.jsx)("h2",{children:(0,m.__)("Need to search and replace?","redirection")}),(0,d.jsx)("p",{children:U((0,m.__)("The companion plugin <link>Search Regex</link> allows you to search and replace data on your site and is handy if you want to bulk update a lot of URLs in your posts and pages.","redirection"),{link:(0,d.jsx)(z,{url:"https://searchregex.com/"})})})]});function xm(e,t){return"http"===e.slice(0,4)?e:dp(t||document.location.origin,e)}function wm(e){return"object"==typeof e&&void 0!==e.url_from?e.url_from:e}function jm({status:e,headers:t,statusMessage:n,isMatch:r}){if(0===e)return n.length>0?(0,d.jsx)(d.Fragment,{children:n}):(0,d.jsx)(d.Fragment,{children:(0,m.__)("An unknown error","redirection")});if(e>=500)return(0,d.jsx)(d.Fragment,{children:(0,m.__)("Something is wrong with the server. This is not a problem with Redirection and you will need to resolve the error yourself.","redirection")});if(e>=400&&e<500)return(0,d.jsx)(d.Fragment,{children:U((0,m.__)("An error page was returned. This is unlikely to be a problem with Redirection. {{support}}What does this mean?{{/support}}.","redirection"),{support:(0,d.jsx)(z,{url:"https://redirection.me/support/problems/redirect-returning-404/"})})});if(e>=300&&e<400){if(r)return(0,d.jsxs)(d.Fragment,{children:[(0,m.__)("Redirected by Redirection.","redirection")," ",(0,d.jsxs)("span",{className:"redirection-httpstep__match",children:[(0,m.__)("Matches your redirect","redirection")," ",(0,d.jsx)("span",{className:"dashicons dashicons-yes"})]})]});const e=t.find(e=>"x-redirect-agent"===e.name||"x-redirect-by"===e.name)||null;return e?"redirection"===e.value.toLowerCase()?(0,d.jsx)(d.Fragment,{children:(0,m.__)("Redirected by Redirection.","redirection")}):(0,d.jsx)(d.Fragment,{children:U((0,m.sprintf)(
// translators: %1$s is the name of the agent that performed the redirect
// translators: %1$s is the name of the agent that performed the redirect
(0,m.__)("Redirected by %1$s. {{support}}What does this mean?{{/support}}.","redirection"),e.value),{support:(0,d.jsx)(z,{url:"https://redirection.me/support/problems/redirected-by-another-agent/"})})}):(0,d.jsx)(d.Fragment,{children:U((0,m.__)("Redirected by an unknown agent. {{support}}What does this mean?{{/support}}.","redirection"),{support:(0,d.jsx)(z,{url:"https://redirection.me/support/problems/redirected-by-another-agent/"})})})}return e>=200&&e<300?(0,d.jsx)(d.Fragment,{children:(0,m.__)("Page was loaded.","redirection")}):null}function Sm({step:e,isFirst:t,isLast:n,isMatch:r}){const{request:i,status:o,statusMessage:s,headers:a}=e,c=100*Math.floor(o/100);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"redirection-httpstep",children:[(0,d.jsx)("div",{className:`redirection-httpstep__status redirection-httpstep__${c>0?c:"500"}`,children:parseInt(o.toString(),10)>0?(0,d.jsx)(z,{url:`https://redirect.li/http/status/code/${o}/`,title:s,children:o}):"Fail"}),(0,d.jsxs)("div",{className:"redirection-httpstep__details",children:[(0,d.jsx)("p",{children:(0,d.jsx)("code",{children:i.url})}),(0,d.jsx)("p",{children:(0,d.jsx)(jm,{status:parseInt(o.toString(),10),statusMessage:s,headers:a,isFirst:t,isMatch:r})})]})]}),!n&&(0,d.jsx)("div",{children:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M16.707 10.293a1 1 0 010 1.414l-6 6a1 1 0 01-1.414 0l-6-6a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l4.293-4.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]})}function km(e,t,n,r){if(!Array.isArray(e)||!n||!r)return!1;const i=e.find(e=>"x-redirect-agent"===e.name||"x-redirect-by"===e.name),o=e.find(e=>"location"===e.name);if(i&&o){if("object"==typeof n&&void 0===n.url_from)return"redirection"===i.value.toLowerCase()&&r===t&&xm(o.value)===wm(n);if("object"==typeof n)return"redirection"===i.value.toLowerCase()&&r===t&&xm(o.value,n.server)===wm(n)}return!1}const Cm=function({desiredTarget:e,desiredCode:t,http:n,url:r}){const{steps:i}=n;return!n||"error"!==n.status&&"fail"!==n.status||0!==i.length?(0,d.jsxs)("div",{children:[i.map((n,r)=>(0,d.jsx)(Sm,{step:n,isFirst:0===r,isLast:r===i.length-1,isMatch:km(n.headers,n.status,e,t)},r)),(0,d.jsxs)("p",{children:[e&&t&&(0,d.jsxs)(d.Fragment,{children:[U((0,m.__)("If this is not expected then this {{support}}support page{{/support}} may help.","redirection"),{support:(0,d.jsx)(z,{url:"https://redirection.me/support/problems/url-not-redirecting/"})})," "]}),(0,m.__)("If your browser is behaving differently then you should clear your browser cache.","redirection")]}),(0,d.jsx)("p",{children:(0,d.jsx)(z,{url:`https://redirect.li/http/?url=${encodeURIComponent(r)}`,className:"button",children:(0,m.__)("View full redirect.li results.","redirection")})})]}):(0,d.jsx)("div",{children:(0,m.__)("Unable to check that URL. It may not be valid or accessible.","redirection")})};function Tm({error:e}){return(0,d.jsxs)("div",{className:"wpl-modal_error",children:[(0,d.jsx)("h2",{children:(0,m.__)("Error","redirection")}),(0,d.jsx)("p",{children:(0,m.__)("Something went wrong obtaining this information. It may work in the future.","redirection")}),(0,d.jsx)("p",{children:(0,d.jsx)("code",{children:e})})]})}function Em({url:e,desiredCode:t=0,desiredTarget:n=null}){const{data:r,isLoading:i,isError:o,error:s}=function(e,t){return ct({queryKey:sd.info.http(e),queryFn:async()=>await wt(Xt(e)),enabled:!!e,staleTime:0,...t})}(e,{enabled:!!e}),a=o&&s&&s.message||"";if(!i&&!o&&!r)return null;const c=y({"redirection-httpcheck":!0,"wpl-modal_loading":i,"redirection-httpcheck_small":o});return(0,d.jsxs)("div",{className:c,children:[i&&(0,d.jsx)(vd,{}),o&&a&&(0,d.jsx)(Tm,{error:a}),!i&&!o&&r&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{children:U((0,m.sprintf)(
// translators: %s is the URL being checked
// translators: %s is the URL being checked
(0,m.__)("Check redirect for: {{code}}%s{{/code}}","redirection"),e),{code:(0,d.jsx)("code",{})})}),(0,d.jsx)(Cm,{http:r,url:e,desiredCode:t,desiredTarget:n})]})]})}const Pm=function(){const[e,t]=(0,c.useState)(""),[n,r]=(0,c.useState)(""),i=n.length>0;return(0,d.jsxs)("form",{className:"http-tester",onSubmit:function(t){t.preventDefault(),e.length>0&&r(e)},children:[(0,d.jsx)("h3",{children:(0,m.__)("Redirect Tester","redirection")}),(0,d.jsx)("p",{children:U((0,m.__)("Sometimes your browser can cache a URL, making it hard to know if it's working as expected. Use this service from {{link}}redirect.li{{/link}} to get accurate results.","redirection"),{link:(0,d.jsx)(z,{url:"https://redirect.li"})})}),(0,d.jsxs)("div",{className:"redirection-httptest__input",children:[(0,d.jsxs)("span",{children:[(0,m.__)("URL","redirection"),":"]}),(0,d.jsx)("input",{className:"regular-text",type:"text",value:e,onChange:e=>t(e.target.value),placeholder:(0,m.__)("Enter full URL, including http:// or https://","redirection")}),(0,d.jsx)("input",{type:"submit",className:"button-secondary",disabled:0===e.length,value:(0,m.__)("Check","redirection")})]}),i&&(0,d.jsx)("div",{className:"redirection-httptest",children:(0,d.jsx)(Em,{url:n})})]})},Om=()=>(0,d.jsxs)("form",{action:Redirectioni10n.pluginRoot+"&sub=support",method:"POST",children:[(0,d.jsx)("input",{type:"hidden",name:"_wpnonce",value:wt.nonceMiddleware.nonce}),(0,d.jsx)("input",{type:"hidden",name:"action",value:"fixit"}),(0,d.jsx)("p",{children:(0,m.__)("If the magic button doesn't work then you should read the error and see if you can fix it manually, otherwise follow the 'Need help' section below.","redirection")}),(0,d.jsx)("p",{children:(0,d.jsx)("input",{type:"submit",className:"button-primary",value:(0,m.__)("‚ö°Ô∏è Magic fix ‚ö°Ô∏è","redirection")})})]}),Rm=e=>{const{item:t}=e;return(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:t.name}),(0,d.jsxs)("td",{children:[(0,d.jsx)("span",{className:"plugin-status-"+t.status,children:"good"===t.status?(0,m.__)("Good","redirection"):(0,m.__)("Problem","redirection")})," ",t.message]})]})},Nm=e=>{const{status:t}=e,n=t.filter(e=>"good"!==e.status);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("table",{className:"plugin-status",children:(0,d.jsx)("tbody",{children:t.map((e,t)=>(0,d.jsx)(Rm,{item:e},t))})}),n.length>0&&(0,d.jsx)(Om,{})]})},Am=function(e){const{debug:t}=e,[n,r]=(0,c.useState)(t.database.current),{mutate:i}=Nd({onSuccess:()=>{window.location.reload()}}),{ip_header:o,database:s}=t;return(0,d.jsx)("table",{className:"plugin-status",children:(0,d.jsxs)("tbody",{children:[(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:(0,m.__)("Database version","redirection")}),(0,d.jsxs)("td",{children:[(0,d.jsx)(jd,{items:[{value:"2.3.1",label:"2.3.1"},{value:"2.3.2",label:"2.3.2"},{value:"2.4",label:"2.4"},{value:"4.0",label:"4.0"},{value:"4.1",label:"4.1"},{value:"4.2",label:"4.2"}],value:n,name:"database_version",onChange:function(e){r(e.target.value)}})," ","¬†",n!==s.current&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("strong",{children:(0,m.__)("Do not change unless advised to do so!","redirection")})," ","¬†",(0,d.jsx)("button",{className:"button-secondary button",onClick:function(e){e.preventDefault(),i({reason:"database",current:n})},children:(0,m.__)("Save","redirection")})]})]})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:(0,m.__)("IP Headers","redirection")}),(0,d.jsx)("td",{children:Object.keys(o).filter(e=>o[e]).map((e,t)=>(0,d.jsxs)("code",{children:[e," = ",o[e]?o[e]:"-","¬†"]},t))})]})]})})},Im=function(){const e=de(e=>e.pluginStatus.status),t=de(e=>e.pluginStatus.debug);return function(){const{setPluginStatus:e}=de();ct({queryKey:sd.settings.status(),queryFn:async()=>{try{const t=await wt(Bt());return e(t),t}catch(e){throw od(e)}}})}(),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{children:(0,m.__)("WordPress REST API","redirection")}),(0,d.jsx)("p",{children:(0,m.__)("Redirection communicates with WordPress through the WordPress REST API. This is a standard part of WordPress, and you will experience problems if you cannot use it.","redirection")}),(0,d.jsx)(Md,{}),(0,d.jsx)("h2",{children:(0,m.__)("Plugin Status","redirection")}),e.length>0&&(0,d.jsx)(Nm,{status:e}),0===e.length&&(0,d.jsx)("div",{className:"placeholder-inline",children:(0,d.jsx)("div",{className:"wpl-placeholder__loading"})}),(0,d.jsx)("h2",{children:(0,m.__)("Plugin Debug","redirection")}),(0,d.jsx)("p",{children:(0,m.__)("This information is provided for debugging purposes. Be careful making any changes.","redirection")}),t&&(0,d.jsx)(Am,{debug:t}),!t&&(0,d.jsx)("div",{className:"placeholder-inline",children:(0,d.jsx)("div",{className:"wpl-placeholder__loading"})})]})},zm=function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Im,{}),(0,d.jsx)(Pm,{}),(0,d.jsx)(bm,{})]})};function Fm(e,t){if(!1===e)return!1;const n=function(e){try{let t=e;"http:"!==e.slice(0,5)&&"https:"!==e.slice(0,6)&&(t=document.location.protocol+"//"+e);const n=new URL(t);return{protocol:n.protocol,host:n.host,pathname:n.pathname}}catch(e){return{}}}(e);return n.host&&n.host.length>0?t(n):""}function Dm(e){return Fm(e,e=>e.protocol+"//"+(e.host||"")+(e.pathname||""))}function Lm(e){return Fm(e,e=>e.protocol+"//"+(e.host||""))}const Mm=({domain:e,asDomain:t,onChange:n,onDelete:r,site:i})=>(0,d.jsxs)("tr",{className:"redirect-alias__item",children:[(0,d.jsx)("td",{children:(0,d.jsx)("input",{className:"regular-text",type:"text",name:"domain",value:e,onChange:n})}),(0,d.jsx)("td",{className:"redirect-alias__item__asdomain",children:e.length>0&&(0,d.jsxs)(c.Fragment,{children:[(0,d.jsx)("code",{children:t})," ‚áí ",(0,d.jsx)("code",{children:i})]})}),(0,d.jsx)("td",{className:"redirect-alias__delete",children:(0,d.jsx)("button",{onClick:e=>{e.preventDefault(),r()},children:(0,d.jsx)("span",{className:"dashicons dashicons-trash"})})})]}),$m=({aliases:e,siteDomain:t,onChange:n})=>(0,d.jsxs)(c.Fragment,{children:[(0,d.jsx)("h3",{children:(0,m.__)("Site Aliases","redirection")}),(0,d.jsx)("p",{children:(0,m.__)("A site alias is another domain that you want to be redirected to this site. For example, an old domain, or a subdomain. This will redirect all URLs, including WordPress login and admin.","redirection")}),(0,d.jsx)("p",{children:(0,m.__)("You will need to configure your system (DNS and server) to pass requests for these domains to this WordPress install.","redirection")}),(0,d.jsxs)("table",{className:"wp-list-table widefat fixed striped items redirect-aliases table-auto",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:(0,m.__)("Aliased Domain","redirection")}),(0,d.jsx)("th",{className:"redirect-alias__item__asdomain",children:(0,m.__)("Alias","redirection")}),(0,d.jsx)("th",{className:"redirect-alias__delete"})]})}),(0,d.jsxs)("tbody",{children:[e.map((r,i)=>(0,d.jsx)(Mm,{domain:r,asDomain:(Lm(r)||"").replace(/https?:\/\//,""),onChange:t=>((e,t,n,r)=>{const i=t.slice();i[e]=r.target.value,n({aliases:i})})(i,e,n,t),onDelete:()=>((e,t,n)=>{n({aliases:[...t.slice(0,e),...t.slice(e+1)]})})(i,e,n),site:t},i)),0===e.length&&(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:3,children:(0,m.__)("No aliases","redirection")})})]})]}),(0,d.jsx)("p",{children:(0,d.jsx)("button",{className:"button-secondary",onClick:t=>((e,t,n)=>{n.preventDefault(),t({aliases:e.concat("").slice(0,20)})})(e,n,t),children:(0,m.__)("Add Alias","redirection")})})]}),Um=({relocate:e,siteDomain:t,onChange:n})=>{const r=((e,t)=>{if(t){const n=Dm(t);if(n&&n.length>0)return(0,d.jsxs)("p",{children:[(0,d.jsx)("code",{children:e})," ‚áí ",(0,d.jsx)("code",{children:n})]})}return null})(t,e);return(0,d.jsxs)(c.Fragment,{children:[(0,d.jsx)("h3",{children:(0,m.__)("Relocate Site","redirection")}),(0,d.jsx)("p",{children:(0,m.__)("Want to redirect the entire site? Enter a domain to redirect everything, except WordPress login and admin. Enabling this option will disable any site aliases or canonical settings.","redirection")}),(0,d.jsxs)("p",{children:[(0,d.jsxs)("strong",{children:[(0,m.__)("Relocate to domain","redirection"),":"]})," ",(0,d.jsx)("input",{type:"text",className:"regular-text",name:"relocate",value:e||"",onChange:e=>n({relocate:e.target.value})})]}),r]})};function Bm(e,t,n){return e=e.replace(/https?:\/\//,""),"www"===n?e="www."+e.replace("www.",""):"nowww"===n&&(e=e.replace("www.","")),(t?"https://":"http://")+e}const Zm=function({https:e,preferredDomain:t,siteDomain:n,onChange:r}){const i=function(e,t,n){return!(!t||e.includes("https:"))||"www"===n&&!e.includes("www.")||!("nowww"!==n||!e.includes("www."))}(n,e,t),o=e=>{r({[e.target.name]:e.target.value})};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h3",{children:(0,m.__)("Canonical Settings","redirection")}),(0,d.jsxs)("p",{children:[(0,d.jsx)("input",{id:"canonical-https",type:"checkbox",name:"https",onChange:e=>{r({[e.target.name]:e.target.checked})},checked:e}),"¬†",(0,d.jsx)("label",{htmlFor:"canonical-https",children:U((0,m.sprintf)(
// translators: %(site)s is HTTP site URL, %(siteHTTPS)s is HTTPS site URL
// translators: %(site)s is HTTP site URL, %(siteHTTPS)s is HTTPS site URL
(0,m.__)("Force a redirect from HTTP to HTTPS - {{code}}%(site)s{{/code}} ‚áí {{code}}%(siteHTTPS)s{{/code}}","redirection"),{site:n.replace("https","http"),siteHTTPS:n.replace("http:","https:")}),{code:(0,d.jsx)("code",{})})})]}),e&&(0,d.jsx)("div",{className:"inline-notice inline-warning",children:(0,d.jsx)("p",{children:U(
// translators: %(strong)s is the warning title
// translators: %(strong)s is the warning title
(0,m.__)("{{strong}}Warning{{/strong}}: ensure your HTTPS is working before forcing a redirect.","redirection"),{strong:(0,d.jsx)("strong",{})})})}),(0,d.jsxs)("p",{children:[(0,m.__)("Preferred domain","redirection"),":"]}),(s=n,[{
// translators: %(site)s is the site domain
label:U((0,m.sprintf)(
// translators: %(site)s is the site domain
// translators: %(site)s is the site domain
(0,m.__)("Don't set a preferred domain - {{code}}%(site)s{{/code}}","redirection"),{site:s}),{code:(0,d.jsx)("code",{})}),value:""},{
// translators: %(site)s is the site domain without www, %(siteWWW)s is the site domain with www
label:U((0,m.sprintf)(
// translators: %(site)s is the site domain without www, %(siteWWW)s is the site domain with www
// translators: %(site)s is the site domain without www, %(siteWWW)s is the site domain with www
(0,m.__)("Remove www from domain - {{code}}%(siteWWW)s{{/code}} ‚áí {{code}}%(site)s{{/code}}","redirection"),{site:s.replace("www.",""),siteWWW:s.replace("www.","").replace("://","://www.")}),{code:(0,d.jsx)("code",{})}),value:"nowww"},{
// translators: %(site)s is the site domain without www, %(siteWWW)s is the site domain with www
label:U((0,m.sprintf)(
// translators: %(site)s is the site domain without www, %(siteWWW)s is the site domain with www
// translators: %(site)s is the site domain without www, %(siteWWW)s is the site domain with www
(0,m.__)("Add www to domain - {{code}}%(site)s{{/code}} ‚áí {{code}}%(siteWWW)s{{/code}}","redirection"),{site:s.replace("www.",""),siteWWW:s.replace("www.","").replace("://","://www.")}),{code:(0,d.jsx)("code",{})}),value:"www"}]).map(e=>{const n=`canonical-preferred-${e.value||"none"}`;return(0,d.jsxs)("p",{children:[(0,d.jsx)("input",{id:n,type:"radio",name:"preferred_domain",value:e.value,onChange:o,checked:e.value===t})," ",(0,d.jsx)("label",{htmlFor:n,children:e.label})]},e.value)}),i&&(0,d.jsx)("div",{className:"inline-notice inline-error",children:(0,d.jsx)("p",{children:U((0,m.sprintf)(
// translators: %(current)s is current site URL, %(site)s is recommended canonical URL
// translators: %(current)s is current site URL, %(site)s is recommended canonical URL
(0,m.__)("You should update your site URL to match your canonical settings: {{code}}%(current)s{{/code}} ‚áí {{code}}%(site)s{{/code}}","redirection"),{current:n,site:Bm(n,e,t)}),{code:(0,d.jsx)("code",{})})})})]});var s},qm="undefined"!=typeof document?c.useLayoutEffect:()=>{};function Hm(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function Wm(e){let t=(0,c.useRef)({isFocused:!1,observer:null});return qm(()=>{const e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}},[]),(0,c.useCallback)(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=n.target,i=n=>{if(t.current.isFocused=!1,r.disabled){let t=Hm(n);null==e||e(t)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};r.addEventListener("focusout",i,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&r.disabled){var e;null===(e=t.current.observer)||void 0===e||e.disconnect();let n=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:n})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:n}))}}),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[e])}function Gm(e){var t;if("undefined"==typeof window||null==window.navigator)return!1;let n=null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands;return Array.isArray(n)&&n.some(t=>e.test(t.brand))||e.test(window.navigator.userAgent)}function Vm(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function Qm(e){let t=null;return()=>(null==t&&(t=e()),t)}const Km=Qm(function(){return Vm(/^Mac/i)}),Jm=Qm(function(){return Vm(/^iPhone/i)}),Ym=Qm(function(){return Vm(/^iPad/i)||Km()&&navigator.maxTouchPoints>1}),Xm=Qm(function(){return Jm()||Ym()}),eg=(Qm(function(){return Km()||Xm()}),Qm(function(){return Gm(/AppleWebKit/i)&&!tg()})),tg=Qm(function(){return Gm(/Chrome/i)}),ng=Qm(function(){return Gm(/Android/i)}),rg=Qm(function(){return Gm(/Firefox/i)});let ig=null;function og(e,t,n=!0){var r,i;let{metaKey:o,ctrlKey:s,altKey:a,shiftKey:c}=t;rg()&&(null===(i=window.event)||void 0===i||null===(r=i.type)||void 0===r?void 0:r.startsWith("key"))&&"_blank"===e.target&&(Km()?o=!0:s=!0);let l=eg()&&Km()&&!Ym()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:o,ctrlKey:s,altKey:a,shiftKey:c}):new MouseEvent("click",{metaKey:o,ctrlKey:s,altKey:a,shiftKey:c,detail:1,bubbles:!0,cancelable:!0});og.isOpening=n,function(e){if(function(){if(null==ig){ig=!1;try{document.createElement("div").focus({get preventScroll(){return ig=!0,!0}})}catch{}}return ig}())e.focus({preventScroll:!0});else{let t=function(e){let t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}(e);e.focus(),function(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}(t)}}(e),e.dispatchEvent(l),og.isOpening=!1}og.isOpening=!1;const sg=e=>{var t;return null!==(t=null==e?void 0:e.ownerDocument)&&void 0!==t?t:document},ag=e=>e&&"window"in e&&e.window===e?e:sg(e).defaultView||window;let cg=null,lg="keyboard";const ug=new Set;let dg=new Map,pg=!1,hg=!1;const fg={Tab:!0,Escape:!0};function mg(e,t){for(let n of ug)n(e,t)}function gg(e){pg=!0,!og.isOpening&&function(e){return!(e.metaKey||!Km()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key)}(e)&&(cg="keyboard",lg="keyboard",mg("keyboard",e))}function yg(e){cg="pointer",lg="pointerType"in e?e.pointerType:"mouse","mousedown"!==e.type&&"pointerdown"!==e.type||(pg=!0,mg("pointer",e))}function vg(e){var t;!og.isOpening&&(""===(t=e).pointerType&&t.isTrusted||(ng()&&t.pointerType?"click"===t.type&&1===t.buttons:0===t.detail&&!t.pointerType))&&(pg=!0,cg="virtual",lg="virtual")}function _g(e){e.target!==window&&e.target!==document&&e.isTrusted&&(pg||hg||(cg="virtual",lg="virtual",mg("virtual",e)),pg=!1,hg=!1)}function bg(){pg=!1,hg=!0}function xg(e){if("undefined"==typeof window||"undefined"==typeof document||dg.get(ag(e)))return;const t=ag(e),n=sg(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){pg=!0,r.apply(this,arguments)},n.addEventListener("keydown",gg,!0),n.addEventListener("keyup",gg,!0),n.addEventListener("click",vg,!0),t.addEventListener("focus",_g,!0),t.addEventListener("blur",bg,!1),"undefined"!=typeof PointerEvent&&(n.addEventListener("pointerdown",yg,!0),n.addEventListener("pointermove",yg,!0),n.addEventListener("pointerup",yg,!0)),t.addEventListener("beforeunload",()=>{wg(e)},{once:!0}),dg.set(t,{focus:r})}const wg=(e,t)=>{const n=ag(e),r=sg(e);t&&r.removeEventListener("DOMContentLoaded",t),dg.has(n)&&(n.HTMLElement.prototype.focus=dg.get(n).focus,r.removeEventListener("keydown",gg,!0),r.removeEventListener("keyup",gg,!0),r.removeEventListener("click",vg,!0),n.removeEventListener("focus",_g,!0),n.removeEventListener("blur",bg,!1),"undefined"!=typeof PointerEvent&&(r.removeEventListener("pointerdown",yg,!0),r.removeEventListener("pointermove",yg,!0),r.removeEventListener("pointerup",yg,!0)),dg.delete(n))};function jg(){return"pointer"!==cg}"undefined"!=typeof document&&function(e){const t=sg(e);let n;"loading"!==t.readyState?xg(e):(n=()=>{xg(e)},t.addEventListener("DOMContentLoaded",n))}();const Sg=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function kg(e,t){return!(!t||!e)&&e.contains(t)}const Cg=(e=document)=>e.activeElement;function Tg(e){return e.target}function Eg(){let e=(0,c.useRef)(new Map),t=(0,c.useCallback)((t,n,r,i)=>{let o=(null==i?void 0:i.once)?(...t)=>{e.current.delete(r),r(...t)}:r;e.current.set(r,{type:n,eventTarget:t,fn:o,options:i}),t.addEventListener(n,o,i)},[]),n=(0,c.useCallback)((t,n,r,i)=>{var o;let s=(null===(o=e.current.get(r))||void 0===o?void 0:o.fn)||r;t.removeEventListener(n,s,i),e.current.delete(r)},[]),r=(0,c.useCallback)(()=>{e.current.forEach((e,t)=>{n(e.eventTarget,e.type,t,e.options)})},[n]);return(0,c.useEffect)(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function Pg(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=e,o=(0,c.useRef)({isFocusWithin:!1}),{addGlobalListener:s,removeAllGlobalListeners:a}=Eg(),l=(0,c.useCallback)(e=>{kg(e.currentTarget,e.target)&&o.current.isFocusWithin&&!kg(e.currentTarget,e.relatedTarget)&&(o.current.isFocusWithin=!1,a(),n&&n(e),i&&i(!1))},[n,i,o,a]),u=Wm(l),d=(0,c.useCallback)(e=>{if(!kg(e.currentTarget,e.target))return;const t=sg(e.target),n=Cg(t);if(!o.current.isFocusWithin&&n===Tg(e.nativeEvent)){r&&r(e),i&&i(!0),o.current.isFocusWithin=!0,u(e);let n=e.currentTarget;s(t,"focus",e=>{if(o.current.isFocusWithin&&!kg(n,e.target)){let r=new t.defaultView.FocusEvent("blur",{relatedTarget:e.target});!function(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}(r,n);let i=Hm(r);l(i)}},{capture:!0})}},[r,i,u,s,l]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:d,onBlur:l}}}function Og(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,i=(0,c.useRef)({isFocused:!1,isFocusVisible:t||jg()}),[o,s]=(0,c.useState)(!1),[a,l]=(0,c.useState)(()=>i.current.isFocused&&i.current.isFocusVisible),u=(0,c.useCallback)(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),d=(0,c.useCallback)(e=>{i.current.isFocused=e,i.current.isFocusVisible=jg(),s(e),u()},[u]);var p,h,f;p=e=>{i.current.isFocusVisible=e,u()},h=[n,o],f={enabled:o,isTextInput:n},xg(),(0,c.useEffect)(()=>{if(!1===(null==f?void 0:f.enabled))return;let e=(e,t)=>{(function(e,t,n){let r=sg(null==n?void 0:n.target);const i="undefined"!=typeof window?ag(null==n?void 0:n.target).HTMLInputElement:HTMLInputElement,o="undefined"!=typeof window?ag(null==n?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,s="undefined"!=typeof window?ag(null==n?void 0:n.target).HTMLElement:HTMLElement,a="undefined"!=typeof window?ag(null==n?void 0:n.target).KeyboardEvent:KeyboardEvent;return!((e=e||r.activeElement instanceof i&&!Sg.has(r.activeElement.type)||r.activeElement instanceof o||r.activeElement instanceof s&&r.activeElement.isContentEditable)&&"keyboard"===t&&n instanceof a&&!fg[n.key])})(!!(null==f?void 0:f.isTextInput),e,t)&&p(jg())};return ug.add(e),()=>{ug.delete(e)}},h);let{focusProps:m}=function(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:i}=e;const o=(0,c.useCallback)(e=>{if(e.target===e.currentTarget)return r&&r(e),i&&i(!1),!0},[r,i]),s=Wm(o),a=(0,c.useCallback)(e=>{const t=sg(e.target),r=t?Cg(t):Cg();e.target===e.currentTarget&&r===Tg(e.nativeEvent)&&(n&&n(e),i&&i(!0),s(e))},[i,n,s]);return{focusProps:{onFocus:!t&&(n||i||r)?a:void 0,onBlur:t||!r&&!i?void 0:o}}}({isDisabled:r,onFocusChange:d}),{focusWithinProps:g}=Pg({isDisabled:!r,onFocusWithinChange:d});return{isFocused:o,isFocusVisible:a,focusProps:r?g:m}}let Rg=!1,Ng=0;function Ag(e){"touch"===e.pointerType&&(Rg=!0,setTimeout(()=>{Rg=!1},50))}function Ig(){if("undefined"!=typeof document)return 0===Ng&&"undefined"!=typeof PointerEvent&&document.addEventListener("pointerup",Ag),Ng++,()=>{Ng--,Ng>0||"undefined"!=typeof PointerEvent&&document.removeEventListener("pointerup",Ag)}}function zg(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:i}=e,[o,s]=(0,c.useState)(!1),a=(0,c.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,c.useEffect)(Ig,[]);let{addGlobalListener:l,removeAllGlobalListeners:u}=Eg(),{hoverProps:d,triggerHoverEnd:p}=(0,c.useMemo)(()=>{let e=(e,t)=>{let i=a.target;a.pointerType="",a.target=null,"touch"!==t&&a.isHovered&&i&&(a.isHovered=!1,u(),r&&r({type:"hoverend",target:i,pointerType:t}),n&&n(!1),s(!1))},o={};return"undefined"!=typeof PointerEvent&&(o.onPointerEnter=r=>{Rg&&"mouse"===r.pointerType||((r,o)=>{if(a.pointerType=o,i||"touch"===o||a.isHovered||!kg(r.currentTarget,r.target))return;a.isHovered=!0;let c=r.currentTarget;a.target=c,l(sg(r.target),"pointerover",t=>{a.isHovered&&a.target&&!kg(a.target,t.target)&&e(0,t.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:c,pointerType:o}),n&&n(!0),s(!0)})(r,r.pointerType)},o.onPointerLeave=t=>{!i&&kg(t.currentTarget,t.target)&&e(0,t.pointerType)}),{hoverProps:o,triggerHoverEnd:e}},[t,n,r,i,a,l,u]);return(0,c.useEffect)(()=>{i&&p({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:d,isHovered:o}}var Fg=Object.defineProperty,Dg=(e,t,n)=>(((e,t,n)=>{t in e?Fg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);let Lg=new class{constructor(){Dg(this,"current",this.detect()),Dg(this,"handoffState","pending"),Dg(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}};function Mg(e){var t;return Lg.isServer?null:null==e?document:null!=(t=null==e?void 0:e.ownerDocument)?t:document}function $g(e){var t,n;return Lg.isServer?null:null==e?document:null!=(n=null==(t=null==e?void 0:e.getRootNode)?void 0:t.call(e))?n:document}function Ug(e){var t,n;return null!=(n=null==(t=$g(e))?void 0:t.activeElement)?n:null}function Bg(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch(e=>setTimeout(()=>{throw e}))}function Zg(){let e=[],t={addEventListener:(e,n,r,i)=>(e.addEventListener(n,r,i),t.add(()=>e.removeEventListener(n,r,i))),requestAnimationFrame(...e){let n=requestAnimationFrame(...e);return t.add(()=>cancelAnimationFrame(n))},nextFrame:(...e)=>t.requestAnimationFrame(()=>t.requestAnimationFrame(...e)),setTimeout(...e){let n=setTimeout(...e);return t.add(()=>clearTimeout(n))},microTask(...e){let n={current:!0};return Bg(()=>{n.current&&e[0]()}),t.add(()=>{n.current=!1})},style(e,t,n){let r=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:n}),this.add(()=>{Object.assign(e.style,{[t]:r})})},group(e){let t=Zg();return e(t),this.add(()=>t.dispose())},add:t=>(e.includes(t)||e.push(t),()=>{let n=e.indexOf(t);if(n>=0)for(let t of e.splice(n,1))t()}),dispose(){for(let t of e.splice(0))t()}};return t}function qg(){let[e]=(0,c.useState)(Zg);return(0,c.useEffect)(()=>()=>e.dispose(),[e]),e}let Hg=(e,t)=>{Lg.isServer?(0,c.useEffect)(e,t):(0,c.useLayoutEffect)(e,t)};function Wg(e){let t=(0,c.useRef)(e);return Hg(()=>{t.current=e},[e]),t}let Gg=function(e){let t=Wg(e);return c.useCallback((...e)=>t.current(...e),[t])};function Vg({disabled:e=!1}={}){let t=(0,c.useRef)(null),[n,r]=(0,c.useState)(!1),i=qg(),o=Gg(()=>{t.current=null,r(!1),i.dispose()}),s=Gg(e=>{if(i.dispose(),null===t.current){t.current=e.currentTarget,r(!0);{let n=Mg(e.currentTarget);i.addEventListener(n,"pointerup",o,!1),i.addEventListener(n,"pointermove",e=>{if(t.current){let n=function(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}(e);r(function(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}(n,t.current.getBoundingClientRect()))}},!1),i.addEventListener(n,"pointercancel",o,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:s,onPointerUp:o,onClick:o}}}function Qg(e){if(null===e)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function Kg(e,t,n=!1){let[r,i]=(0,c.useState)(()=>Qg(t));return Hg(()=>{if(!t||!e)return;let n=Zg();return n.requestAnimationFrame(function e(){n.requestAnimationFrame(e),i(e=>{let n=Qg(t);return n.width===e.width&&n.height===e.height?e:n})}),()=>{n.dispose()}},[t,e]),n?{width:`${r.width}px`,height:`${r.height}px`}:r}function Jg(e){return function(e){return"object"==typeof e&&null!==e&&"nodeType"in e}(e)&&"tagName"in e}function Yg(e){return Jg(e)&&"accessKey"in e}function Xg(e){return Jg(e)&&"tabIndex"in e}function ey(e){return Yg(e)&&"FIELDSET"===e.nodeName}function ty(e){return Yg(e)&&"LEGEND"===e.nodeName}function ny(e,t,...n){if(e in t){let r=t[e];return"function"==typeof r?r(...n):r}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(e=>`"${e}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ny),r}let ry=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),iy=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var oy,sy=((oy=sy||{})[oy.First=1]="First",oy[oy.Previous=2]="Previous",oy[oy.Next=4]="Next",oy[oy.Last=8]="Last",oy[oy.WrapAround=16]="WrapAround",oy[oy.NoScroll=32]="NoScroll",oy[oy.AutoFocus=64]="AutoFocus",oy),ay=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(ay||{}),cy=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(cy||{});function ly(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(ry)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var uy=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(uy||{});function dy(e,t=0){var n;return e!==(null==(n=Mg(e))?void 0:n.body)&&ny(t,{0:()=>e.matches(ry),1(){let t=e;for(;null!==t;){if(t.matches(ry))return!0;t=t.parentElement}return!1}})}var py=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(py||{});"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let hy=["textarea","input"].join(",");function fy(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let o=Array.isArray(e)?e.length>0?$g(e[0]):document:$g(e),s=Array.isArray(e)?n?function(e,t=e=>e){return e.slice().sort((e,n)=>{let r=t(e),i=t(n);if(null===r||null===i)return 0;let o=r.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}(e):e:64&t?function(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(iy)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}(e):ly(e);i.length>0&&s.length>1&&(s=s.filter(e=>!i.some(t=>null!=t&&"current"in t?(null==t?void 0:t.current)===e:t===e))),r=null!=r?r:null==o?void 0:o.activeElement;let a,c=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,s.indexOf(r))-1;if(4&t)return Math.max(0,s.indexOf(r))+1;if(8&t)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=32&t?{preventScroll:!0}:{},d=0,p=s.length;do{if(d>=p||d+p<=0)return 0;let e=l+d;if(16&t)e=(e+p)%p;else{if(e<0)return 3;if(e>=p)return 1}a=s[e],null==a||a.focus(u),d+=c}while(a!==Ug(a));return 6&t&&function(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,hy))&&n}(a)&&a.select(),2}function my(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function gy(){return my()||/Android/gi.test(window.navigator.userAgent)}function yy(e,t,n,r){let i=Wg(n);(0,c.useEffect)(()=>{if(e)return document.addEventListener(t,n,r),()=>document.removeEventListener(t,n,r);function n(e){i.current(e)}},[e,t,r])}function vy(e,t,n,r){let i=Wg(n);(0,c.useEffect)(()=>{if(e)return window.addEventListener(t,n,r),()=>window.removeEventListener(t,n,r);function n(e){i.current(e)}},[e,t,r])}function _y(e,t,n){let r=Wg(n),i=(0,c.useCallback)(function(e,n){if(e.defaultPrevented)return;let i=n(e);if(null===i||!i.getRootNode().contains(i)||!i.isConnected)return;let o=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(t);for(let t of o)if(null!==t&&(t.contains(i)||e.composed&&e.composedPath().includes(t)))return;return!dy(i,uy.Loose)&&-1!==i.tabIndex&&e.preventDefault(),r.current(e,i)},[r,t]),o=(0,c.useRef)(null);yy(e,"pointerdown",e=>{var t,n;gy()||(o.current=(null==(n=null==(t=e.composedPath)?void 0:t.call(e))?void 0:n[0])||e.target)},!0),yy(e,"pointerup",e=>{if(gy()||!o.current)return;let t=o.current;return o.current=null,i(e,()=>t)},!0);let s=(0,c.useRef)({x:0,y:0});yy(e,"touchstart",e=>{s.current.x=e.touches[0].clientX,s.current.y=e.touches[0].clientY},!0),yy(e,"touchend",e=>{let t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY;if(!(Math.abs(t-s.current.x)>=30||Math.abs(n-s.current.y)>=30))return i(e,()=>Xg(e.target)?e.target:null)},!0),vy(e,"blur",e=>i(e,()=>{return Yg(e=window.document.activeElement)&&"IFRAME"===e.nodeName?window.document.activeElement:null;var e}),!0)}function by(...e){return(0,c.useMemo)(()=>Mg(...e),[...e])}function xy(...e){return Array.from(new Set(e.flatMap(e=>"string"==typeof e?e.split(" "):[]))).filter(Boolean).join(" ")}var wy,jy=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(jy||{}),Sy=((wy=Sy||{})[wy.Unmount=0]="Unmount",wy[wy.Hidden=1]="Hidden",wy);function ky(){let e=function(){let e=(0,c.useRef)([]),t=(0,c.useCallback)(t=>{for(let n of e.current)null!=n&&("function"==typeof n?n(t):n.current=t)},[]);return(...n)=>{if(!n.every(e=>null==e))return e.current=n,t}}();return(0,c.useCallback)(t=>function({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:o=!0,name:s,mergeRefs:a}){a=null!=a?a:Ty;let c=Ey(t,e);if(o)return Cy(c,n,r,s,a);let l=null!=i?i:0;if(2&l){let{static:e=!1,...t}=c;if(e)return Cy(t,n,r,s,a)}if(1&l){let{unmount:e=!0,...t}=c;return ny(e?0:1,{0:()=>null,1:()=>Cy({...t,hidden:!0,style:{display:"none"}},n,r,s,a)})}return Cy(c,n,r,s,a)}({mergeRefs:e,...t}),[e])}function Cy(e,t={},n,r,i){let{as:o=n,children:s,refName:a="ref",...l}=Ny(e,["unmount","static"]),u=void 0!==e.ref?{[a]:e.ref}:{},d="function"==typeof s?s(t):s;"className"in l&&l.className&&"function"==typeof l.className&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let p={};if(t){let e=!1,n=[];for(let[r,i]of Object.entries(t))"boolean"==typeof i&&(e=!0),!0===i&&n.push(r.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`));if(e){p["data-headlessui-state"]=n.join(" ");for(let e of n)p[`data-${e}`]=""}}if(Iy(o)&&(Object.keys(Ry(l)).length>0||Object.keys(Ry(p)).length>0)){if(!(!(0,c.isValidElement)(d)||Array.isArray(d)&&d.length>1||function(e){return Iy(e.type)}(d))){let e=d.props,t=null==e?void 0:e.className,n="function"==typeof t?(...e)=>xy(t(...e),l.className):xy(t,l.className),r=n?{className:n}:{},o=Ey(d.props,Ry(Ny(l,["ref"])));for(let e in p)e in o&&delete p[e];return(0,c.cloneElement)(d,Object.assign({},o,p,u,{ref:i(Ay(d),u.ref)},r))}if(Object.keys(Ry(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ry(l)).concat(Object.keys(Ry(p))).map(e=>`  - ${e}`).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(e=>`  - ${e}`).join("\n")].join("\n"))}return(0,c.createElement)(o,Object.assign({},Ny(l,["ref"]),!Iy(o)&&u,!Iy(o)&&p),d)}function Ty(...e){return e.every(e=>null==e)?void 0:t=>{for(let n of e)null!=n&&("function"==typeof n?n(t):n.current=t)}}function Ey(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},n={};for(let r of e)for(let e in r)e.startsWith("on")&&"function"==typeof r[e]?(null!=n[e]||(n[e]=[]),n[e].push(r[e])):t[e]=r[e];if(t.disabled||t["aria-disabled"])for(let e in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(e)&&(n[e]=[e=>{var t;return null==(t=null==e?void 0:e.preventDefault)?void 0:t.call(e)}]);for(let e in n)Object.assign(t,{[e](t,...r){let i=n[e];for(let e of i){if((t instanceof Event||(null==t?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;e(t,...r)}}});return t}function Py(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},n={};for(let r of e)for(let e in r)e.startsWith("on")&&"function"==typeof r[e]?(null!=n[e]||(n[e]=[]),n[e].push(r[e])):t[e]=r[e];for(let e in n)Object.assign(t,{[e](...t){let r=n[e];for(let e of r)null==e||e(...t)}});return t}function Oy(e){var t;return Object.assign((0,c.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function Ry(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}function Ny(e,t=[]){let n=Object.assign({},e);for(let e of t)e in n&&delete n[e];return n}function Ay(e){return c.version.split(".")[0]>="19"?e.props.ref:e.ref}function Iy(e){return e===c.Fragment||e===Symbol.for("react.fragment")}var zy=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(zy||{});let Fy=Oy(function(e,t){var n;let{features:r=1,...i}=e,o={ref:t,"aria-hidden":!(2&~r)||(null!=(n=i["aria-hidden"])?n:void 0),hidden:!(4&~r)||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...!(4&~r)&&!!(2&~r)&&{display:"none"}}};return ky()({ourProps:o,theirProps:i,slot:{},defaultTag:"span",name:"Hidden"})}),Dy=(0,c.createContext)(null);function Ly({children:e,node:t}){let[n,r]=(0,c.useState)(null),i=My(null!=t?t:n);return c.createElement(Dy.Provider,{value:i},e,null===i&&c.createElement(Fy,{features:zy.Hidden,ref:e=>{var t,n;if(e)for(let i of null!=(n=null==(t=Mg(e))?void 0:t.querySelectorAll("html > *, body > *"))?n:[])if(i!==document.body&&i!==document.head&&Jg(i)&&null!=i&&i.contains(e)){r(i);break}}}))}function My(e=null){var t;return null!=(t=(0,c.useContext)(Dy))?t:e}function $y(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=null!=(n=t.defaultView)?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-i);n.style(r,"paddingRight",`${o}px`)}}}function Uy(){return my()?{before({doc:e,d:t,meta:n}){function r(e){for(let t of n().containers)for(let n of t())if(n.contains(e))return!0;return!1}t.microTask(()=>{var n;if("auto"!==window.getComputedStyle(e.documentElement).scrollBehavior){let n=Zg();n.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>n.dispose()))}let i=null!=(n=window.scrollY)?n:window.pageYOffset,o=null;t.addEventListener(e,"click",t=>{if(Xg(t.target))try{let n=t.target.closest("a");if(!n)return;let{hash:i}=new URL(n.href),s=e.querySelector(i);Xg(s)&&!r(s)&&(o=s)}catch{}},!0),t.group(n=>{t.addEventListener(e,"touchstart",e=>{if(n.dispose(),Xg(e.target)&&function(e){return Jg(e)&&"style"in e}(e.target))if(r(e.target)){let t=e.target;for(;t.parentElement&&r(t.parentElement);)t=t.parentElement;n.style(t,"overscrollBehavior","contain")}else n.style(e.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",e=>{if(Xg(e.target)){if(function(e){return Yg(e)&&"INPUT"===e.nodeName}(e.target))return;if(r(e.target)){let t=e.target;for(;t.parentElement&&""!==t.dataset.headlessuiPortal&&!(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth);)t=t.parentElement;""===t.dataset.headlessuiPortal&&e.preventDefault()}else e.preventDefault()}},{passive:!1}),t.add(()=>{var e;let t=null!=(e=window.scrollY)?e:window.pageYOffset;i!==t&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function By(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Zy=function(e,t){let n=new Map,r=new Set;return{getSnapshot:()=>n,subscribe:e=>(r.add(e),()=>r.delete(e)),dispatch(e,...i){let o=t[e].call(n,...i);o&&(n=o,r.forEach(e=>e()))}}}(0,{PUSH(e,t){var n;let r=null!=(n=this.get(e))?n:{doc:e,count:0,d:Zg(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(t),r.computedMeta=By(r.meta),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t),n.computedMeta=By(n.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta:()=>e.computedMeta},n=[Uy(),$y(),{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}];n.forEach(({before:e})=>null==e?void 0:e(t)),n.forEach(({after:e})=>null==e?void 0:e(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});function qy(e,t,n=()=>({containers:[]})){let r=function(e){return(0,c.useSyncExternalStore)(e.subscribe,e.getSnapshot,e.getSnapshot)}(Zy),i=t?r.get(t):void 0,o=!!i&&i.count>0;return Hg(()=>{if(t&&e)return Zy.dispatch("PUSH",t,n),()=>Zy.dispatch("POP",t,n)},[e,t]),o}Zy.subscribe(()=>{let e=Zy.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let e="hidden"===t.get(n.doc),r=0!==n.count;(r&&!e||!r&&e)&&Zy.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),0===n.count&&Zy.dispatch("TEARDOWN",n)}});class Hy extends Map{constructor(e){super(),this.factory=e}get(e){let t=super.get(e);return void 0===t&&(t=this.factory(e),this.set(e,t)),t}}var Wy,Gy,Vy,Qy=Object.defineProperty,Ky=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Jy=(e,t,n)=>(Ky(e,t,"read from private field"),n?n.call(e):t.get(e)),Yy=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Xy=(e,t,n,r)=>(Ky(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);class ev{constructor(e){Yy(this,Wy,{}),Yy(this,Gy,new Hy(()=>new Set)),Yy(this,Vy,new Set),((e,t,n)=>{((e,t,n)=>{t in e?Qy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"disposables",Zg()),Xy(this,Wy,e),Lg.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Jy(this,Wy)}subscribe(e,t){if(Lg.isServer)return()=>{};let n={selector:e,callback:t,current:e(Jy(this,Wy))};return Jy(this,Vy).add(n),this.disposables.add(()=>{Jy(this,Vy).delete(n)})}on(e,t){return Lg.isServer?()=>{}:(Jy(this,Gy).get(e).add(t),this.disposables.add(()=>{Jy(this,Gy).get(e).delete(t)}))}send(e){let t=this.reduce(Jy(this,Wy),e);if(t!==Jy(this,Wy)){Xy(this,Wy,t);for(let e of Jy(this,Vy)){let t=e.selector(Jy(this,Wy));tv(e.current,t)||(e.current=t,e.callback(t))}for(let t of Jy(this,Gy).get(e.type))t(Jy(this,Wy),e)}}}function tv(e,t){return!!Object.is(e,t)||"object"==typeof e&&null!==e&&"object"==typeof t&&null!==t&&(Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&nv(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size===t.size&&nv(e.entries(),t.entries()):!(!rv(e)||!rv(t))&&nv(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()))}function nv(e,t){for(;;){let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}}function rv(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||null===Object.getPrototypeOf(t)}Wy=new WeakMap,Gy=new WeakMap,Vy=new WeakMap;var iv=Object.defineProperty,ov=(e,t,n)=>(((e,t,n)=>{t in e?iv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),sv=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(sv||{});let av={0(e,t){let n=t.id,r=e.stack,i=e.stack.indexOf(n);if(-1!==i){let t=e.stack.slice();return t.splice(i,1),t.push(n),r=t,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(-1===r)return e;let i=e.stack.slice();return i.splice(r,1),{...e,stack:i}}};class cv extends ev{constructor(){super(...arguments),ov(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),ov(this,"selectors",{isTop:(e,t)=>e.stack[e.stack.length-1]===t,inStack:(e,t)=>e.stack.includes(t)})}static new(){return new cv({stack:[]})}reduce(e,t){return ny(t.type,av,e,t)}}const lv=new Hy(()=>cv.new());var uv=n(721);function dv(e,t,n=tv){return(0,uv.useSyncExternalStoreWithSelector)(Gg(t=>e.subscribe(pv,t)),Gg(()=>e.state),Gg(()=>e.state),Gg(t),n)}function pv(e){return e}function hv(e){return(0,c.useMemo)(()=>e,Object.values(e))}let fv=Symbol();function mv(e,t=!0){return Object.assign(e,{[fv]:t})}function gv(...e){let t=(0,c.useRef)(e);(0,c.useEffect)(()=>{t.current=e},[e]);let n=Gg(e=>{for(let n of t.current)null!=n&&("function"==typeof n?n(e):n.current=e)});return e.every(e=>null==e||(null==e?void 0:e[fv]))?void 0:n}var yv,vv,_v=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(_v||{});function bv(){let e=(0,c.useRef)(0);return vy(!0,"keydown",t=>{"Tab"===t.key&&(e.current=t.shiftKey?1:0)},!0),e}"undefined"!=typeof process&&"undefined"!=typeof globalThis&&"undefined"!=typeof Element&&"test"===(null==(yv=null==process?void 0:{NODE_ENV:"production"})?void 0:yv.NODE_ENV)&&void 0===(null==(vv=null==Element?void 0:Element.prototype)?void 0:vv.getAnimations)&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join("\n")),[]});var xv=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(xv||{});function wv(e){let t={};for(let n in e)!0===e[n]&&(t[`data-${n}`]="");return t}function jv(e,t,n,r){let[i,o]=(0,c.useState)(n),{hasFlag:s,addFlag:a,removeFlag:l}=function(e=0){let[t,n]=(0,c.useState)(e),r=(0,c.useCallback)(e=>n(e),[]),i=(0,c.useCallback)(e=>n(t=>t|e),[]),o=(0,c.useCallback)(e=>(t&e)===e,[t]),s=(0,c.useCallback)(e=>n(t=>t&~e),[]),a=(0,c.useCallback)(e=>n(t=>t^e),[]);return{flags:t,setFlag:r,addFlag:i,hasFlag:o,removeFlag:s,toggleFlag:a}}(e&&i?3:0),u=(0,c.useRef)(!1),d=(0,c.useRef)(!1),p=qg();return Hg(()=>{var i;if(e)return n&&o(!0),t?(null==(i=null==r?void 0:r.start)||i.call(r,n),function(e,{prepare:t,run:n,done:r,inFlight:i}){let o=Zg();return function(e,{inFlight:t,prepare:n}){if(null!=t&&t.current)return void n();let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}(e,{prepare:t,inFlight:i}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(function(e,t){var n,r;let i=Zg();if(!e)return i.dispose;let o=!1;i.add(()=>{o=!0});let s=null!=(r=null==(n=e.getAnimations)?void 0:n.call(e).filter(e=>e instanceof CSSTransition))?r:[];return 0===s.length?(t(),i.dispose):(Promise.allSettled(s.map(e=>e.finished)).then(()=>{o||t()}),i.dispose)}(e,r))})}),o.dispose}(t,{inFlight:u,prepare(){d.current?d.current=!1:d.current=u.current,u.current=!0,!d.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){d.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var e;d.current&&function(e){var t,n;return(null!=(n=null==(t=e.getAnimations)?void 0:t.call(e))?n:[]).some(e=>e instanceof CSSTransition&&"finished"!==e.playState)}(t)||(u.current=!1,l(7),n||o(!1),null==(e=null==r?void 0:r.end)||e.call(r,n))}})):void(n&&a(3))},[e,n,t,p]),e?[i,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}let Sv=(0,c.createContext)(()=>{});function kv({value:e,children:t}){return c.createElement(Sv.Provider,{value:e},t)}const Cv=Math.min,Tv=Math.max,Ev=Math.round,Pv=Math.floor,Ov=e=>({x:e,y:e}),Rv={left:"right",right:"left",bottom:"top",top:"bottom"},Nv={start:"end",end:"start"};function Av(e,t,n){return Tv(e,Cv(t,n))}function Iv(e,t){return"function"==typeof e?e(t):e}function zv(e){return e.split("-")[0]}function Fv(e){return e.split("-")[1]}function Dv(e){return"x"===e?"y":"x"}function Lv(e){return"y"===e?"height":"width"}const Mv=new Set(["top","bottom"]);function $v(e){return Mv.has(zv(e))?"y":"x"}function Uv(e){return Dv($v(e))}function Bv(e){return e.replace(/start|end/g,e=>Nv[e])}const Zv=["left","right"],qv=["right","left"],Hv=["top","bottom"],Wv=["bottom","top"];function Gv(e){return e.replace(/left|right|bottom|top/g,e=>Rv[e])}function Vv(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Qv(){return"undefined"!=typeof window}function Kv(e){return Xv(e)?(e.nodeName||"").toLowerCase():"#document"}function Jv(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Yv(e){var t;return null==(t=(Xv(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Xv(e){return!!Qv()&&(e instanceof Node||e instanceof Jv(e).Node)}function e_(e){return!!Qv()&&(e instanceof Element||e instanceof Jv(e).Element)}function t_(e){return!!Qv()&&(e instanceof HTMLElement||e instanceof Jv(e).HTMLElement)}function n_(e){return!(!Qv()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Jv(e).ShadowRoot)}const r_=new Set(["inline","contents"]);function i_(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=g_(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!r_.has(i)}const o_=new Set(["table","td","th"]);function s_(e){return o_.has(Kv(e))}const a_=[":popover-open",":modal"];function c_(e){return a_.some(t=>{try{return e.matches(t)}catch(e){return!1}})}const l_=["transform","translate","scale","rotate","perspective"],u_=["transform","translate","scale","rotate","perspective","filter"],d_=["paint","layout","strict","content"];function p_(e){const t=h_(),n=e_(e)?g_(e):e;return l_.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||u_.some(e=>(n.willChange||"").includes(e))||d_.some(e=>(n.contain||"").includes(e))}function h_(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const f_=new Set(["html","body","#document"]);function m_(e){return f_.has(Kv(e))}function g_(e){return Jv(e).getComputedStyle(e)}function y_(e){return e_(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function v_(e){if("html"===Kv(e))return e;const t=e.assignedSlot||e.parentNode||n_(e)&&e.host||Yv(e);return n_(t)?t.host:t}function b_(e){const t=v_(e);return m_(t)?e.ownerDocument?e.ownerDocument.body:e.body:t_(t)&&i_(t)?t:b_(t)}function x_(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=b_(e),o=i===(null==(r=e.ownerDocument)?void 0:r.body),s=Jv(i);if(o){const e=w_(s);return t.concat(s,s.visualViewport||[],i_(i)?i:[],e&&n?x_(e):[])}return t.concat(i,x_(i,[],n))}function w_(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function j_(e,t,n){let{reference:r,floating:i}=e;const o=$v(t),s=Uv(t),a=Lv(s),c=zv(t),l="y"===o,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let h;switch(c){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(Fv(t)){case"start":h[s]-=p*(n&&l?-1:1);break;case"end":h[s]+=p*(n&&l?-1:1)}return h}async function S_(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:h=0}=Iv(t,e),f=function(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}(h),m=a[p?"floating"===d?"reference":"floating":d],g=Vv(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(m)))||n?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),y="floating"===d?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,v=await(null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),_=await(null==o.isElement?void 0:o.isElement(v))&&await(null==o.getScale?void 0:o.getScale(v))||{x:1,y:1},b=Vv(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:v,strategy:c}):y);return{top:(g.top-b.top+f.top)/_.y,bottom:(b.bottom-g.bottom+f.bottom)/_.y,left:(g.left-b.left+f.left)/_.x,right:(b.right-g.right+f.right)/_.x}}const k_=new Set(["left","top"]);function C_(e){const t=g_(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=t_(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=Ev(n)!==o||Ev(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function T_(e){return e_(e)?e:e.contextElement}function E_(e){const t=T_(e);if(!t_(t))return Ov(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=C_(t);let s=(o?Ev(n.width):n.width)/r,a=(o?Ev(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const P_=Ov(0);function O_(e){const t=Jv(e);return h_()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:P_}function R_(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),o=T_(e);let s=Ov(1);t&&(r?e_(r)&&(s=E_(r)):s=E_(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Jv(e))&&t}(o,n,r)?O_(o):Ov(0);let c=(i.left+a.x)/s.x,l=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const e=Jv(o),t=r&&e_(r)?Jv(r):r;let n=e,i=w_(n);for(;i&&r&&t!==n;){const e=E_(i),t=i.getBoundingClientRect(),r=g_(i),o=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,l*=e.y,u*=e.x,d*=e.y,c+=o,l+=s,n=Jv(i),i=w_(n)}}return Vv({width:u,height:d,x:c,y:l})}function N_(e,t){const n=y_(e).scrollLeft;return t?t.left+n:R_(Yv(e)).left+n}function A_(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-N_(e,n),y:n.top+t.scrollTop}}const I_=new Set(["absolute","fixed"]);function z_(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=Jv(e),r=Yv(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;const e=h_();(!e||e&&"fixed"===t)&&(a=i.offsetLeft,c=i.offsetTop)}const l=N_(r);if(l<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,s=Math.abs(r.clientWidth-t.clientWidth-i);s<=25&&(o-=s)}else l<=25&&(o+=l);return{width:o,height:s,x:a,y:c}}(e,n);else if("document"===t)r=function(e){const t=Yv(e),n=y_(e),r=e.ownerDocument.body,i=Tv(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Tv(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+N_(e);const a=-n.scrollTop;return"rtl"===g_(r).direction&&(s+=Tv(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}(Yv(e));else if(e_(t))r=function(e,t){const n=R_(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=t_(e)?E_(e):Ov(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:i*o.x,y:r*o.y}}(t,n);else{const n=O_(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Vv(r)}function F_(e,t){const n=v_(e);return!(n===t||!e_(n)||m_(n))&&("fixed"===g_(n).position||F_(n,t))}function D_(e,t,n){const r=t_(t),i=Yv(t),o="fixed"===n,s=R_(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=Ov(0);function l(){c.x=N_(i)}if(r||!r&&!o)if(("body"!==Kv(t)||i_(i))&&(a=y_(t)),r){const e=R_(t,!0,o,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else i&&l();o&&!r&&i&&l();const u=!i||r||o?Ov(0):A_(i,a);return{x:s.left+a.scrollLeft-c.x-u.x,y:s.top+a.scrollTop-c.y-u.y,width:s.width,height:s.height}}function L_(e){return"static"===g_(e).position}function M_(e,t){if(!t_(e)||"fixed"===g_(e).position)return null;if(t)return t(e);let n=e.offsetParent;return Yv(e)===n&&(n=n.ownerDocument.body),n}function $_(e,t){const n=Jv(e);if(c_(e))return n;if(!t_(e)){let t=v_(e);for(;t&&!m_(t);){if(e_(t)&&!L_(t))return t;t=v_(t)}return n}let r=M_(e,t);for(;r&&s_(r)&&L_(r);)r=M_(r,t);return r&&m_(r)&&L_(r)&&!p_(r)?n:r||function(e){let t=v_(e);for(;t_(t)&&!m_(t);){if(p_(t))return t;if(c_(t))return null;t=v_(t)}return null}(e)||n}const U_={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o="fixed"===i,s=Yv(r),a=!!t&&c_(t.floating);if(r===s||a&&o)return n;let c={scrollLeft:0,scrollTop:0},l=Ov(1);const u=Ov(0),d=t_(r);if((d||!d&&!o)&&(("body"!==Kv(r)||i_(s))&&(c=y_(r)),t_(r))){const e=R_(r);l=E_(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const p=!s||d||o?Ov(0):A_(s,c);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+p.x,y:n.y*l.y-c.scrollTop*l.y+u.y+p.y}},getDocumentElement:Yv,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[..."clippingAncestors"===n?c_(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=x_(e,[],!1).filter(e=>e_(e)&&"body"!==Kv(e)),i=null;const o="fixed"===g_(e).position;let s=o?v_(e):e;for(;e_(s)&&!m_(s);){const t=g_(s),n=p_(s);n||"fixed"!==t.position||(i=null),(o?!n&&!i:!n&&"static"===t.position&&i&&I_.has(i.position)||i_(s)&&!n&&F_(e,s))?r=r.filter(e=>e!==s):i=t,s=v_(s)}return t.set(e,r),r}(t,this._c):[].concat(n),r],s=o[0],a=o.reduce((e,n)=>{const r=z_(t,n,i);return e.top=Tv(r.top,e.top),e.right=Cv(r.right,e.right),e.bottom=Cv(r.bottom,e.bottom),e.left=Tv(r.left,e.left),e},z_(t,s,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:$_,getElementRects:async function(e){const t=this.getOffsetParent||$_,n=this.getDimensions,r=await n(e.floating);return{reference:D_(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=C_(e);return{width:t,height:n}},getScale:E_,isElement:e_,isRTL:function(e){return"rtl"===g_(e).direction}};function B_(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Z_(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:c=!1}=r,l=T_(e),u=i||o?[...l?x_(l):[],...x_(t)]:[];u.forEach(e=>{i&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)});const d=l&&a?function(e,t){let n,r=null;const i=Yv(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(a,c){void 0===a&&(a=!1),void 0===c&&(c=1),o();const l=e.getBoundingClientRect(),{left:u,top:d,width:p,height:h}=l;if(a||t(),!p||!h)return;const f={rootMargin:-Pv(d)+"px "+-Pv(i.clientWidth-(u+p))+"px "+-Pv(i.clientHeight-(d+h))+"px "+-Pv(u)+"px",threshold:Tv(0,Cv(1,c))||1};let m=!0;function g(t){const r=t[0].intersectionRatio;if(r!==c){if(!m)return s();r?s(!1,r):n=setTimeout(()=>{s(!1,1e-7)},1e3)}1!==r||B_(l,e.getBoundingClientRect())||s(),m=!1}try{r=new IntersectionObserver(g,{...f,root:i.ownerDocument})}catch(e){r=new IntersectionObserver(g,f)}r.observe(e)}(!0),o}(l,n):null;let p,h=-1,f=null;s&&(f=new ResizeObserver(e=>{let[r]=e;r&&r.target===l&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var e;null==(e=f)||e.observe(t)})),n()}),l&&!c&&f.observe(l),f.observe(t));let m=c?R_(e):null;return c&&function t(){const r=R_(e);m&&!B_(m,r)&&n(),m=r,p=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)}),null==d||d(),null==(e=f)||e.disconnect(),f=null,c&&cancelAnimationFrame(p)}}const q_=S_,H_=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,c=await async function(e,t){const{placement:n,platform:r,elements:i}=e,o=await(null==r.isRTL?void 0:r.isRTL(i.floating)),s=zv(n),a=Fv(n),c="y"===$v(n),l=k_.has(s)?-1:1,u=o&&c?-1:1,d=Iv(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:f}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&"number"==typeof f&&(h="end"===a?-1*f:f),c?{x:h*u,y:p*l}:{x:p*l,y:h*u}}(t,e);return s===(null==(n=a.offset)?void 0:n.placement)&&null!=(r=a.arrow)&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:s}}}}},W_=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i,platform:o}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:c={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=Iv(e,t),u={x:n,y:r},d=await o.detectOverflow(t,l),p=$v(zv(i)),h=Dv(p);let f=u[h],m=u[p];if(s){const e="y"===h?"bottom":"right";f=Av(f+d["y"===h?"top":"left"],f,f-d[e])}if(a){const e="y"===p?"bottom":"right";m=Av(m+d["y"===p?"top":"left"],m,m-d[e])}const g=c.fn({...t,[h]:f,[p]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:s,[p]:a}}}}}},G_=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:c,elements:l}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:m=!0,...g}=Iv(e,t);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const y=zv(i),v=$v(a),_=zv(a)===a,b=await(null==c.isRTL?void 0:c.isRTL(l.floating)),x=p||(_||!m?[Gv(a)]:function(e){const t=Gv(e);return[Bv(e),t,Bv(t)]}(a)),w="none"!==f;!p&&w&&x.push(...function(e,t,n,r){const i=Fv(e);let o=function(e,t,n){switch(e){case"top":case"bottom":return n?t?qv:Zv:t?Zv:qv;case"left":case"right":return t?Hv:Wv;default:return[]}}(zv(e),"start"===n,r);return i&&(o=o.map(e=>e+"-"+i),t&&(o=o.concat(o.map(Bv)))),o}(a,m,f,b));const j=[a,...x],S=await c.detectOverflow(t,g),k=[];let C=(null==(r=o.flip)?void 0:r.overflows)||[];if(u&&k.push(S[y]),d){const e=function(e,t,n){void 0===n&&(n=!1);const r=Fv(e),i=Uv(e),o=Lv(i);let s="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=Gv(s)),[s,Gv(s)]}(i,s,b);k.push(S[e[0]],S[e[1]])}if(C=[...C,{placement:i,overflows:k}],!k.every(e=>e<=0)){var T,E;const e=((null==(T=o.flip)?void 0:T.index)||0)+1,t=j[e];if(t&&("alignment"!==d||v===$v(t)||C.every(e=>$v(e.placement)!==v||e.overflows[0]>0)))return{data:{index:e,overflows:C},reset:{placement:t}};let n=null==(E=C.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:E.placement;if(!n)switch(h){case"bestFit":{var P;const e=null==(P=C.filter(e=>{if(w){const t=$v(e.placement);return t===v||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:P[0];e&&(n=e);break}case"initialPlacement":n=a}if(i!==n)return{reset:{placement:n}}}return{}}}},V_=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:s,elements:a}=t,{apply:c=()=>{},...l}=Iv(e,t),u=await s.detectOverflow(t,l),d=zv(i),p=Fv(i),h="y"===$v(i),{width:f,height:m}=o.floating;let g,y;"top"===d||"bottom"===d?(g=d,y=p===(await(null==s.isRTL?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,g="end"===p?"top":"bottom");const v=m-u.top-u.bottom,_=f-u.left-u.right,b=Cv(m-u[g],v),x=Cv(f-u[y],_),w=!t.middlewareData.shift;let j=b,S=x;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(S=_),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(j=v),w&&!p){const e=Tv(u.left,0),t=Tv(u.right,0),n=Tv(u.top,0),r=Tv(u.bottom,0);h?S=f-2*(0!==e||0!==t?e+t:Tv(u.left,u.right)):j=m-2*(0!==n||0!==r?n+r:Tv(u.top,u.bottom))}await c({...t,availableWidth:S,availableHeight:j});const k=await s.getDimensions(a.floating);return f!==k.width||m!==k.height?{reset:{rects:!0}}:{}}}},Q_=(e,t,n)=>{const r=new Map,i={platform:U_,...n},o={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),c=await(null==s.isRTL?void 0:s.isRTL(t));let l=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=j_(l,r,c),p=r,h={},f=0;for(let n=0;n<a.length;n++){var m;const{name:o,fn:g}=a[n],{x:y,y:v,data:_,reset:b}=await g({x:u,y:d,initialPlacement:r,placement:p,strategy:i,middlewareData:h,rects:l,platform:{...s,detectOverflow:null!=(m=s.detectOverflow)?m:S_},elements:{reference:e,floating:t}});u=null!=y?y:u,d=null!=v?v:d,h={...h,[o]:{...h[o],..._}},b&&f<=50&&(f++,"object"==typeof b&&(b.placement&&(p=b.placement),b.rects&&(l=!0===b.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:u,y:d}=j_(l,p,c))),n=-1)}return{x:u,y:d,placement:p,strategy:i,middlewareData:h}})(e,t,{...i,platform:o})};var K_="undefined"!=typeof document?c.useLayoutEffect:function(){};function J_(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!J_(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(!("_owner"===n&&e.$$typeof||J_(e[n],t[n])))return!1}return!0}return e!=e&&t!=t}function Y_(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function X_(e,t){const n=Y_(e);return Math.round(t*n)/n}function eb(e){const t=c.useRef(e);return K_(()=>{t.current=e}),t}const tb=(e,t)=>({...H_(e),options:[e,t]}),nb=(e,t)=>({...W_(e),options:[e,t]}),rb=(e,t)=>({...G_(e),options:[e,t]}),ib=(e,t)=>({...V_(e),options:[e,t]}),ob={...l},sb=ob.useInsertionEffect||(e=>e());function ab(e){const t=c.useRef(()=>{});return sb(()=>{t.current=e}),c.useCallback(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}var cb="undefined"!=typeof document?c.useLayoutEffect:c.useEffect;let lb=!1,ub=0;const db=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+ub++,pb=ob.useId||function(){const[e,t]=c.useState(()=>lb?db():void 0);return cb(()=>{null==e&&t(db())},[]),c.useEffect(()=>{lb=!0},[]),e};const hb=c.createContext(null),fb=c.createContext(null),mb="data-floating-ui-focusable";function gb(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=pb(),o=c.useRef({}),[s]=c.useState(()=>function(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach(e=>e(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter(e=>e!==n))||[])}}}()),a=null!=((null==(f=c.useContext(hb))?void 0:f.id)||null),[l,u]=c.useState(r.reference),d=ab((e,t,r)=>{o.current.openEvent=e?t:void 0,s.emit("openchange",{open:e,event:t,reason:r,nested:a}),null==n||n(e,t,r)}),p=c.useMemo(()=>({setPositionReference:u}),[]),h=c.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);var f;return c.useMemo(()=>({dataRef:o,open:t,onOpenChange:d,elements:h,events:s,floatingId:i,refs:p}),[t,d,h,s,i,p])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,s]=c.useState(null),[a,l]=c.useState(null),u=(null==i?void 0:i.domReference)||o,d=c.useRef(null),p=c.useContext(fb);cb(()=>{u&&(d.current=u)},[u]);const h=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[d,p]=c.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,f]=c.useState(r);J_(h,r)||f(r);const[m,g]=c.useState(null),[y,v]=c.useState(null),_=c.useCallback(e=>{e!==j.current&&(j.current=e,g(e))},[]),b=c.useCallback(e=>{e!==S.current&&(S.current=e,v(e))},[]),x=o||m,w=s||y,j=c.useRef(null),S=c.useRef(null),k=c.useRef(d),C=null!=l,T=eb(l),E=eb(i),P=eb(u),O=c.useCallback(()=>{if(!j.current||!S.current)return;const e={placement:t,strategy:n,middleware:h};E.current&&(e.platform=E.current),Q_(j.current,S.current,e).then(e=>{const t={...e,isPositioned:!1!==P.current};R.current&&!J_(k.current,t)&&(k.current=t,$p.flushSync(()=>{p(t)}))})},[h,t,n,E,P]);K_(()=>{!1===u&&k.current.isPositioned&&(k.current.isPositioned=!1,p(e=>({...e,isPositioned:!1})))},[u]);const R=c.useRef(!1);K_(()=>(R.current=!0,()=>{R.current=!1}),[]),K_(()=>{if(x&&(j.current=x),w&&(S.current=w),x&&w){if(T.current)return T.current(x,w,O);O()}},[x,w,O,T,C]);const N=c.useMemo(()=>({reference:j,floating:S,setReference:_,setFloating:b}),[_,b]),A=c.useMemo(()=>({reference:x,floating:w}),[x,w]),I=c.useMemo(()=>{const e={position:n,left:0,top:0};if(!A.floating)return e;const t=X_(A.floating,d.x),r=X_(A.floating,d.y);return a?{...e,transform:"translate("+t+"px, "+r+"px)",...Y_(A.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,a,A.floating,d.x,d.y]);return c.useMemo(()=>({...d,update:O,refs:N,elements:A,floatingStyles:I}),[d,O,N,A,I])}({...e,elements:{...i,...a&&{reference:a}}}),f=c.useCallback(e=>{const t=e_(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;l(t),h.refs.setReference(t)},[h.refs]),m=c.useCallback(e=>{(e_(e)||null===e)&&(d.current=e,s(e)),(e_(h.refs.reference.current)||null===h.refs.reference.current||null!==e&&!e_(e))&&h.refs.setReference(e)},[h.refs]),g=c.useMemo(()=>({...h.refs,setReference:m,setPositionReference:f,domReference:d}),[h.refs,m,f]),y=c.useMemo(()=>({...h.elements,domReference:u}),[h.elements,u]),v=c.useMemo(()=>({...h,...r,refs:g,elements:y,nodeId:t}),[h,g,y,t,r]);return cb(()=>{r.dataRef.current.floatingContext=v;const e=null==p?void 0:p.nodesRef.current.find(e=>e.id===t);e&&(e.context=v)}),c.useMemo(()=>({...h,context:v,refs:g,elements:y}),[h,g,y,v])}const yb="active",vb="selected";function _b(e,t,n){const r=new Map,i="item"===n;let o=e;if(i&&e){const{[yb]:t,[vb]:__,...n}=e;o=n}return{..."floating"===n&&{tabIndex:-1,[mb]:""},...o,...t.map(t=>{const r=t?t[n]:null;return"function"==typeof r?e?r(e):null:r}).concat(e).reduce((e,t)=>t?(Object.entries(t).forEach(t=>{let[n,o]=t;var s;i&&[yb,vb].includes(n)||(0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"==typeof o&&(null==(s=r.get(n))||s.push(o),e[n]=function(){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return null==(e=r.get(n))?void 0:e.map(e=>e(...i)).find(e=>void 0!==e)})):e[n]=o)}),e):e,{})}}function bb(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}let xb=(0,c.createContext)({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});xb.displayName="FloatingContext";let wb=(0,c.createContext)(null);function jb({children:e,enabled:t=!0}){let[n,r]=(0,c.useState)(null),[i,o]=(0,c.useState)(0),s=(0,c.useRef)(null),[a,l]=(0,c.useState)(null);!function(e){Hg(()=>{if(!e)return;let t=new MutationObserver(()=>{let t=window.getComputedStyle(e).maxHeight,n=parseFloat(t);if(isNaN(n))return;let r=parseInt(t);isNaN(r)||n!==r&&(e.style.maxHeight=`${Math.ceil(n)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}(a);let u=t&&null!==n&&null!==a,{to:d="bottom",gap:p=0,offset:h=0,padding:f=0,inner:m}=function(e,t){var n,r,i;let o=Sb(null!=(n=null==e?void 0:e.gap)?n:"var(--anchor-gap, 0)",t),s=Sb(null!=(r=null==e?void 0:e.offset)?r:"var(--anchor-offset, 0)",t),a=Sb(null!=(i=null==e?void 0:e.padding)?i:"var(--anchor-padding, 0)",t);return{...e,gap:o,offset:s,padding:a}}(n,a),[g,y="center"]=d.split(" ");Hg(()=>{u&&o(0)},[u]);let{refs:v,floatingStyles:_,context:b}=gb({open:u,placement:"selection"===g?"center"===y?"bottom":`bottom-${y}`:"center"===y?`${g}`:`${g}-${y}`,strategy:"absolute",transform:!1,middleware:[tb({mainAxis:"selection"===g?0:p,crossAxis:h}),nb({padding:f}),"selection"!==g&&rb({padding:f}),"selection"===g&&m?(j={...m,padding:f,overflowRef:s,offset:i,minItemsVisible:4,referenceOverflowThreshold:f,onFallbackChange(e){var t,n;if(!e)return;let r=b.elements.floating;if(!r)return;let i=parseFloat(getComputedStyle(r).scrollPaddingBottom)||0,s=Math.min(4,r.childElementCount),a=0,c=0;for(let e of null!=(n=null==(t=b.elements.floating)?void 0:t.childNodes)?n:[])if(Yg(e)){let t=e.offsetTop,n=t+e.clientHeight+i,o=r.scrollTop,l=o+r.clientHeight;if(!(t>=o&&n<=l)){c=Math.max(0,Math.min(n,l)-Math.max(t,o)),a=e.clientHeight;break}s--}s>=1&&o(e=>{let t=a*s-c+i;return e>=t?e:t})}},{name:"inner",options:j,async fn(e){const{listRef:t,overflowRef:n,onFallbackChange:r,offset:i=0,index:o=0,minItemsVisible:s=4,referenceOverflowThreshold:a=0,scrollRef:c,...l}=Iv(j,e),{rects:u,elements:{floating:d}}=e,p=t.current[o],h=(null==c?void 0:c.current)||d,f=d.clientTop||h.clientTop,m=0!==d.clientTop,g=0!==h.clientTop,y=d===h;if(!p)return{};const v={...e,...await tb(-p.offsetTop-d.clientTop-u.reference.height/2-p.offsetHeight/2-i).fn(e)},_=await q_(bb(v,h.scrollHeight+f+d.clientTop),l),b=await q_(v,{...l,elementContext:"reference"}),x=Tv(0,_.top),w=v.y+x,S=h.scrollHeight>h.clientHeight?e=>e:Ev,k=S(Tv(0,h.scrollHeight+(m&&y||g?2*f:0)-x-Tv(0,_.bottom)));if(h.style.maxHeight=k+"px",h.scrollTop=x,r){const e=h.offsetHeight<p.offsetHeight*Cv(s,t.current.length)-1||b.top>=-a||b.bottom>=-a;$p.flushSync(()=>r(e))}return n&&(n.current=await q_(bb({...v,y:w},h.offsetHeight+f+d.clientTop),l)),{y:w}}}):null,ib({padding:f,apply({availableWidth:e,availableHeight:t,elements:n}){Object.assign(n.floating.style,{overflow:"auto",maxWidth:`${e}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${t}px)`})}})].filter(Boolean),whileElementsMounted:Z_}),[x=g,w=y]=b.placement.split("-");var j;"selection"===g&&(x="selection");let S=(0,c.useMemo)(()=>({anchor:[x,w].filter(Boolean).join(" ")}),[x,w]),k=function(e,t){const{open:n,elements:r}=e,{enabled:i=!0,overflowRef:o,scrollRef:s,onChange:a}=t,l=ab(a),u=c.useRef(!1),d=c.useRef(null),p=c.useRef(null);c.useEffect(()=>{if(!i)return;function e(e){if(e.ctrlKey||!t||null==o.current)return;const n=e.deltaY,r=o.current.top>=-.5,i=o.current.bottom>=-.5,s=t.scrollHeight-t.clientHeight,a=n<0?-1:1,c=n<0?"max":"min";t.scrollHeight<=t.clientHeight||(!r&&n>0||!i&&n<0?(e.preventDefault(),$p.flushSync(()=>{l(e=>e+Math[c](n,s*a))})):/firefox/i.test(function(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(e=>{let{brand:t,version:n}=e;return t+"/"+n}).join(" "):navigator.userAgent}())&&(t.scrollTop+=n))}const t=(null==s?void 0:s.current)||r.floating;return n&&t?(t.addEventListener("wheel",e),requestAnimationFrame(()=>{d.current=t.scrollTop,null!=o.current&&(p.current={...o.current})}),()=>{d.current=null,p.current=null,t.removeEventListener("wheel",e)}):void 0},[i,n,r.floating,o,s,l]);const h=c.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const e=(null==s?void 0:s.current)||r.floating;if(o.current&&e&&u.current){if(null!==d.current){const t=e.scrollTop-d.current;(o.current.bottom<-.5&&t<-1||o.current.top<-.5&&t>1)&&$p.flushSync(()=>l(e=>e+t))}requestAnimationFrame(()=>{d.current=e.scrollTop})}}}),[r.floating,l,o,s]);return c.useMemo(()=>i?{floating:h}:{},[i,h])}(b,{overflowRef:s,onChange:o}),{getReferenceProps:C,getFloatingProps:T}=function(e){void 0===e&&(e=[]);const t=e.map(e=>null==e?void 0:e.reference),n=e.map(e=>null==e?void 0:e.floating),r=e.map(e=>null==e?void 0:e.item),i=c.useCallback(t=>_b(t,e,"reference"),t),o=c.useCallback(t=>_b(t,e,"floating"),n),s=c.useCallback(t=>_b(t,e,"item"),r);return c.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:s}),[i,o,s])}([k]),E=Gg(e=>{l(e),v.setFloating(e)});return c.createElement(wb.Provider,{value:r},c.createElement(xb.Provider,{value:{setFloating:E,setReference:v.setReference,styles:_,getReferenceProps:C,getFloatingProps:T,slot:S}},e))}function Sb(e,t,n=void 0){let r=qg(),i=Gg((e,t)=>{if(null==e)return[n,null];if("number"==typeof e)return[e,null];if("string"==typeof e){if(!t)return[n,null];let i=Cb(e,t);return[i,n=>{let o=kb(e);{let s=o.map(e=>window.getComputedStyle(t).getPropertyValue(e));r.requestAnimationFrame(function a(){r.nextFrame(a);let c=!1;for(let[e,n]of o.entries()){let r=window.getComputedStyle(t).getPropertyValue(n);if(s[e]!==r){s[e]=r,c=!0;break}}if(!c)return;let l=Cb(e,t);i!==l&&(n(l),i=l)})}return r.dispose}]}return[n,null]}),o=(0,c.useMemo)(()=>i(e,t)[0],[e,t]),[s=o,a]=(0,c.useState)();return Hg(()=>{let[n,r]=i(e,t);if(a(n),r)return r(a)},[e,t]),s}function kb(e){let t=/var\((.*)\)/.exec(e);if(t){let e=t[1].indexOf(",");if(-1===e)return[t[1]];let n=t[1].slice(0,e).trim(),r=t[1].slice(e+1).trim();return r?[n,...kb(r)]:[n]}return[]}function Cb(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}wb.displayName="PlacementContext";let Tb=(0,c.createContext)(null);Tb.displayName="OpenClosedContext";var Eb=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Eb||{});function Pb(){return(0,c.useContext)(Tb)}function Ob({value:e,children:t}){return c.createElement(Tb.Provider,{value:e},t)}function Rb({children:e}){return c.createElement(Tb.Provider,{value:null},e)}function Nb(e){let t=e.parentElement,n=null;for(;t&&!ey(t);)ty(t)&&(n=t),t=t.parentElement;let r=""===(null==t?void 0:t.getAttribute("disabled"));return(!r||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(ty(t))return!1;t=t.previousElementSibling}return!0}(n))&&r}var Ab=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Ab||{});function Ib(e){let t=Gg(e),n=(0,c.useRef)(!1);(0,c.useEffect)(()=>(n.current=!1,()=>{n.current=!0,Bg(()=>{n.current&&t()})}),[t])}let zb=(0,c.createContext)(!1);let Fb=c.Fragment,Db=Oy(function(e,t){let{ownerDocument:n=null,...r}=e,i=(0,c.useRef)(null),o=gv(mv(e=>{i.current=e}),t),s=by(i.current),a=function(e){let t=(0,c.useContext)(zb),n=(0,c.useContext)(Mb),[r,i]=(0,c.useState)(()=>{var r;if(!t&&null!==n)return null!=(r=n.current)?r:null;if(Lg.isServer)return null;let i=null==e?void 0:e.getElementById("headlessui-portal-root");if(i)return i;if(null===e)return null;let o=e.createElement("div");return o.setAttribute("id","headlessui-portal-root"),e.body.appendChild(o)});return(0,c.useEffect)(()=>{null!==r&&(null!=e&&e.body.contains(r)||null==e||e.body.appendChild(r))},[r,e]),(0,c.useEffect)(()=>{t||null!==n&&i(n.current)},[n,i,t]),r}(null!=n?n:s),l=(0,c.useContext)($b),u=qg(),d=ky();return Ib(()=>{var e;a&&a.childNodes.length<=0&&(null==(e=a.parentElement)||e.removeChild(a))}),a?(0,$p.createPortal)(c.createElement("div",{"data-headlessui-portal":"",ref:e=>{u.dispose(),l&&e&&u.add(l.register(e))}},d({ourProps:{ref:o},theirProps:r,slot:{},defaultTag:Fb,name:"Portal"})),a):null}),Lb=c.Fragment,Mb=(0,c.createContext)(null),$b=(0,c.createContext)(null),Ub=Oy(function(e,t){let n=gv(t),{enabled:r=!0,ownerDocument:i,...o}=e,s=ky();return r?c.createElement(Db,{...o,ownerDocument:i,ref:n}):s({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:Fb,name:"Portal"})}),Bb=Oy(function(e,t){let{target:n,...r}=e,i={ref:gv(t)},o=ky();return c.createElement(Mb.Provider,{value:n},o({ourProps:i,theirProps:r,defaultTag:Lb,name:"Popover.Group"}))}),Zb=Object.assign(Ub,{Group:Bb});var qb=Object.defineProperty,Hb=(e,t,n)=>(((e,t,n)=>{t in e?qb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),Wb=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Wb||{}),Gb=(e=>(e[e.OpenPopover=0]="OpenPopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(Gb||{});let Vb={0:e=>0===e.popoverState?e:{...e,popoverState:0,__demoMode:!1},1:e=>1===e.popoverState?e:{...e,popoverState:1,__demoMode:!1},2:(e,t)=>e.button===t.button?e:{...e,button:t.button},3:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},4:(e,t)=>e.panel===t.panel?e:{...e,panel:t.panel},5:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}};class Qb extends ev{constructor(e){super(e),Hb(this,"actions",{close:()=>this.send({type:1}),refocusableClose:e=>{this.actions.close();let t=(()=>e?Yg(e)?e:"current"in e&&Yg(e.current)?e.current:this.state.button:this.state.button)();null==t||t.focus()},open:()=>this.send({type:0}),setButtonId:e=>this.send({type:3,buttonId:e}),setButton:e=>this.send({type:2,button:e}),setPanelId:e=>this.send({type:5,panelId:e}),setPanel:e=>this.send({type:4,panel:e})}),Hb(this,"selectors",{isPortalled:e=>{var t;if(!e.button||!e.panel)return!1;let n=null!=(t=Mg(e.button))?t:document;for(let t of n.querySelectorAll("body > *"))if(Number(null==t?void 0:t.contains(e.button))^Number(null==t?void 0:t.contains(e.panel)))return!0;let r=ly(n),i=r.indexOf(e.button),o=(i+r.length-1)%r.length,s=(i+1)%r.length,a=r[o],c=r[s];return!e.panel.contains(a)&&!e.panel.contains(c)}});{let e=this.state.id,t=lv.get(null);this.on(0,()=>t.actions.push(e)),this.on(1,()=>t.actions.pop(e))}}static new({id:e,__demoMode:t=!1}){return new Qb({id:e,__demoMode:t,popoverState:t?0:1,buttons:{current:[]},button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:{current:null},afterPanelSentinel:{current:null},afterButtonSentinel:{current:null}})}reduce(e,t){return ny(t.type,Vb,e,t)}}const Kb=(0,c.createContext)(null);function Jb(e){let t=(0,c.useContext)(Kb);if(null===t){let t=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Jb),t}return t}let Yb=(0,c.createContext)(null);function Xb(){return(0,c.useContext)(Yb)}Yb.displayName="PopoverGroupContext";let ex=(0,c.createContext)(null);ex.displayName="PopoverPanelContext";let tx=jy.RenderStrategy|jy.Static;function nx(e,t){let n=(0,c.useId)(),{id:r=`headlessui-popover-backdrop-${n}`,transition:i=!1,...o}=e,s=Jb("Popover.Backdrop"),a=dv(s,(0,c.useCallback)(e=>e.popoverState,[])),[l,u]=(0,c.useState)(null),d=gv(t,u),p=Pb(),[h,f]=jv(i,l,null!==p?(p&Eb.Open)===Eb.Open:a===Wb.Open),m=Gg(e=>{if(Nb(e.currentTarget))return e.preventDefault();s.actions.close()}),g=hv({open:a===Wb.Open}),y={ref:d,id:r,"aria-hidden":!0,onClick:m,...wv(f)};return ky()({ourProps:y,theirProps:o,slot:g,defaultTag:"div",features:tx,visible:h,name:"Popover.Backdrop"})}let rx=jy.RenderStrategy|jy.Static,ix=Oy(function(e,t){var n;let r=(0,c.useId)(),{__demoMode:i=!1,...o}=e,s=function({id:e,__demoMode:t=!1}){let n=(0,c.useMemo)(()=>Qb.new({id:e,__demoMode:t}),[]);return Ib(()=>n.dispose()),n}({id:r,__demoMode:i}),a=(0,c.useRef)(null),l=gv(t,mv(e=>{a.current=e})),[u,d,p,h,f]=dv(s,(0,c.useCallback)(e=>[e.popoverState,e.button,e.panel,e.buttonId,e.panelId],[])),m=function(...e){return(0,c.useMemo)(()=>$g(...e),[...e])}(null!=(n=a.current)?n:d),g=Wg(h),y=Wg(f),v=(0,c.useMemo)(()=>({buttonId:g,panelId:y,close:s.actions.close}),[g,y,s]),_=Xb(),b=null==_?void 0:_.registerPopover,x=Gg(()=>{var e,t;let n=Ug(null!=(e=a.current)?e:d);return null!=(t=null==_?void 0:_.isFocusWithinPopoverGroup())?t:n&&((null==d?void 0:d.contains(n))||(null==p?void 0:p.contains(n)))});(0,c.useEffect)(()=>null==b?void 0:b(v),[b,v]);let[w,j]=function(){let e=(0,c.useContext)($b),t=(0,c.useRef)([]),n=Gg(n=>(t.current.push(n),e&&e.register(n),()=>r(n))),r=Gg(n=>{let r=t.current.indexOf(n);-1!==r&&t.current.splice(r,1),e&&e.unregister(n)}),i=(0,c.useMemo)(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,(0,c.useMemo)(()=>function({children:e}){return c.createElement($b.Provider,{value:i},e)},[i])]}(),S=My(d),k=function({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Gg(()=>{var r,i;let o=Mg(n),s=[];for(let t of e)null!==t&&(Jg(t)?s.push(t):"current"in t&&Jg(t.current)&&s.push(t.current));if(null!=t&&t.current)for(let e of t.current)s.push(e);for(let e of null!=(r=null==o?void 0:o.querySelectorAll("html > *, body > *"))?r:[])e!==document.body&&e!==document.head&&Jg(e)&&"headlessui-portal-root"!==e.id&&(n&&(e.contains(n)||e.contains(null==(i=null==n?void 0:n.getRootNode())?void 0:i.host))||s.some(t=>e.contains(t))||s.push(e));return s});return{resolveContainers:r,contains:Gg(e=>r().some(t=>t.contains(e)))}}({mainTreeNode:S,portals:w,defaultContainers:[{get current(){return s.state.button}},{get current(){return s.state.panel}}]});!function(e,t,n,r){let i=Wg(n);(0,c.useEffect)(()=>{function n(e){i.current(e)}return(e=null!=e?e:window).addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)},[e,t,r])}(m,"focus",e=>{var t,n,r,i,o,a;e.target!==window&&Xg(e.target)&&s.state.popoverState===Wb.Open&&(x()||s.state.button&&s.state.panel&&(k.contains(e.target)||null!=(n=null==(t=s.state.beforePanelSentinel.current)?void 0:t.contains)&&n.call(t,e.target)||null!=(i=null==(r=s.state.afterPanelSentinel.current)?void 0:r.contains)&&i.call(r,e.target)||null!=(a=null==(o=s.state.afterButtonSentinel.current)?void 0:o.contains)&&a.call(o,e.target)||s.actions.close()))},!0),_y(u===Wb.Open,k.resolveContainers,(e,t)=>{s.actions.close(),dy(t,uy.Loose)||(e.preventDefault(),null==d||d.focus())});let C=hv({open:u===Wb.Open,close:s.actions.refocusableClose}),T=dv(s,(0,c.useCallback)(e=>ny(e.popoverState,{[Wb.Open]:Eb.Open,[Wb.Closed]:Eb.Closed}),[])),E={ref:l},P=ky();return c.createElement(Ly,{node:S},c.createElement(jb,null,c.createElement(ex.Provider,{value:null},c.createElement(Kb.Provider,{value:s},c.createElement(kv,{value:s.actions.refocusableClose},c.createElement(Ob,{value:T},c.createElement(j,null,P({ourProps:E,theirProps:o,slot:C,defaultTag:"div",name:"Popover"}))))))))}),ox=Oy(function(e,t){let n=(0,c.useId)(),{id:r=`headlessui-popover-button-${n}`,disabled:i=!1,autoFocus:o=!1,...s}=e,a=Jb("Popover.Button"),[l,u,d,p,h,f,m]=dv(a,(0,c.useCallback)(e=>[e.popoverState,a.selectors.isPortalled(e),e.button,e.buttonId,e.panel,e.panelId,e.afterButtonSentinel],[])),g=(0,c.useRef)(null),y=`headlessui-focus-sentinel-${(0,c.useId)()}`,v=Xb(),_=null==v?void 0:v.closeOthers,b=null!==(0,c.useContext)(ex);(0,c.useEffect)(()=>{if(!b)return a.actions.setButtonId(r),()=>a.actions.setButtonId(null)},[b,r,a]);let[x]=(0,c.useState)(()=>Symbol()),w=gv(g,t,(0,c.useContext)(xb).setReference,Gg(e=>{if(!b){if(e)a.state.buttons.current.push(x);else{let e=a.state.buttons.current.indexOf(x);-1!==e&&a.state.buttons.current.splice(e,1)}a.state.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),e&&a.actions.setButton(e)}})),j=gv(g,t),S=Gg(e=>{var t,n,r;if(b){if(a.state.popoverState===Wb.Closed)return;switch(e.key){case Ab.Space:case Ab.Enter:e.preventDefault(),null==(n=(t=e.target).click)||n.call(t),a.actions.close(),null==(r=a.state.button)||r.focus()}}else switch(e.key){case Ab.Space:case Ab.Enter:e.preventDefault(),e.stopPropagation(),a.state.popoverState===Wb.Closed?(null==_||_(a.state.buttonId),a.actions.open()):a.actions.close();break;case Ab.Escape:if(a.state.popoverState!==Wb.Open)return null==_?void 0:_(a.state.buttonId);if(!g.current)return;let t=Ug(g.current);if(t&&!g.current.contains(t))return;e.preventDefault(),e.stopPropagation(),a.actions.close()}}),k=Gg(e=>{b||e.key===Ab.Space&&e.preventDefault()}),C=Gg(e=>{var t,n;Nb(e.currentTarget)||i||(b?(a.actions.close(),null==(t=a.state.button)||t.focus()):(e.preventDefault(),e.stopPropagation(),a.state.popoverState===Wb.Closed?(null==_||_(a.state.buttonId),a.actions.open()):a.actions.close(),null==(n=a.state.button)||n.focus()))}),T=Gg(e=>{e.preventDefault(),e.stopPropagation()}),{isFocusVisible:E,focusProps:P}=Og({autoFocus:o}),{isHovered:O,hoverProps:R}=zg({isDisabled:i}),{pressed:N,pressProps:A}=Vg({disabled:i}),I=l===Wb.Open,z=hv({open:I,active:N||I,disabled:i,hover:O,focus:E,autofocus:o}),F=function(e,t){return(0,c.useMemo)(()=>{var n;if(e.type)return e.type;let r=null!=(n=e.as)?n:"button";return"string"==typeof r&&"button"===r.toLowerCase()||"BUTTON"===(null==t?void 0:t.tagName)&&!t.hasAttribute("type")?"button":void 0},[e.type,e.as,t])}(e,d),D=Py(b?{ref:j,type:F,onKeyDown:S,onClick:C,disabled:i||void 0,autoFocus:o}:{ref:w,id:p,type:F,"aria-expanded":l===Wb.Open,"aria-controls":h?f:void 0,disabled:i||void 0,autoFocus:o,onKeyDown:S,onKeyUp:k,onClick:C,onMouseDown:T},P,R,A),L=bv(),M=Gg(()=>{if(!Yg(a.state.panel))return;let e=a.state.panel;ny(L.current,{[_v.Forwards]:()=>fy(e,sy.First),[_v.Backwards]:()=>fy(e,sy.Last)})===ay.Error&&fy(ly($g(a.state.button)).filter(e=>"true"!==e.dataset.headlessuiFocusGuard),ny(L.current,{[_v.Forwards]:sy.Next,[_v.Backwards]:sy.Previous}),{relativeTo:a.state.button})}),$=ky();return c.createElement(c.Fragment,null,$({ourProps:D,theirProps:s,slot:z,defaultTag:"button",name:"Popover.Button"}),I&&!b&&u&&c.createElement(Fy,{id:y,ref:m,features:zy.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:M}))}),sx=Oy(nx),ax=Oy(nx),cx=Oy(function(e,t){let n=(0,c.useId)(),{id:r=`headlessui-popover-panel-${n}`,focus:i=!1,anchor:o,portal:s=!1,modal:a=!1,transition:l=!1,...u}=e,d=Jb("Popover.Panel"),p=dv(d,d.selectors.isPortalled),[h,f,m,g,y]=dv(d,(0,c.useCallback)(e=>[e.popoverState,e.button,e.__demoMode,e.beforePanelSentinel,e.afterPanelSentinel],[])),v=`headlessui-focus-sentinel-before-${n}`,_=`headlessui-focus-sentinel-after-${n}`,b=(0,c.useRef)(null),x=function(e){return(0,c.useMemo)(()=>e?"string"==typeof e?{to:e}:e:null,[e])}(o),[w,j]=function(e=null){!1===e&&(e=null),"string"==typeof e&&(e={to:e});let t=(0,c.useContext)(wb),n=(0,c.useMemo)(()=>e,[JSON.stringify(e,(e,t)=>{var n;return null!=(n=null==t?void 0:t.outerHTML)?n:t})]);Hg(()=>{null==t||t(null!=n?n:null)},[t,n]);let r=(0,c.useContext)(xb);return(0,c.useMemo)(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}(x),S=function(){let{getFloatingProps:e,slot:t}=(0,c.useContext)(xb);return(0,c.useCallback)((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}();x&&(s=!0);let[k,C]=(0,c.useState)(null),T=gv(b,t,x?w:null,d.actions.setPanel,C),E=by(f),P=by(b.current);Hg(()=>(d.actions.setPanelId(r),()=>d.actions.setPanelId(null)),[r,d]);let O=Pb(),[R,N]=jv(l,k,null!==O?(O&Eb.Open)===Eb.Open:h===Wb.Open);(function(e,t,n){let r=Wg(e=>{let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&n()});(0,c.useEffect)(()=>{if(!e)return;let n=null===t?null:Yg(t)?t:t.current;if(!n)return;let i=Zg();if("undefined"!=typeof ResizeObserver){let e=new ResizeObserver(()=>r.current(n));e.observe(n),i.add(()=>e.disconnect())}if("undefined"!=typeof IntersectionObserver){let e=new IntersectionObserver(()=>r.current(n));e.observe(n),i.add(()=>e.disconnect())}return()=>i.dispose()},[t,r,e])})(R,f,d.actions.close),function(e,t,n=()=>[document.body]){let r=function(e){let t=(0,c.useId)(),n=lv.get("scroll-lock"),[r,i]=dv(n,(0,c.useCallback)(e=>[n.selectors.isTop(e,t),n.selectors.inStack(e,t)],[n,t]));return Hg(()=>{if(e)return n.actions.push(t),()=>n.actions.pop(t)},[n,e,t]),!!e&&(!i||r)}(e);qy(r,t,e=>{var t;return{containers:[...null!=(t=e.containers)?t:[],n]}})}(!m&&a&&R,P);let A=Gg(e=>{var t;if(e.key===Ab.Escape){if(d.state.popoverState!==Wb.Open||!b.current)return;let n=Ug(b.current);if(n&&!b.current.contains(n))return;e.preventDefault(),e.stopPropagation(),d.actions.close(),null==(t=d.state.button)||t.focus()}});(0,c.useEffect)(()=>{var t;e.static||h===Wb.Closed&&(null==(t=e.unmount)||t)&&d.actions.setPanel(null)},[h,e.unmount,e.static,d]),(0,c.useEffect)(()=>{if(m||!i||h!==Wb.Open||!b.current)return;let e=Ug(b.current);b.current.contains(e)||fy(b.current,sy.First)},[m,i,b.current,h]);let I=hv({open:h===Wb.Open,close:d.actions.refocusableClose}),z=Py(x?S():{},{ref:T,id:r,onKeyDown:A,onBlur:i&&h===Wb.Open?e=>{var t,n,r,i,o;let s=e.relatedTarget;s&&b.current&&(null!=(t=b.current)&&t.contains(s)||(d.actions.close(),(null!=(r=null==(n=g.current)?void 0:n.contains)&&r.call(n,s)||null!=(o=null==(i=y.current)?void 0:i.contains)&&o.call(i,s))&&s.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...u.style,...j,"--button-width":Kg(R,f,!0).width},...wv(N)}),F=bv(),D=Gg(()=>{let e=b.current;e&&ny(F.current,{[_v.Forwards]:()=>{var t;fy(e,sy.First)===ay.Error&&(null==(t=d.state.afterPanelSentinel.current)||t.focus())},[_v.Backwards]:()=>{var e;null==(e=d.state.button)||e.focus({preventScroll:!0})}})}),L=Gg(()=>{let e=b.current;e&&ny(F.current,{[_v.Forwards]:()=>{var e;if(!d.state.button)return;let t=ly(null!=(e=$g(d.state.button))?e:document.body),n=t.indexOf(d.state.button),r=t.slice(0,n+1),i=[...t.slice(n+1),...r];for(let e of i.slice())if("true"===e.dataset.headlessuiFocusGuard||null!=k&&k.contains(e)){let t=i.indexOf(e);-1!==t&&i.splice(t,1)}fy(i,sy.First,{sorted:!1})},[_v.Backwards]:()=>{var t;fy(e,sy.Previous)===ay.Error&&(null==(t=d.state.button)||t.focus())}})}),M=ky();return c.createElement(Rb,null,c.createElement(ex.Provider,{value:r},c.createElement(kv,{value:d.actions.refocusableClose},c.createElement(Zb,{enabled:!!s&&(e.static||R),ownerDocument:E},R&&p&&c.createElement(Fy,{id:v,ref:g,features:zy.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:D}),M({ourProps:z,theirProps:u,slot:I,defaultTag:"div",features:rx,visible:R,name:"Popover.Panel"}),R&&p&&c.createElement(Fy,{id:_,ref:y,features:zy.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:L})))))}),lx=Oy(function(e,t){let n=(0,c.useRef)(null),r=gv(n,t),[i,o]=(0,c.useState)([]),s=Gg(e=>{o(t=>{let n=t.indexOf(e);if(-1!==n){let e=t.slice();return e.splice(n,1),e}return t})}),a=Gg(e=>(o(t=>[...t,e]),()=>s(e))),l=Gg(()=>{var e;let t=$g(n.current);if(!t)return!1;let r=Ug(n.current);return!(null==(e=n.current)||!e.contains(r))||i.some(e=>{var n,i;return(null==(n=t.getElementById(e.buttonId.current))?void 0:n.contains(r))||(null==(i=t.getElementById(e.panelId.current))?void 0:i.contains(r))})}),u=Gg(e=>{for(let t of i)t.buttonId.current!==e&&t.close()}),d=(0,c.useMemo)(()=>({registerPopover:a,unregisterPopover:s,isFocusWithinPopoverGroup:l,closeOthers:u}),[a,s,l,u]),p=hv({}),h=e,f={ref:r},m=ky();return c.createElement(Ly,null,c.createElement(Yb.Provider,{value:d},m({ourProps:f,theirProps:h,slot:p,defaultTag:"div",name:"Popover.Group"})))}),ux=Object.assign(ix,{Button:ox,Backdrop:ax,Overlay:sx,Panel:cx,Group:lx}),dx=(0,c.createContext)(void 0),px=Oy(function(e,t){var n;let r=(0,c.useContext)(dx),{disabled:i=r||!1,autoFocus:o=!1,...s}=e,{isFocusVisible:a,focusProps:l}=Og({autoFocus:o}),{isHovered:u,hoverProps:d}=zg({isDisabled:i}),{pressed:p,pressProps:h}=Vg({disabled:i}),f=Py({ref:t,type:null!=(n=s.type)?n:"button",disabled:i||void 0,autoFocus:o},l,d,h),m=hv({disabled:i,hover:u,focus:a,active:p,autofocus:o});return ky()({ourProps:f,theirProps:s,slot:m,defaultTag:"button",name:"Button"})}),hx=Oy(function(e,t){let n=(0,c.useContext)(Sv);return c.createElement(px,{ref:t,...Py({onClick:n},e)})});function fx(e){const{options:t,disabled:n=!1,title:r,selected:i}=e;return(0,d.jsxs)(ux,{className:y("wpl-dropdownbutton",t.length<=1?"wpl-dropdownbutton__single":null),children:[(0,d.jsx)("button",{onClick:function(n){n.preventDefault();const r=i||t[0]?.value;r&&e.onSelect(r)},type:"button",className:y("wpl-dropdownbutton__main",n&&"wpl-dropdownbutton__disabled"),children:(0,d.jsx)("h5",{children:r})}),t.length>1&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ox,{disabled:n,className:y("wpl-dropdownbutton","wpl-popover__toggle",n&&"wpl-dropdownbutton__disabled"),children:(0,d.jsx)(Zf,{})}),(0,d.jsx)(cx,{anchor:"bottom start",className:"wpl-dropdownbutton__popover wpl-popover wpl-popover__content",children:({close:n})=>(0,d.jsx)("ul",{children:t.map(({label:t,value:r,description:o})=>(0,d.jsxs)("li",{className:y({"wpl-dropdownbutton__item":!0,["wpl-dropdownbutton__"+r]:!0,"wpl-dropdownbutton__selected":i===r}),children:[i===r?(0,d.jsx)("span",{className:"wpl-dropdownbutton__selected-icon",children:"‚úì"}):(0,d.jsx)("span",{className:"wpl-dropdownbutton__selected-icon"}),(0,d.jsxs)(hx,{as:"button",className:"button",onClick:t=>function(t,n,r){t.preventDefault(),t.stopPropagation(),r(),e.onSelect(n)}(t,r,n),children:[t,o&&(0,d.jsx)("span",{children:o})]})]},r))})})]})]})}const mx=({headerValue:e,options:t,onChange:n})=>(0,d.jsx)(jd,{items:t,name:"headerValue",value:e,onChange:e=>n({[e.target.name]:e.target.value})}),gx=e=>"<"+e+">",yx=(e,t)=>e.includes(gx(t));function vx(e,t){return"uri"===t?e.replace(/[^A-Za-z0-9-._~:/?#\[\]@!$&'()*+,;=]/g,""):"integer"===t?parseInt(e,10):e}const bx=({headerValue:e,headerSettings:t,options:n,onChange:r})=>{const{choices:i,replace:o,replaceType:s}=n,a=t.selected?t.selected:e,c=t.replaceValue?t.replaceValue:"";return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(jd,{items:i,name:"headerValue",value:a,onChange:e=>{r({headerValue:e.target.value,headerSettings:{selected:e.target.value,replaceValue:""}})}}),yx(a,o)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("label",{htmlFor:`header-replace-${o}`,children:gx(o).replace(/</g,"").replace(/>/g,"")}),(0,d.jsx)("input",{id:`header-replace-${o}`,type:"text",className:"regular-text",name:"replaceValue",value:c,onChange:e=>{r({headerValue:a.replace(gx(o),e.target.value),headerSettings:{selected:a,replaceValue:vx(e.target.value,s)}})}})]})]})},xx=({headerValue:e,onChange:t})=>(0,d.jsxs)("p",{children:[(0,d.jsxs)("label",{htmlFor:"header-plain-value",children:[(0,m.__)("Value","redirection"),":"]})," ",(0,d.jsx)("input",{id:"header-plain-value",type:"text",className:"regular-text",name:"headerValue",value:e,onChange:e=>t({[e.target.name]:e.target.value})})]}),wx=({headerValue:e,options:t,onChange:n})=>{const{choices:r,implode:i,wildCard:o}=t,s=e.split(i);return(0,d.jsx)(qf,{options:o?r.concat([{value:o,label:(0,m.__)("All","redirection")}]):r,selected:s,onChange:e=>{if(!Array.isArray(e))return;const t=s,r=e.find(e=>!t.includes(e))||t.find(t=>!e.includes(t));if(o&&r===o){const e=1===t.length&&t[0]===o;return void n({headerValue:e?"":o})}n({headerValue:e.filter(e=>e!==o).filter(e=>e).join(i)})},title:(0,m.__)("Values","redirection"),hideTitle:!0,multiple:!0,badges:!0})},jx=e=>e.map(e=>({label:e,value:e})),Sx={"X-UA-Compatible":{component:mx,info:"https://frankcode.net/2013/10/17/a-guide-to-ie-compatibility-view-and-x-ua-compatible/",default:"Chrome=1",options:jx(["IE=EmulateIE7","IE=edge","Chrome=1"])},"X-Frame-Options":{component:bx,info:"",default:"deny",options:{choices:jx(["deny","sameorigin","allow-from <URI>"]),replace:"URI",replaceType:"uri"}},"Strict-Transport-Security":{component:bx,default:"max-age=<expire-time>",info:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security",options:{choices:jx(["max-age=<expire-time>","max-age=<expire-time>; includeSubDomains","max-age=<expire-time>; preload","max-age=<expire-time>; includeSubDomains; preload"]),replace:"expire-time",replaceType:"integer"}},"X-XSS-Protection":{component:bx,default:"1; mode=block",info:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-XSS-Protection",options:{choices:jx(["0","1","1; mode=block","1; report=<URI>"]),replace:"URI",replaceType:"uri"}},"X-Content-Type-Options":{component:mx,default:"nosniff",info:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Content-Type-Options",options:jx(["nosniff"])},"Feature-Policy":{component:xx,info:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Feature-Policy"},"Permissions-Policy":{component:xx,info:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Permissions-Policy",default:"camera=(), display-capture=(), geolocation=(), microphone=()"},"Clear-Site-Data":{component:wx,info:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Clear-Site-Data",default:"cache",options:{choices:jx(["cache","cookies","storage","executionContexts"]),implode:",",wildCard:"*"}},"Referrer-Policy":{component:mx,default:"no-referrer-when-downgrade",info:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer-Policy",options:jx(["no-referrer","no-referrer-when-downgrade","origin","origin-when-cross-origin","same-origin","strict-origin","strict-origin-when-cross-origin","unsafe-url"])},"Content-Security-Policy-Report-Only":{component:xx,info:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy-Report-Only"},Custom:{component:({headerValue:e,headerName:t,onChange:n})=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("input",{type:"text",className:"regular-text",name:"headerName",value:t,onChange:e=>n({[e.target.name]:e.target.value})}),"Value:"," ",(0,d.jsx)("input",{type:"text",className:"regular-text",name:"headerValue",value:e,onChange:e=>n({[e.target.name]:e.target.value})})]})},"Access-Control-Allow-Methods":{component:wx,info:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Methods",default:"GET",options:{choices:jx(["GET","POST","PUT","HEAD","DELETE","OPTIONS"]),implode:",",wildCard:"*"}},"Access-Control-Allow-Credentials":{component:mx,default:"true",info:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Credentials",options:jx(["true"])},"Access-Control-Allow-Origin":{component:bx,default:"<origin>",info:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin",options:{choices:jx(["<origin>","*"]),replace:"origin",replaceType:"uri"}},"X-Robots-Tag":{component:wx,default:"noindex",info:"https://developers.google.com/search/reference/robots_meta_tag#xrobotstag",options:{choices:jx(["noindex","nofollow","none","noarchive","nosnippet","notranslate","noimageindex"]),implode:",",wildCard:"all"}},"Access-Control-Allow-Headers":{component:xx,info:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Headers"},"Access-Control-Max-Age":{component:xx,info:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Max-Age"},"Access-Control-Expose-Headers":{component:xx,info:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Expose-Headers"}},kx=e=>{const t=Sx[e];return t&&t.options?t.options:null},Cx=e=>{const t=Sx[e];return t&&t.default?t.default:""},Tx=({header:e,onChange:t,onDelete:n})=>{const{location:r,headerName:i,headerValue:o,headerSettings:s,type:a}=e,c=n=>{t({...e,...n})},l=t=>{const{name:n,value:r}=t.target;let o=i;"type"===n&&"Custom"===r?o="":"type"===n&&(o=r),c({headerValue:"type"===n?Cx(r):e.headerValue,headerSettings:"type"===n?kx(o):e.headerSettings,headerName:o,[n]:r})},u=((e,t,n,r,i)=>{const o=Sx[s=e]?Sx[s].component:xx;var s;return(0,d.jsx)(o,{headerName:t,headerValue:""===n?Cx(e):n,headerSettings:r,options:kx(e),onChange:i})})(a,i,o,s,c),p=(e=>{const t=Sx[e];return t&&t.info?t.info:null})(i);return(0,d.jsxs)("tr",{className:"redirect-headers__item",children:[(0,d.jsx)("td",{className:"redirect-headers__type",children:(0,d.jsx)(jd,{items:[{label:(0,m.__)("Site","redirection"),value:"site"},{label:(0,m.__)("Redirect","redirection"),value:"redirect"}],name:"location",value:r,onChange:l})}),(0,d.jsxs)("td",{className:"redirect-headers__name",children:[(0,d.jsxs)("div",{className:"redirect-headers__name__content",children:[(0,d.jsx)(jd,{items:[{label:(0,m.__)("General","redirection"),value:jx(["X-UA-Compatible","X-Robots-Tag"])},{label:"CORS",value:jx(["Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Max-Age","Access-Control-Allow-Credentials","Access-Control-Allow-Origin","Access-Control-Expose-Headers"])},{label:"Security",value:jx(["X-Frame-Options","X-XSS-Protection","X-Content-Type-Options","Strict-Transport-Security","Feature-Policy","Permissions-Policy","Clear-Site-Data","Referrer-Policy","Content-Security-Policy","Content-Security-Policy-Report-Only","P3P"])},{label:(0,m.__)("Custom Header","redirection"),value:"Custom"}],name:"type",value:a,onChange:l}),u]}),p&&(0,d.jsx)(z,{url:p,children:(0,d.jsx)("span",{className:"dashicons dashicons-editor-help"})})]}),(0,d.jsx)("td",{className:"redirect-headers__delete",children:(0,d.jsx)("button",{onClick:t=>{t.preventDefault(),n(e.id)},children:(0,d.jsx)("span",{className:"dashicons dashicons-trash"})})})]})},Ex=(e="X-Robots-Tag",t="nofollow",n={})=>({location:"site",type:e,headerName:e,headerValue:t,headerSettings:n}),Px=({headers:e,onChange:t})=>{const[n,r]=(0,c.useState)("header"),i=[{label:(0,m.__)("Add Header","redirection"),value:"header"},{label:(0,m.__)("Add Security Presets","redirection"),value:"security"},{label:(0,m.__)("Add CORS Presets","redirection"),value:"cors"}],o=i.find(e=>e.value===n);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h3",{children:(0,m.__)("HTTP Headers","redirection")}),(0,d.jsx)("p",{children:(0,m.__)("Site headers are added across your site, including redirects. Redirect headers are only added to redirects.","redirection")}),(0,d.jsxs)("table",{className:"wp-list-table widefat fixed striped items redirect-headers table-auto",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:(0,m.__)("Location","redirection")}),(0,d.jsx)("th",{children:(0,m.__)("Header","redirection")}),(0,d.jsx)("th",{})]})}),(0,d.jsxs)("tbody",{children:[e.map((n,r)=>(0,d.jsx)(Tx,{header:n,onChange:n=>((e,t,n,r)=>{const i=n.slice();i[e]=t,r({headers:i})})(r,n,e,t),onDelete:()=>((e,t,n)=>{n({headers:[...t.slice(0,e),...t.slice(e+1)]})})(r,e,t)},r)),0===e.length&&(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:3,children:(0,m.__)("No headers","redirection")})})]})]}),(0,d.jsx)(fx,{options:i,selected:n,title:o?o.label:i[0]?.label||"",onSelect:n=>{r(n),((e,t,n)=>{"header"===e?n({headers:t.concat([Ex()])}):"security"===e?n({headers:t.concat([Ex("X-Frame-Options","deny"),Ex("X-XSS-Protection","1; mode=block"),Ex("X-Content-Type-Options","nosniff"),Ex("Content-Security-Policy","default-src 'none'; script-src 'self'; connect-src 'self'; img-src 'self'; style-src 'self';base-uri 'self';form-action 'self'"),"https"===document.location.protocol?Ex("Strict-Transport-Security","max-age: 31536000; includeSubDomains"):null,Ex("Referrer-Policy","no-referrer-when-downgrade")].filter(e=>e))}):"cors"===e&&n({headers:t.concat([Ex("Access-Control-Allow-Origin","*"),Ex("Access-Control-Allow-Credentials","true"),Ex("Access-Control-Allow-Methods","POST,GET,OPTIONS"),Ex("Access-Control-Allow-Headers","origin"),Ex("Referrer-Policy","no-referrer-when-downgrade"),Ex("P3P",'CP="CAO PSA OUR"')])})})(n,e,t)}}),(0,d.jsx)("p",{children:(0,m.__)("Note that some HTTP headers are set by your server and cannot be changed.","redirection")})]})},Ox=function({link:e,onChange:t,onDelete:n}){return(0,d.jsxs)("tr",{className:"redirect-alias__item",children:[(0,d.jsx)("td",{children:(0,d.jsx)("input",{className:"regular-text",type:"text",name:"link",value:e,onChange:t})}),(0,d.jsx)("td",{className:"redirect-alias__delete",children:(0,d.jsx)("button",{onClick:e=>{e.preventDefault(),n()},children:(0,d.jsx)("span",{className:"dashicons dashicons-trash"})})})]})},Rx=function(e){const{permalinks:t,onChange:n}=e;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h3",{children:(0,m.__)("Permalink Migration","redirection")}),(0,d.jsx)("p",{children:(0,m.__)("Enter old permalinks structures to automatically migrate them to your current one.","redirection")}),(0,d.jsx)("p",{children:(0,m.__)("Note: this is in beta and will only migrate posts. Certain permalinks will not work. If yours does not work then you will need to wait until it is out of beta.","redirection")}),(0,d.jsxs)("table",{className:"wp-list-table widefat fixed striped items redirect-aliases table-auto",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:(0,m.__)("Permalinks","redirection")}),(0,d.jsx)("th",{className:"redirect-alias__delete"})]})}),(0,d.jsxs)("tbody",{children:[t.map((e,r)=>(0,d.jsx)(Ox,{link:e,onChange:e=>((e,t,n,r)=>{const i=t.slice();i[e]=r.target.value,n({permalinks:i})})(r,t,n,e),onDelete:()=>((e,t,n)=>{n({permalinks:[...t.slice(0,e),...t.slice(e+1)]})})(r,t,n)},r)),0===t.length&&(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:2,children:(0,m.__)("No migrated permalinks","redirection")})})]})]}),(0,d.jsx)("p",{children:(0,d.jsx)("button",{className:"button-secondary",onClick:e=>((e,t,n)=>{n.preventDefault(),t({permalinks:e.concat("").slice(0,10)})})(t,n,e),children:(0,m.__)("Add Permalink","redirection")})})]})};function Nx(){const e=Lm(Redirectioni10n.pluginRoot),t=de(e=>e.loadStatus),n=de(e=>e.values),r=de(e=>e.saveStatus);Ed();const{mutate:i}=Pd(),[o,s]=(0,c.useState)(!1),[a,l]=(0,c.useState)(""),[u,p]=(0,c.useState)([]),[h,f]=(0,c.useState)(""),[g,y]=(0,c.useState)([]),[v,_]=(0,c.useState)([]);(0,c.useEffect)(()=>{n&&(s(n.https||!1),l(n.preferred_domain||""),p(n.headers||[]),f(n.relocate||""),y(n.aliases||[]),_(n.permalinks||[]))},[n]);const b=e=>{void 0!==e.https&&s(e.https),void 0!==e.preferred_domain&&l(e.preferred_domain),void 0!==e.headers&&p(e.headers),void 0!==e.relocate&&f(e.relocate),void 0!==e.aliases&&y(e.aliases),void 0!==e.permalinks&&_(e.permalinks)};return"loading"!==t&&n?(0,d.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i({https:o,headers:u,preferred_domain:a,aliases:g.filter(e=>e).map(Lm),relocate:Dm(h),permalinks:v})},children:[(0,d.jsx)("div",{className:"inline-notice inline-warning",children:(0,d.jsx)("p",{children:U((0,m.__)("Options on this page can cause problems if used incorrectly. You can {{link}}temporarily disable them{{/link}} to make changes.","redirection"),{link:(0,d.jsx)(z,{url:"https://redirection.me/support/disable-redirection/"})})})}),(0,d.jsx)(Um,{relocate:h,siteDomain:e,onChange:b}),0===h.length&&(0,d.jsx)($m,{aliases:g,siteDomain:e,onChange:b}),0===h.length&&(0,d.jsx)(Zm,{https:o,siteDomain:e,preferredDomain:a,onChange:b}),0===h.length&&(0,d.jsx)(Rx,{permalinks:v,onChange:b}),(0,d.jsx)(Px,{headers:u,onChange:b}),(0,d.jsx)("input",{className:"button-primary",type:"submit",name:"update",value:(0,m.__)("Update","redirection"),disabled:r})]}):(0,d.jsx)(Lp,{})}const Ax=e=>"url"===e?[{name:"url",title:(0,m.__)("Source URL","redirection"),primary:!0,sortable:!1},{name:"count",title:(0,m.__)("Count","redirection"),sortable:!0}]:"ip"===e?[{name:"ip",title:(0,m.__)("IP","redirection"),primary:!0,sortable:!1},{name:"count",title:(0,m.__)("Count","redirection"),sortable:!0}]:"agent"===e?[{name:"agent",title:(0,m.__)("User Agent","redirection"),primary:!0,sortable:!1},{name:"count",title:(0,m.__)("Count","redirection"),sortable:!0}]:[{name:"date",title:(0,m.__)("Date","redirection")},{name:"method",title:(0,m.__)("Method","redirection"),sortable:!1},{name:"domain",title:(0,m.__)("Domain","redirection"),sortable:!1},{name:"url",title:(0,m.__)("Source URL","redirection"),primary:!0},{name:"target",title:(0,m.__)("Target URL","redirection"),sortable:!1},{name:"redirect_by",title:(0,m.__)("Redirect By","redirection"),sortable:!1},{name:"code",title:(0,m.__)("HTTP code","redirection"),sortable:!1},{name:"referrer",title:(0,m.__)("Referrer","redirection"),sortable:!1},{name:"agent",title:(0,m.__)("User Agent","redirection"),sortable:!1},{name:"ip",title:(0,m.__)("IP","redirection"),sortable:!1}],Ix=e=>e?[{value:"group",label:(0,m.__)("Group","redirection"),grouping:[e,"count"]}]:[{value:"standard",label:(0,m.__)("Standard Display","redirection"),grouping:["date","url","target","agent","ip"]},{value:"minimal",label:(0,m.__)("Compact Display","redirection"),grouping:["date","url"]},{value:"all",label:(0,m.__)("Display All","redirection"),grouping:zx(e).map(e=>e.value)}],zx=e=>"url"===e?[{value:"url",label:(0,m.__)("URL","redirection")},{value:"count",label:(0,m.__)("Count","redirection")}]:"agent"===e?[{value:"agent",label:(0,m.__)("User Agent","redirection")},{value:"count",label:(0,m.__)("Count","redirection")}]:"ip"===e?[{value:"ip",label:(0,m.__)("IP","redirection")},{value:"count",label:(0,m.__)("Count","redirection")}]:[{value:"date",label:(0,m.__)("Date","redirection")},{value:"method",label:(0,m.__)("Method","redirection")},{value:"domain",label:(0,m.__)("Domain","redirection")},{value:"url",label:(0,m.__)("URL","redirection")},{value:"redirect_by",label:(0,m.__)("Redirect By","redirection")},{value:"code",label:(0,m.__)("HTTP code","redirection")},{value:"referrer",label:(0,m.__)("Referrer","redirection")},{value:"agent",label:(0,m.__)("User Agent","redirection")},{value:"target",label:(0,m.__)("Target","redirection")},{value:"ip",label:(0,m.__)("IP","redirection")}],Fx=e=>{const t=[{value:"",label:(0,m.__)("No grouping","redirection")},{value:"url",label:(0,m.__)("Group by URL","redirection")},{value:"agent",label:(0,m.__)("Group by user agent","redirection")}];return e>0&&t.push({value:"ip",label:(0,m.__)("Group by IP","redirection")}),t},Dx=window.Redirectioni10n?.per_page?parseInt(window.Redirectioni10n.per_page,10):25,Lx={page:0,per_page:Dx,orderby:"id",direction:"desc",selected:[],filterBy:{},displayType:"standard",displaySelected:["last_count","last_access","source","target","code","title"],groupBy:""},Mx={page:0,per_page:Dx,orderby:"name",direction:"desc",selected:[],filterBy:{},displayType:"standard",displaySelected:["name"],groupBy:""},$x={page:0,per_page:Dx,orderby:"",direction:"desc",selected:[],filterBy:{},displayType:"standard",displaySelected:["date","url","target","agent","ip"],groupBy:""},Ux={page:0,per_page:Dx,orderby:"",direction:"desc",selected:[],filterBy:{},displayType:"standard",displaySelected:["date","url","agent","ip"],groupBy:""},Bx={redirects:Lx,groups:Mx,logs:$x,errors:Ux,redirectsAddTop:!1},Zx=te()(se(e=>({...Bx,setRedirectsTable:t=>e(e=>({redirects:{...e.redirects,...t}})),clearRedirectsSelected:()=>e(e=>({redirects:{...e.redirects,selected:[]}})),setRedirectsSelected:t=>e(e=>({redirects:{...e.redirects,selected:t}})),setRedirectsAddTop:t=>e({redirectsAddTop:t}),resetRedirectsTable:()=>e({redirects:Lx,redirectsAddTop:!1}),setGroupsTable:t=>e(e=>({groups:{...e.groups,...t}})),clearGroupsSelected:()=>e(e=>({groups:{...e.groups,selected:[]}})),setGroupsSelected:t=>e(e=>({groups:{...e.groups,selected:t}})),resetGroupsTable:()=>e({groups:Mx}),setLogsTable:t=>e(e=>({logs:{...e.logs,...t}})),clearLogsSelected:()=>e(e=>({logs:{...e.logs,selected:[]}})),setLogsSelected:t=>e(e=>({logs:{...e.logs,selected:t}})),resetLogsTable:()=>e({logs:$x}),setErrorsTable:t=>e(e=>({errors:{...e.errors,...t}})),clearErrorsSelected:()=>e(e=>({errors:{...e.errors,selected:[]}})),setErrorsSelected:t=>e(e=>({errors:{...e.errors,selected:t}})),resetErrorsTable:()=>e({errors:Ux}),reset:()=>e(Bx)}),{name:"TableStore"})),qx=Fl({id:$l([nl().int(),ic()]),created:ic().optional(),url:ic().optional(),sent_to:ic().optional().nullable(),agent:ic().optional().nullable(),referrer:ic().optional().nullable(),ip:ic().optional().nullable(),domain:ic().optional().nullable(),redirect_id:nl().int().optional(),redirection_id:nl().int().optional(),request_method:ic().optional().nullable(),http_code:nl().int().optional(),redirect_by:ic().optional().nullable(),count:rd().int().optional()}),Hx=Fl({id:$l([nl().int(),ic()]),created:ic().optional(),created_time:ic().optional(),url:ic().optional(),agent:ic().optional().nullable(),referrer:ic().optional().nullable(),domain:ic().optional().nullable(),ip:ic().optional().nullable(),http_code:nl().int().optional(),request_method:ic().optional().nullable(),request_data:kl().optional().nullable(),count:rd().int().optional()}),Wx=nm(qx),Gx=nm(Hx);function Vx(e){const t=h(),{incrementProgress:n,decrementProgress:r,addNotice:i,addError:o}=cd(),{setErrorsTable:s}=Zx();return dt({mutationFn:async({action:e,items:t,params:i={}})=>{n();try{return await wt(Kt(e,{items:t},i))}catch(e){throw r(),od(e)}},onSuccess:(e,n)=>{r();const o="delete"===n.action?"deleted":n.action;i(`404 errors ${o}`),s({page:0,selected:[],selectAll:!1}),t.invalidateQueries({queryKey:sd.errors.all})},onError:e=>{o(e.message||"Failed to perform 404 error action")},...e})}function Qx(e){const{table:t,setTable:n,allowedOrder:r=[],allowedGroup:i=[],allowedFilters:o=[],defaultOrder:s="",pageName:a}=e,l=(0,c.useRef)(!1),u=(0,c.useRef)(null);(0,c.useEffect)(()=>{if(l.current)return;const e=function(e){const t=new URLSearchParams(e?e.slice(1):document.location.search.slice(1)),n={};return t.forEach((e,t)=>{n[t]=e}),n}();if(e.sub!==a&&"redirect"!==a)return void(l.current=!0);const s={};e.orderby&&r.includes(e.orderby)&&(s.orderby=e.orderby),"asc"!==e.direction&&"desc"!==e.direction||(s.direction=e.direction),e.offset&&parseInt(e.offset,10)>0&&(s.page=parseInt(e.offset,10)),e.groupby&&i.includes(e.groupby)&&(s.groupBy=e.groupby);const c={};for(const[t,n]of Object.entries(e)){const e=t.match(/^filterby\[(\w+)\]$/);if(e&&e[1]){const t=e[1];(0===o.length||o.includes(t))&&(c[t]=String(n))}}if(e.filterby&&"object"==typeof e.filterby)for(const t of Object.keys(e.filterby))(0===o.length||o.includes(t))&&(c[t]=e.filterby[t]);Object.keys(c).length>0&&(s.filterBy=c),Object.keys(s).length>0&&n(s),l.current=!0,u.current={...t,...s}},[t,n,r,i,o,a]),(0,c.useEffect)(()=>{if(!l.current)return;const e=u.current;if(e&&e.groupBy===t.groupBy&&e.orderby===t.orderby&&e.direction===t.direction&&e.page===t.page&&JSON.stringify(e.filterBy)===JSON.stringify(t.filterBy))return;u.current=t;const n=new URLSearchParams(document.location.search),r=function(e,t){const n={...e};return"desc"===n.direction&&delete n.direction,n.orderby===t&&delete n.orderby,0===n.page&&delete n.page,n.per_page===parseInt(Redirectioni10n.per_page,10)&&delete n.per_page,"object"==typeof n.filterBy&&0===Object.keys(n.filterBy||{}).length&&(delete n.filterBy,delete n.filter),""===n.groupBy&&(delete n.groupBy,delete n.group),25!==parseInt(Redirectioni10n.per_page,10)&&(n.per_page=parseInt(Redirectioni10n.per_page,10)),delete n.selected,delete n.displaySelected,delete n.displayType,delete n.selectAll,n}(t,s);"redirect"!==a&&n.set("sub",a),r.orderby?n.set("orderby",r.orderby):n.delete("orderby"),r.direction?n.set("direction",r.direction):n.delete("direction"),r.page&&r.page>0?n.set("offset",String(r.page)):n.delete("offset"),r.groupBy?n.set("groupby",r.groupBy):n.delete("groupby");const i=[];if(n.forEach((e,t)=>{t.startsWith("filterby[")&&i.push(t)}),i.forEach(e=>n.delete(e)),t.filterBy&&"object"==typeof t.filterBy)for(const[e,r]of Object.entries(t.filterBy))r&&n.set(`filterby[${e}]`,String(r));const o="?"+n.toString();history.replaceState({},"",o)},[t,s,a])}const Kx="idle",Jx="loading",Yx="complete",Xx=e=>{const{name:t,title:n,table:r,primary:i,onSetOrderBy:o}=e,{direction:s,orderBy:a}=r,c=y({"manage-column":!0,sortable:!0,asc:a===t&&"asc"===s,desc:a===t&&"desc"===s||a!==t,"column-primary":i,["column-"+t]:!0}),l=a===t,u=y("sorting-indicator",{asc:l&&"asc"===s,desc:l&&"desc"===s});return(0,d.jsx)("th",{scope:"col",className:c,children:(0,d.jsxs)("button",{type:"button",className:"button-link",onClick:e=>{e.preventDefault(),o(t,a===t&&"desc"===s?"asc":"desc")},children:[(0,d.jsx)("span",{children:n}),(0,d.jsx)("span",{className:u})]})})},ew=e=>{const{name:t,title:n,primary:r}=e,i=y({"manage-column":!0,"column-primary":r,["column-"+t]:!0});return(0,d.jsx)("th",{scope:"col",className:i,children:(0,d.jsx)("span",{children:n})})},tw=e=>{const{onSelect:t,disabled:n,selected:r}=e;return(0,d.jsxs)("td",{className:"manage-column column-cb check-column-red",children:[(0,d.jsx)("label",{className:"screen-reader-text",htmlFor:"redirection-select-all",children:(0,m.__)("Select All","redirection")}),(0,d.jsx)("input",{id:"redirection-select-all",type:"checkbox",disabled:n,checked:r,onChange:e=>t(e.target.checked)})]})},nw=e=>{const{disabled:t,onSelect:n,onSetOrderBy:r,headers:i,table:o,hasBulk:s,allSelected:a,isSaving:c}=e;return(0,d.jsxs)("tr",{children:[s&&(0,d.jsx)(tw,{onSelect:n,disabled:t||c,selected:a}),i.map(e=>{const{primary:t=!1,sortable:n=!0}=e;return n?(0,d.jsx)(Xx,{table:o,name:e.name,title:e.title,onSetOrderBy:r,primary:t},e.name):(0,d.jsx)(ew,{name:e.name,title:e.title,primary:t},e.name)})]})},rw=e=>{const{columns:t}=e;return(0,d.jsxs)("tr",{className:"is-placeholder",children:[t.map((e,t)=>(0,d.jsx)("td",{children:(0,d.jsx)("div",{className:"wpl-placeholder__loading"})},t)),(0,d.jsx)("td",{children:(0,d.jsx)("div",{className:"wpl-placeholder__loading"})})]})},iw=e=>{const{headers:t,rows:n}=e;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(rw,{columns:t}),n.slice(0,-1).map((e,n)=>(0,d.jsx)(rw,{columns:t},n))]})},ow=e=>{const{headers:t}=e;return(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:t.length+1,children:(0,m.__)("Nothing to display.","redirection")})})},sw=e=>{const{headers:t}=e;return(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:t.length+1,children:(0,d.jsx)("p",{children:(0,m.__)("Sorry, something went wrong loading the data - please try again","redirection")})})})},aw=(0,c.memo)(function(e){const{isSaving:t,disabled:n,id:r,rowIndex:i,onSelect:o,onShiftSelect:s,isSelected:a}=e,l=(0,c.useCallback)(e=>{e.shiftKey&&s&&(e.preventDefault(),s(i))},[s,i]),u=(0,c.useCallback)(e=>{const t=e.target.value,n=/^\d+$/.test(t)?parseInt(t,10):t;o([n],i)},[o,i]);return(0,d.jsx)("th",{scope:"row",className:"check-column",children:t?(0,d.jsx)(vd,{size:"small"}):(0,d.jsx)("input",{type:"checkbox",name:"item[]",value:r,disabled:n,checked:a,onChange:u,onClick:l})})});function cw(e){const{row:t,rowData:n,displaySelected:r,getRow:i,getRowActions:o,primary:s,total:a}=e,[l,u]=(0,c.useState)(!1),p={...n,rowMode:l,setRowMode:u},h=i(t,p),f=o(t,p);return Array.isArray(h)?(0,d.jsx)(d.Fragment,{children:h.filter(e=>r.includes(e.name)||!0===e.alwaysDisplay).map(e=>(0,d.jsxs)("td",{className:`column-${e.name}`,children:[e.content,e.name===(s?s.name:h[0]?.name)&&f]},e.name))}):(0,d.jsx)("td",{colSpan:a,children:h})}const lw=(0,c.memo)(function(e){const{row:t,rowIndex:n,status:r,isSelected:i,isSaving:o,isAllSaving:s,displaySelected:a,table:c,getRow:l,getRowActions:u,onSelect:p,onShiftSelect:h,primary:f,headersLength:m}=e,g=function(e,t,n){return{isLoading:e===Jx,isSelected:!!Array.isArray(n.selected)&&n.selected.some(e=>e===t.id),table:n}}(r,t,c);return(0,d.jsxs)("tr",{className:y({disabled:r===Jx||"saving"===r,saving:o||s}),children:[!!p&&(0,d.jsx)(aw,{id:t.id,rowIndex:n,onSelect:p,...h?{onShiftSelect:h}:{},disabled:r===Jx,isSelected:i,isSaving:o||s}),(0,d.jsx)(cw,{row:t,rowData:g,displaySelected:a,getRow:l,getRowActions:u,primary:f,total:m})]})},(e,t)=>e.row===t.row&&e.status===t.status&&e.isSelected===t.isSelected&&e.isSaving===t.isSaving&&e.isAllSaving===t.isAllSaving&&e.displaySelected===t.displaySelected&&e.primary===t.primary&&e.headersLength===t.headersLength),uw=function(e){const{rows:t,headers:n,status:r,table:i,getRow:o,getRowActions:s,onSelect:a,saving:l}=e,{selected:u=[],displaySelected:p}=i,h=n.find(e=>e.primary),f=l.some(e=>-1===e),m=(0,c.useRef)(null),g=(0,c.useCallback)((e,t)=>{void 0!==t&&(m.current=t),a&&a(e)},[a]),y=(0,c.useCallback)(e=>{if(!a)return;if(null===m.current){m.current=e;const n=t[e];return void(n&&a([n.id]))}const n=t.length-1,r=Math.min(m.current,n),i=Math.min(e,n),o=Math.min(r,i),s=Math.max(r,i),c=new Set(u),l=[];for(let e=o;e<=s;e++){const n=t[e];n&&!c.has(n.id)&&l.push(n.id)}l.length>0&&a(l),m.current=e},[a,t,u]);return r===Jx&&0===t.length?(0,d.jsx)(iw,{headers:n,rows:t}):r===Yx&&0===t.length?(0,d.jsx)(ow,{headers:n}):"error"===r?(0,d.jsx)(sw,{headers:n}):(0,d.jsx)(d.Fragment,{children:t.map((e,t)=>(0,d.jsx)(lw,{row:e,rowIndex:t,status:r,isSelected:u.some(t=>t===e.id),isSaving:l.some(t=>t===e.id),isAllSaving:f,displaySelected:p,table:i,getRow:o,getRowActions:s,...a?{onSelect:g,onShiftSelect:y}:{},primary:h,headersLength:n.length},e.id))})},dw=e=>{const{headers:t,getRow:n,getRowActions:r,rows:i,table:o,status:s,saving:a,onSelect:c,onSetOrderBy:l}=e,u=(0,d.jsx)(nw,{table:o,disabled:s!==Yx||0===i.length,headers:t,onSetOrderBy:l,onSelect:e=>{c&&c(e?i.map(e=>e.id):[])},hasBulk:!!c,allSelected:o.selected.length===i.length&&0!==i.length,isSaving:a.length>0}),p=y("wp-list-table","widefat","fixed","striped","items",{["redirect-log__display__"+o.displayType]:!0,["redirect-log__group__"+o.groupBy]:o.groupBy});return(0,d.jsxs)("table",{className:p,children:[(0,d.jsx)("thead",{children:u}),(0,d.jsx)("tbody",{children:(0,d.jsx)(uw,{rows:i,table:o,headers:t,status:s,getRow:n,getRowActions:r,...c?{onSelect:c}:{},saving:a})}),(0,d.jsx)("tfoot",{children:u})]})},pw=function(e){const{title:t,button:n,className:r,disabled:i,onClick:o}=e;return i?(0,d.jsx)("span",{className:"tablenav-pages-navspan button disabled","aria-hidden":"true",children:n}):(0,d.jsxs)("button",{className:r+" button",type:"button",onClick:function(e){e.preventDefault(),o()},children:[(0,d.jsx)("span",{className:"screen-reader-text",children:t}),(0,d.jsx)("span",{"aria-hidden":"true",children:n})]})},hw=function(e){const{page:t,total:n,perPage:r,onChangePage:i}=e,o=n<=r,[s,a]=(0,c.useState)(t+1);if((0,c.useEffect)(()=>{a(t+1)},[t]),o)return null;const l=function(e,t){return Math.ceil(e/t)}(n,r);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(pw,{title:(0,m.__)("First page","redirection"),button:"¬´",className:"first-page",disabled:t<=0,onClick:()=>i(0)}),(0,d.jsx)(pw,{title:(0,m.__)("Prev page","redirection"),button:"‚Äπ",className:"prev-page",disabled:t<=0,onClick:()=>i(t-1)}),(0,d.jsxs)("span",{className:"paging-input",children:[(0,d.jsx)("label",{htmlFor:"current-page-selector",className:"screen-reader-text",children:(0,m.__)("Current Page","redirection")}),(0,d.jsx)("input",{className:"current-page",type:"number",min:"1",max:l,name:"paged",value:s,size:2,"aria-describedby":"table-paging",onBlur:()=>i(Math.min(l-1,Math.max(0,s-1))),onChange:e=>a(parseInt(e.target.value,10))}),(0,d.jsx)("span",{className:"tablenav-paging-text",children:(0,m.sprintf)(
// translators: %s is the total number of pages
// translators: %s is the total number of pages
(0,m.__)("of %s","redirection"),new Intl.NumberFormat(window.Redirectioni10n.locale).format(l))})]}),(0,d.jsx)(pw,{title:(0,m.__)("Next page","redirection"),button:"‚Ä∫",className:"next-page",disabled:t>=l-1,onClick:()=>i(t+1)}),(0,d.jsx)(pw,{title:(0,m.__)("Last page","redirection"),button:"¬ª",className:"last-page",disabled:t>=l-1,onClick:()=>i(l-1)})]})},fw=function(e){const{total:t,perPage:n,page:r,onChangePage:i,selected:o,onSelectAll:s,isEverything:a}=e,c=y({"tablenav-pages":!0});return(0,d.jsxs)("div",{className:c,children:[(0,d.jsxs)("span",{className:y("displaying-num",a?"displaying-num-all":null),children:[0===o&&(0,m.sprintf)(
// translators: %s is the number of items
// translators: %s is the number of items
(0,m._n)("%s item","%s items",t,"redirection"),new Intl.NumberFormat(window.Redirectioni10n.locale).format(t)),o>0&&!a&&U((0,m.sprintf)(
// translators: 1: number of selected items, 2: total number of items
// translators: 1: number of selected items, 2: total number of items
(0,m.__)("%1$d of %2$d selected. {{all}}Select All.{{/all}}","redirection"),o,t),{all:(0,d.jsx)("button",{type:"button",onClick:function(){s(!0)}})}),a&&U((0,m.sprintf)(
// translators: 1: number of selected items, 2: total number of items
// translators: 1: number of selected items, 2: total number of items
(0,m.__)("%1$d of %2$d selected. {{all}}Clear All.{{/all}}","redirection"),o,t),{all:(0,d.jsx)("button",{type:"button",onClick:function(){s(!1)}})})]}),(0,d.jsx)("span",{className:"pagination-links",children:(0,d.jsx)(hw,{onChangePage:i,total:t,perPage:n,page:r},r)})]})},mw=function(e){const{total:t,table:n,children:r=null,onChangePage:i,disabled:o,className:s,onSelectAll:a}=e;return(0,d.jsxs)("div",{className:y("tablenav",s),children:[(0,d.jsx)("div",{className:"redirect-table__actions",children:r}),t>0&&(0,d.jsx)(fw,{perPage:n.perPage,page:n.page,total:t,onChangePage:i,onSelectAll:a,disabled:o,selected:n.selectAll?t:n.selected.length,isEverything:n.selectAll})]})},gw=({children:e})=>(0,d.jsx)("div",{className:"alignleft actions",children:e}),yw=function({selected:e,options:t,isEnabled:n,onGroup:r}){const[i,o]=(0,c.useState)(e);return(0,d.jsxs)("div",{className:"alignleft actions",children:[(0,d.jsx)(jd,{items:t,value:i,name:"filter",onChange:e=>{o(e.target.value)},disabled:!n}),(0,d.jsx)("button",{className:"button",onClick:()=>{r(i)},disabled:!n,children:(0,m.__)("Apply","redirection")})]})};function vw(e,t){return e.options.find(e=>e.value===t)}function _w(e,t){const n=[];return Object.keys(e).forEach(r=>{const i=t.find(e=>e.value===r);if(i){const t=e[r];t&&i.options.find(e=>e.value===t)&&n.push(t)}}),n}const bw=function(e){const{table:t,disabled:n,groupOptions:r,filterOptions:i,onGroup:o,onFilter:s}=e;return(0,d.jsxs)(d.Fragment,{children:[r.length>0&&(0,d.jsx)(yw,{selected:t.groupBy?t.groupBy:"",options:r,isEnabled:!n,onGroup:o},t.groupBy),i.length>0&&(0,d.jsx)(gw,{children:(0,d.jsx)(qf,{options:i,selected:_w(t.filterBy,i),onChange:function(e){const t={};if(Array.isArray(e)){for(let n=0;n<e.length;n++){const r=e[n];if(r){const e=i.find(e=>vw(e,r));e&&(t[e.value]=r)}}s(t)}},title:(0,m.__)("Filters","redirection"),disabled:n,multiple:!0,badges:!0})})]})},xw=function(e){const{bulk:t,disabled:n,onBulk:r}=e,[i,o]=(0,c.useState)("-1");return(0,d.jsxs)("div",{className:"alignleft actions bulkactions",children:[(0,d.jsxs)("select",{name:"action",value:i,disabled:n,onChange:e=>o(e.target.value),children:[(0,d.jsx)("option",{value:"-1",children:(0,m.__)("Bulk Actions","redirection")}),t.map(e=>(0,d.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,d.jsx)("button",{type:"button",className:"button action",disabled:n||-1===parseInt(i,10),onClick:function(){-1!==parseInt(i,10)&&(r(i),o("-1"))},children:(0,m.__)("Apply","redirection")})]})};function ww(e,t){if("custom"===e)return(0,m.__)("Custom Display","redirection");for(let n=0;n<t.length;n++){const r=t[n]?.options.find(t=>t.value===e);if(r)return r.label}return t[0]?.label||""}const jw=function(e){const{disabled:t,predefinedGroups:n,customOptions:r,table:i,setDisplay:o,validation:s}=e,{displayType:a,displaySelected:c}=i,l=[{label:(0,m.__)("Pre-defined","redirection"),value:"pre",options:n},{label:(0,m.__)("Custom","redirection"),value:"custom",options:r}];return(0,d.jsx)(qf,{className:"redirect-table-display__filter",options:l,selected:c.concat([a]),onChange:function(e){if(!Array.isArray(e))return;const t=c.concat([a]),n=e.filter(e=>!t.includes(e));if(n.length>0){const e=l[0]?.options?.find(e=>e.value===n[0]);if(e)return void o(e.value,e.grouping)}const i=e.filter(e=>{if(e===a)return!1;const t=l[0]?.options.find(t=>t.value===e);return!t&&r.find(t=>t.value===e)});o("custom",s?s(i):i)},title:ww(a,l),disabled:t})};function Sw(e,t){if(e){const n=e.find(e=>t[e.name]);return n&&t[n.name]||""}return""}const kw=function({table:e,onSearch:t,searchTypes:n,selected:r,disabled:i=!1,name:o=""}){const s=n?.find(e=>r[e.name]),a=Sw(n,r),l=s?s.name:n?.[0]?.name||"",[u,p]=(0,c.useState)(a),[h,f]=(0,c.useState)(l),[m,g]=(0,c.useState)(a);(0,c.useEffect)(()=>{const e=Sw(n,r);if(e!==m){const t=n?.find(e=>r[e.name]),i=t?t.name:n?.[0]?.name||"";g(e),p(e),f(i)}},[n,r,m]);const y=i||""===u&&""===e.filter,v=n?n.map(e=>({value:e.name,label:e.title})):[],_=n?.find(e=>e.name===h),b=_?_.title:"";return(0,d.jsxs)("form",{onSubmit:e=>{e?.preventDefault(),t(u,h)},className:"redirect-searchbox",children:[(0,d.jsx)("input",{type:"search",name:"s",value:u,onChange:e=>{p(e.target.value)}}),n&&(0,d.jsx)(fx,{options:v,disabled:i,title:b,onSelect:e=>{f(e),t(u,e)},selected:h}),!n&&(0,d.jsx)("input",{type:"submit",className:"button",value:o,disabled:y})]})},Cw=function(e){const{disabled:t,filterOptions:n,searchOptions:r,predefinedGroups:i,table:o,onSetDisplay:s,onFilter:a,validateDisplay:c}=e;return(0,d.jsxs)("div",{className:"redirect-table-display",children:[(0,d.jsx)(jw,{disabled:t,customOptions:n,predefinedGroups:i,table:o,setDisplay:s,...c?{validation:c}:{}}),(0,d.jsx)(kw,{disabled:t,table:o,onSearch:function(e,t){const n={...o.filterBy};r.map(e=>delete n[e.name]),e&&(n[t]=e),a(n)},selected:o.filterBy,searchTypes:r})]})},Tw=function(e){const{logOptions:t,logActions:n,table:r,total:i,rows:o,getRow:s,getRowActions:a,renderTableActions:c,status:l,saving:u}=e,{displayFilters:p,displayGroups:h,searchOptions:f,groupBy:m,rowFilters:g,bulk:y,headers:v,validateDisplay:_}=t,{onChangePage:b,onFilter:x,onSetDisplay:w,onBulk:j,onGroup:S,onSetOrder:k,onSetAll:C,onSelect:T}=n,E=l===Jx;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Cw,{filterOptions:p,predefinedGroups:h,searchOptions:f,disabled:E,table:r,onFilter:x,onSetDisplay:w,..._?{validateDisplay:_}:{}}),(0,d.jsxs)(mw,{total:i,table:r,disabled:E,onChangePage:b,className:"top",onSelectAll:C,children:[(0,d.jsx)(xw,{bulk:y,disabled:E||0===r.selected.length,onBulk:j}),(0,d.jsx)(bw,{disabled:E,table:r,groupOptions:m,filterOptions:g,onGroup:S,onFilter:x})]}),(0,d.jsx)(dw,{headers:v,rows:o,getRow:s,getRowActions:a,table:r,status:l,onSelect:e=>{0===e.length?T(!1):1===e.length&&void 0!==e[0]?T(e[0]):T(e)},onSetOrderBy:k,saving:u}),(0,d.jsxs)(mw,{total:i,table:r,disabled:E,onChangePage:b,className:"bottom",onSelectAll:C,children:[(0,d.jsx)(xw,{bulk:y,disabled:E||0===r.selected.length,onBulk:j}),c&&c()]})]})};function Ew(e){return Redirectioni10n?.caps?.capabilities.includes(e)}function Pw(e){return Redirectioni10n?.caps?.pages.includes(e)}const Ow="redirection_cap_redirect_manage",Rw="redirection_cap_redirect_add",Nw="redirection_cap_group_add",Aw="redirection_cap_404_delete";function Iw(e){const{actions:t,disabled:n=!1}=e;return(0,d.jsx)("div",{className:"row-actions",children:n?(0,d.jsx)("span",{children:"¬†"}):t.length>0&&t.filter(e=>e).reduce((e,t)=>[...e," | ",t],[]).slice(1)})}function zw(e){const{onClick:t,children:n,href:r="",capability:i=""}=e;return i&&!Ew(i)?null:(0,d.jsx)("a",{href:r||"#",onClick:function(e){t&&(e.preventDefault(),t())},children:n})}const Fw=()=>(0,d.jsx)("div",{className:"redirection-poweredby",children:U((0,m.__)("Powered by {{link}}redirect.li{{/link}}","redirection"),{link:(0,d.jsx)(z,{url:"https://redirect.li"})})});function Dw(e){return!!(e&&e.name&&e.version)&&e.name+" "+e.version}function Lw({error:e}){return(0,d.jsxs)("div",{className:"wpl-modal_error",children:[(0,d.jsx)("h2",{children:(0,m.__)("Useragent Error","redirection")}),(0,d.jsx)("p",{children:(0,m.__)("Something went wrong obtaining this information","redirection")}),(0,d.jsx)("p",{children:(0,d.jsx)("code",{children:e})})]})}function Mw({agent:e}){return(0,d.jsxs)("div",{className:"redirection-useragent_unknown",children:[(0,d.jsx)("h2",{children:(0,m.__)("Unknown Useragent","redirection")}),(0,d.jsx)("br",{}),(0,d.jsx)("p",{children:e})]})}function $w({agent:e,detail:t}){const n=function(e,t){if(!e)return null;const n=e.slice(0,1).toUpperCase()+e.slice(1);return t?(0,d.jsx)(z,{url:t,children:n}):n}(t.device.type,t.url),r=function(e){const t=[];return e.vendor&&t.push(e.vendor),e.name&&t.push(e.name),t.join(" ")}(t.device),i=Dw(t.os),o=Dw(t.browser),s=Dw(t.engine),a=[];return r&&a.push([(0,m.__)("Device","redirection"),r]),i&&a.push([(0,m.__)("Operating System","redirection"),i]),o&&a.push([(0,m.__)("Browser","redirection"),o]),s&&a.push([(0,m.__)("Engine","redirection"),s]),(0,d.jsxs)("div",{children:[(0,d.jsxs)("h2",{children:[(0,m.__)("Useragent","redirection"),": ",n]}),(0,d.jsx)("table",{children:(0,d.jsxs)("tbody",{children:[(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:(0,m.__)("Agent","redirection")}),(0,d.jsx)("td",{className:"redirection-useragent_agent",children:e})]}),a.map((e,t)=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:e[0]}),(0,d.jsx)("td",{children:e[1]})]},t))]})}),(0,d.jsx)(Fw,{})]})}function Uw({agent:e}){const{data:t,isLoading:n,isError:r,error:i}=function(e,t){return ct({queryKey:sd.info.agent(e),queryFn:async()=>await wt(Yt(e)),enabled:!!e,staleTime:864e5,...t})}(e,{enabled:!!e}),o=y({"redirection-useragent":!0,"wpl-modal_loading":n}),s=t,a=r&&i&&i.message||"";return(0,d.jsxs)("div",{className:o,children:[n&&(0,d.jsx)(vd,{}),r&&a&&(0,d.jsx)(Lw,{error:a}),!n&&!r&&!s&&(0,d.jsx)(Mw,{agent:e}),!n&&!r&&s&&(0,d.jsx)($w,{agent:e,detail:s})]})}const Bw=function(e){const{agent:t}=e,[n,r]=(0,c.useState)(!1);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(zw,{href:"https://redirect.li/agent/?agent="+encodeURIComponent(t),onClick:()=>r(!0),children:(0,m.__)("Agent Info","redirection")}),n&&(0,d.jsx)(ym,{onClose:()=>r(!1),children:(0,d.jsx)(Uw,{agent:t})})]})},Zw=({headers:e})=>e&&0!==Object.keys(e).length?(0,d.jsxs)(c.Fragment,{children:[(0,d.jsx)("h3",{children:(0,m.__)("Request Headers","redirection")}),(0,d.jsx)("table",{children:(0,d.jsx)("tbody",{children:Object.keys(e).map(t=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:t}),(0,d.jsx)("td",{children:e[t]})]},t))})})]}):null,qw=({source:e})=>e&&0!==e.length?(0,d.jsxs)(c.Fragment,{children:[(0,d.jsx)("h3",{children:(0,m.__)("Redirect Source","redirection")}),(0,d.jsx)("ul",{children:e.map((e,t)=>(0,d.jsx)("li",{children:e},t))})]}):null,Hw=({data:e})=>{const{headers:t,source:n}=e;return(0,d.jsxs)("div",{className:"redirect-requestdata",children:[t&&(0,d.jsx)(Zw,{headers:t}),n&&(0,d.jsx)(qw,{source:n})]})},Ww=function(e){const{data:t}=e,[n,r]=(0,c.useState)(!1);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(zw,{onClick:()=>r(!0),children:(0,m.__)("View Data","redirection")}),n&&(0,d.jsx)(ym,{onClose:()=>r(!1),children:(0,d.jsx)(Hw,{data:t})})]})},Gw=function(e){const{row:t,onDelete:n,disabled:r}=e,{agent:i,id:o,request_data:s,redirection_id:a}=t,c=[];return c.push((0,d.jsx)(zw,{onClick:()=>n(o),capability:"redirection_cap_log_delete",children:(0,m.__)("Delete","redirection")},"0")),i&&c.unshift((0,d.jsx)(Bw,{agent:i},"3")),s&&c.push((0,d.jsx)(Ww,{data:s},"4")),a&&a>0&&c.push((0,d.jsx)(zw,{href:Redirectioni10n.pluginRoot+"&"+encodeURIComponent("filterby[id]")+"="+a,children:(0,m.__)("View Redirect","redirection")},"5")),(0,d.jsx)(Iw,{disabled:r,actions:c})},Vw=e=>{const{enabled:t=!0,children:n}=e;return t?(0,d.jsx)("div",{className:"table-buttons",children:n}):null};var Qw=n(465),Kw=n.n(Qw);function Jw(e){return e.url?dp(e.domain?"https://"+e.domain:document.location.origin,e.url):""}function Yw(e,t){if(!e.sent_to)return"";const n=dp(e.domain?"https://"+e.domain:document.location.origin,e.sent_to),r=t.target||"";return(0,d.jsx)(z,{url:n,children:(0,d.jsx)(Kw(),{searchWords:[r],textToHighlight:e.sent_to,autoEscape:!0})})}function Xw(e){return e.includes("url")?e:e.concat(["url"])}const ej=function(){const e=Zx(e=>e.logs),{setLogsTable:t,setLogsSelected:n}=Zx(),r=de(e=>e.values),i=r?.token||"";Qx({table:e,setTable:t,allowedGroup:["url","ip","agent"],allowedFilters:["url","url-exact","referrer","agent","ip","target","domain","method","redirect_by"],pageName:"log"});const o=function(){const e=h(),{incrementProgress:t,decrementProgress:n,addNotice:r,addError:i}=cd(),{setLogsTable:o}=Zx();return dt({mutationFn:async({action:e,items:r,params:i={}})=>{t();try{return await wt(Qt(e,{items:r},i))}catch(e){throw n(),od(e)}},onSuccess:(t,i)=>{n();const s="delete"===i.action?"deleted":i.action;r(`Logs ${s}`),o({page:0,selected:[],selectAll:!1}),e.invalidateQueries({queryKey:sd.logs.all})},onError:e=>{i(e.message||"Failed to perform log action")}})}(),{data:s,isLoading:a,isSuccess:c}=function(e={},t){const n=cm(e),{addError:r}=cd();return ct({queryKey:sd.logs.list(n),queryFn:async()=>{try{const e=await wt(Ft(n));return Wx.parse(e)}catch(e){const t=od(e);throw r(t.message||"Failed to fetch logs"),t}},...t})}(e),l=s?.items??[],u=s?.total??0;let p=Kx;a?p=Jx:c&&(p=Yx);const f=t=>{if(!window.confirm((0,m.__)("Are you sure you want to delete this item?","redirection")))return;const n=e.groupBy?{groupBy:e.groupBy}:{};o.mutate({action:"delete",items:[t],params:n})},g=e=>{t({filterBy:e,page:0,selected:[],selectAll:!1})},y={...e,...(v=e.groupBy,v?{displayOptions:zx(v),displaySelected:Ix(v)[0]?.grouping||[]}:{})};var v;const _={page:e.page,perPage:e.per_page,orderBy:e.orderby,direction:e.direction,selected:e.selected??[],selectAll:e.selectAll??!1,filter:"",filterBy:e.filterBy??{},displayType:e.displayType??"standard",displaySelected:y.displaySelected??[],groupBy:e.groupBy??""},b={displayFilters:zx(y.groupBy),displayGroups:Ix(y.groupBy),searchOptions:[{name:"url",title:(0,m.__)("Search URL","redirection")},{name:"url-exact",title:(0,m.__)("Search exact URL","redirection")},{name:"referrer",title:(0,m.__)("Search referrer","redirection")},{name:"agent",title:(0,m.__)("Search user agent","redirection")},{name:"ip",title:(0,m.__)("Search IP","redirection")},{name:"target",title:(0,m.__)("Search target URL","redirection")},{name:"domain",title:(0,m.__)("Search domain","redirection")}],groupBy:Fx(r?.ip_logging||0),bulk:[{id:"delete",name:(0,m.__)("Delete","redirection")}],rowFilters:y.groupBy?[]:[{label:(0,m.__)("Method","redirection"),value:"method",options:[{label:"GET",value:"get"},{label:"POST",value:"post"},{label:"HEAD",value:"head"}]},{label:(0,m.__)("Redirect By","redirection"),value:"redirect_by",options:[{label:(0,m.__)("WordPress","redirection"),value:"wordpress"},{label:(0,m.__)("Redirection","redirection"),value:"redirection"}]}],headers:Ax(y.groupBy).filter(e=>function(e,t){return t.displaySelected.includes(e)}(e.name,y)),validateDisplay:Xw},x={onChangePage:e=>{t({page:e,selected:[],selectAll:!1})},onBulk:t=>{if(0===e.selected.length&&!e.selectAll)return;if("delete"===t){const t=e.selectAll?(0,m.__)("Are you sure you want to delete all items?","redirection"):(0,m.__)("Are you sure you want to delete the selected items?","redirection");if(!window.confirm(t))return}const n=e.groupBy?{groupBy:e.groupBy}:{};e.selectAll?o.mutate({action:t,items:[],params:{...n,global:!0,...e.filterBy}}):o.mutate({action:t,items:e.selected,params:n})},onGroup:e=>{t({groupBy:e,selected:[],selectAll:!1})},onSetOrder:(e,n)=>{t({orderby:e,direction:n})},onFilter:g,onSetDisplay:(e,n)=>{t({displayType:e,displaySelected:n})},onSelect:r=>{if("boolean"==typeof r)n(r?l.map(e=>e.id):[]);else if("number"==typeof r||"string"==typeof r){const n=Array.isArray(e.selected)?e.selected:[],i=n.some(e=>e===r)?n.filter(e=>e!==r):[...n,r];t({selected:i,selectAll:!1})}else n(r)},onSetAll:e=>{t({selected:e?l.map(e=>e.id):[],selectAll:e})}};return(0,d.jsx)(Tw,{logOptions:b,logActions:x,table:_,status:p,total:u,rows:l,saving:[],getRow:(e,t)=>function(e,t){const{created:n,url:r,agent:i,referrer:o,ip:s,request_method:a,http_code:c,domain:l,redirect_by:u,count:p}=e,h=t?.table?.filterBy||{},f=h.url||h["url-exact"]||"";return[{name:"date",content:n??""},{name:"method",content:a?a.toUpperCase():""},{name:"domain",content:l||""},{name:"url",content:r?(0,d.jsx)(z,{url:Jw(e),children:(0,d.jsx)(Kw(),{searchWords:[f],textToHighlight:r,autoEscape:!0})}):""},{name:"target",content:Yw(e,h)},{name:"redirect_by",content:u||""},{name:"code",content:c??""},{name:"referrer",content:o?(0,d.jsx)(Kw(),{searchWords:[h.referrer||""],textToHighlight:o,autoEscape:!0}):""},{name:"agent",content:i?(0,d.jsx)(Kw(),{searchWords:[h.agent||""],textToHighlight:i,autoEscape:!0}):""},{name:"ip",content:s?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("a",{href:"https://redirect.li/ip/?ip="+encodeURIComponent(s),children:(0,d.jsx)(Kw(),{searchWords:[h.ip||""],textToHighlight:s,autoEscape:!0})}),""===t?.table?.groupBy&&t?.onFilter&&(0,d.jsx)(Iw,{actions:[(0,d.jsx)(zw,{onClick:()=>{t.onFilter?.({ip:s})},children:(0,m.__)("Filter by IP","redirection")},"filter-ip")]})]}):""},{name:"count",content:p?new Intl.NumberFormat(window.Redirectioni10n.locale).format(p):""}]}(e,{...t,onFilter:g}),getRowActions:e=>(0,d.jsx)(Gw,{disabled:!1,row:e,onDelete:f}),renderTableActions:()=>(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(Vw,{enabled:l.length>0,children:i&&(0,d.jsx)("div",{className:"table-button-item",children:(0,d.jsx)("a",{href:up(i),className:"button-secondary",children:(0,m.__)("RSS","redirection")})})})})})},tj="url",nj="error",rj="random",ij="pass",oj="nothing",sj="url",aj="login",cj="referrer",lj="agent",uj="cookie",dj="header",pj="custom",hj="role",fj="server",mj="ip",gj="page",yj="language";function vj(e){return e===tj||e===rj}function _j(e,t){return e===aj?{logged_in:t?.logged_in||"",logged_out:t?.logged_out||""}:e===cj?{referrer:t?.referrer||"",regex:t?.regex||!1}:e===lj?{agent:t?.agent||"",regex:t?.regex||!1}:e===uj||e===dj?{name:t?.name||"",value:t?.value||"",regex:t?.regex||!1}:e===pj?{filter:t?.filter||""}:e===hj?{role:t?.role||""}:e===fj?{server:t?.server||""}:e===mj?{ip:t?.ip||""}:e===yj?{language:t?.language||""}:t||{}}function bj(e,t,n){return{url:e,title:"",match_data:{source:{flag_regex:n.flag_regex||!1,flag_trailing:n.flag_trailing||!1,flag_case:n.flag_case||!1,flag_query:n.flag_query||"exact"},options:{}},match_type:sj,action_type:tj,action_code:301,action_data:{},group_id:t,position:0}}const xj=()=>[{value:sj,label:(0,m.__)("URL only","redirection")},{value:aj,label:(0,m.__)("URL and login status","redirection")},{value:hj,label:(0,m.__)("URL and role/capability","redirection")},{value:cj,label:(0,m.__)("URL and referrer","redirection")},{value:lj,label:(0,m.__)("URL and user agent","redirection")},{value:uj,label:(0,m.__)("URL and cookie","redirection")},{value:mj,label:(0,m.__)("URL and IP","redirection")},{value:fj,label:(0,m.__)("URL and server","redirection")},{value:dj,label:(0,m.__)("URL and HTTP header","redirection")},{value:pj,label:(0,m.__)("URL and custom filter","redirection")},{value:gj,label:(0,m.__)("URL and WordPress page type","redirection")},{value:yj,label:(0,m.__)("URL and language","redirection")}],wj=()=>[{value:tj,label:(0,m.__)("Redirect to URL","redirection")},{value:rj,label:(0,m.__)("Redirect to random post","redirection")},{value:ij,label:(0,m.__)("Pass-through","redirection")},{value:nj,label:(0,m.__)("Error (404)","redirection")},{value:oj,label:(0,m.__)("Do nothing (ignore)","redirection")}],jj=()=>[{value:"301",label:(0,m.__)("301 - Moved Permanently","redirection")},{value:"302",label:(0,m.__)("302 - Found","redirection")},{value:"303",label:(0,m.__)("303 - See Other","redirection")},{value:"304",label:(0,m.__)("304 - Not Modified","redirection")},{value:"307",label:(0,m.__)("307 - Temporary Redirect","redirection")},{value:"308",label:(0,m.__)("308 - Permanent Redirect","redirection")}],Sj=()=>[{value:"400",label:(0,m.__)("400 - Bad Request","redirection")},{value:"401",label:(0,m.__)("401 - Unauthorized","redirection")},{value:"403",label:(0,m.__)("403 - Forbidden","redirection")},{value:"404",label:(0,m.__)("404 - Not Found","redirection")},{value:"410",label:(0,m.__)("410 - Gone","redirection")},{value:"418",label:(0,m.__)("418 - I'm a teapot","redirection")},{value:"451",label:(0,m.__)("451 - Unavailable For Legal Reasons","redirection")},{value:"500",label:(0,m.__)("500 - Internal Server Error","redirection")},{value:"501",label:(0,m.__)("501 - Not implemented","redirection")},{value:"502",label:(0,m.__)("502 - Bad Gateway","redirection")},{value:"503",label:(0,m.__)("503 - Service Unavailable","redirection")},{value:"504",label:(0,m.__)("504 - Gateway Timeout","redirection")}],kj=()=>jj().concat(Sj()),Cj=()=>[{value:"flag_regex",label:(0,m.__)("Regex","redirection")},{value:"flag_trailing",label:(0,m.__)("Ignore Slash","redirection")},{value:"flag_case",label:(0,m.__)("Ignore Case","redirection")}],Tj=()=>[{value:"exactorder",label:(0,m.__)("Exact match","redirection")},{value:"exact",label:(0,m.__)("Exact match in any order","redirection")},{value:"ignore",label:(0,m.__)("Ignore all parameters","redirection")},{value:"pass",label:(0,m.__)("Ignore & pass parameters to the target","redirection")}],Ej=e=>"url"===e?[{name:"url",title:(0,m.__)("Source URL","redirection"),primary:!0,sortable:!1},{name:"count",title:(0,m.__)("Count","redirection"),sortable:!0}]:"agent"===e?[{name:"agent",title:(0,m.__)("User Agent","redirection"),primary:!0,sortable:!1},{name:"count",title:(0,m.__)("Count","redirection"),sortable:!0}]:"ip"===e?[{name:"ip",title:(0,m.__)("IP","redirection"),primary:!0,sortable:!1},{name:"count",title:(0,m.__)("Count","redirection"),sortable:!0}]:[{name:"date",title:(0,m.__)("Date","redirection")},{name:"method",title:(0,m.__)("Method","redirection"),sortable:!1},{name:"domain",title:(0,m.__)("Domain","redirection"),sortable:!1},{name:"url",title:(0,m.__)("Source URL","redirection"),primary:!0},{name:"code",title:(0,m.__)("HTTP code","redirection"),sortable:!1},{name:"referrer",title:(0,m.__)("Referrer","redirection"),sortable:!1},{name:"agent",title:(0,m.__)("User Agent","redirection"),sortable:!1},{name:"ip",title:(0,m.__)("IP","redirection")}],Pj=e=>{const t=[{id:"delete",name:(0,m.__)("Delete","redirection")}];return"ip"===e?t.concat([{id:"redirect-ip",name:(0,m.__)("Redirect All","redirection")},{id:"block",name:(0,m.__)("Block IP","redirection")}]):"agent"===e?t:t.concat([{id:"redirect-url",name:(0,m.__)("Redirect All","redirection"),isEverything:!1},{id:"ignore",name:(0,m.__)("Ignore URL","redirection"),isEverything:!1}])},Oj=e=>{const t=[{value:"",label:(0,m.__)("No grouping","redirection")},{value:"url",label:(0,m.__)("Group by URL","redirection")},{value:"agent",label:(0,m.__)("Group by user agent","redirection")}];return e>0&&t.push({value:"ip",label:(0,m.__)("Group by IP","redirection")}),t};function Rj(e){return e?[{value:"group",label:(0,m.__)("Group","redirection"),grouping:[e,"count"]}]:[{value:"standard",label:(0,m.__)("Standard Display","redirection"),grouping:["date","url","agent","ip"]},{value:"minimal",label:(0,m.__)("Compact Display","redirection"),grouping:["date","url"]},{value:"all",label:(0,m.__)("Display All","redirection"),grouping:Nj(e).map(e=>e.value)}]}function Nj(e){return"url"===e?[{value:"url",label:(0,m.__)("URL","redirection")},{value:"count",label:(0,m.__)("Count","redirection")}]:"agent"===e?[{value:"agent",label:(0,m.__)("User Agent","redirection")},{value:"count",label:(0,m.__)("Count","redirection")}]:"ip"===e?[{value:"ip",label:(0,m.__)("IP","redirection")},{value:"count",label:(0,m.__)("Count","redirection")}]:[{value:"date",label:(0,m.__)("Date","redirection")},{value:"method",label:(0,m.__)("Method","redirection")},{value:"domain",label:(0,m.__)("Domain","redirection")},{value:"url",label:(0,m.__)("URL","redirection")},{value:"code",label:(0,m.__)("HTTP code","redirection")},{value:"referrer",label:(0,m.__)("Referrer","redirection")},{value:"agent",label:(0,m.__)("User Agent","redirection")},{value:"ip",label:(0,m.__)("IP","redirection")}]}const Aj="^/.*$";function Ij(e){return{url:Aj,match_type:mj,action_data:{ip:e},match_data:{source:{flag_regex:!0}}}}function zj(e,t){return"redirect-ip"===e||"ip"===e?{...Ij(t),action_type:tj}:"block"===e?{...Ij(t),action_type:nj,action_code:403}:"agent"===e?{url:Aj,match_type:lj,action_data:{agent:t},match_data:{source:{flag_regex:!0}}}:{url:t,match_type:sj,action_type:"ignore"===e?oj:tj}}const Fj=({title:e=null,children:t,className:n=""})=>(0,d.jsxs)("tr",{className:n,children:[(0,d.jsx)("th",{children:e}),(0,d.jsx)("td",{children:t})]}),Dj=({flag_case:e,flag_regex:t,flag_trailing:n})=>[e?"flag_case":null,t?"flag_regex":null,n?"flag_trailing":null].filter(e=>null!==e),Lj=({url:e,flags:t,onFlagChange:n,onChange:r,autoFocus:i=!1})=>{const o=Cj();return Array.isArray(e)?(0,d.jsx)(Fj,{title:(0,m.__)("Source URL","redirection"),className:"top",children:(0,d.jsx)("textarea",{value:e.join("\n"),readOnly:!0})}):(0,d.jsxs)(Fj,{title:(0,m.__)("Source URL","redirection"),className:"redirect-edit__source",children:[(0,d.jsx)("input",{type:"text",name:"url",value:e,onChange:r,autoFocus:i,className:"regular-text",placeholder:(0,m.__)("The relative URL you want to redirect from","redirection")}),(0,d.jsx)(qf,{options:o,selected:Dj(t),onChange:function(e){const t=Array.isArray(e)?e:[e];n({flag_case:t.includes("flag_case"),flag_trailing:t.includes("flag_trailing"),flag_regex:t.includes("flag_regex")})},title:(0,m.__)("URL options / Regex","redirection"),badges:!0,multiple:!0,hideTitle:!0})]})},Mj=({query:e,regex:t,onChange:n,url:r})=>{if(t)return null;const i=!1===(Array.isArray(r)?r.join(""):r).includes("?")?Tj().filter(e=>"exactorder"!==e.value):Tj();return(0,d.jsx)(Fj,{title:(0,m.__)("Query Parameters","redirection"),className:"redirect-edit__sourcequery",children:(0,d.jsx)(jd,{name:"flag_query",items:i,value:e,onChange:n})})},$j=({groups:e,currentGroup:t,onChange:n})=>(0,d.jsx)(jd,{name:"group",value:String(t),items:pp(e),onChange:n}),Uj=({position:e,onChange:t})=>(0,d.jsxs)("span",{className:"redirect-edit-position",children:[(0,d.jsx)("strong",{children:(0,m.__)("Position","redirection")}),"¬†",(0,d.jsx)("input",{type:"number",value:e,name:"position",min:"0",size:3,onChange:t})]}),Bj=function({title:e,onChange:t}){return(0,d.jsx)(Fj,{title:(0,m.__)("Title","redirection"),className:"redirect-edit__title",children:(0,d.jsx)("input",{type:"text",name:"title",value:e,onChange:e=>t({title:e.target.value}),placeholder:(0,m.__)("Describe the purpose of this redirect (optional)","redirection")})})},Zj=({actionType:e,actionCode:t,onChange:n})=>{const r=function(e){return e===nj?Sj():e===tj||e===rj?jj():null}(e);return r?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("strong",{className:"small-flex",children:(0,m.__)("with HTTP code","redirection")}),(0,d.jsx)(jd,{name:"action_code",value:String(t),items:r,onChange:n})]}):null},qj=({actionType:e,matchType:t,onChange:n})=>(0,d.jsx)(jd,{name:"action_type",value:e,items:wj().filter(e=>!(t===aj&&!vj(e.value))),onChange:n}),Hj=({matchType:e,onChange:t})=>(0,d.jsx)(Fj,{title:(0,m.__)("Match","redirection"),children:(0,d.jsx)(jd,{name:"match_type",value:e,items:xj(),onChange:t})}),Wj=function({onChange:e,data:t}){const[n,r]=(0,c.useState)(""),{agent:i,regex:o}=t;return(0,d.jsxs)(Fj,{title:(0,m.__)("User Agent","redirection"),className:"redirect-edit__match",children:[(0,d.jsx)("input",{type:"text",name:"agent",value:i,onChange:e,className:"regular-text",placeholder:(0,m.__)("Match against this browser user agent","redirection")}),(0,d.jsxs)("select",{name:"agent_dropdown",onChange:t=>{""!==t.target.value&&e({target:{name:"agent",value:{mobile:"iPad|iPod|iPhone|Android|BlackBerry|SymbianOS|SCH-Md+|Opera Mini|Windows CE|Nokia|SonyEricsson|webOS|PalmOS",feed:"Bloglines|feed|rss",lib:"cURL|Java|libwww-perl|PHP|urllib"}[t.target.value]}}),r("")},value:n,className:"medium",children:[(0,d.jsx)("option",{value:"",children:(0,m.__)("Custom","redirection")}),(0,d.jsx)("option",{value:"mobile",children:(0,m.__)("Mobile","redirection")}),(0,d.jsxs)("option",{value:"feed",children:[(0,m.__)("Feed Readers","redirection")," "]}),(0,d.jsx)("option",{value:"lib",children:(0,m.__)("Libraries","redirection")})]}),(0,d.jsx)("input",{id:"redirect-agent-regex",type:"checkbox",name:"regex",checked:o,onChange:e}),(0,d.jsxs)("label",{className:"redirect-edit-regex",htmlFor:"redirect-agent-regex",children:[(0,m.__)("Regex","redirection")," ",(0,d.jsx)("sup",{children:(0,d.jsx)(z,{url:"https://redirection.me/support/redirect-regular-expressions/",children:"?"})})]})]})},Gj=({data:e,onChange:t})=>{const{referrer:n,regex:r}=e;return(0,d.jsxs)(Fj,{title:(0,m.__)("Referrer","redirection"),className:"redirect-edit__match",children:[(0,d.jsx)("input",{type:"text",className:"regular-text",name:"referrer",value:n,onChange:t,placeholder:(0,m.__)("Match against this browser referrer text","redirection")}),(0,d.jsx)("input",{id:"redirect-referrer-regex",type:"checkbox",name:"regex",checked:r,onChange:t}),(0,d.jsxs)("label",{className:"redirect-edit-regex",htmlFor:"redirect-referrer-regex",children:[(0,m.__)("Regex","redirection")," ",(0,d.jsx)("sup",{children:(0,d.jsx)(z,{url:"https://redirection.me/support/redirect-regular-expressions/",children:"?"})})]})]})},Vj=function({onChange:e,data:t}){const[n,r]=(0,c.useState)(""),{name:i,value:o,regex:s}=t;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(Fj,{title:(0,m.__)("HTTP Header","redirection"),className:"redirect-edit__match",children:[(0,d.jsx)("input",{type:"text",name:"name",value:i,onChange:e,className:"regular-text",placeholder:(0,m.__)("Header name","redirection")}),(0,d.jsx)("input",{type:"text",name:"value",value:o,onChange:e,className:"regular-text",placeholder:(0,m.__)("Header value","redirection")}),(0,d.jsxs)("select",{name:"agent_dropdown",onChange:t=>{""!==t.target.value&&e({target:{name:"name",value:{accept:"Accept-Language"}[t.target.value]}}),r("")},value:n,className:"medium",children:[(0,d.jsx)("option",{value:"",children:(0,m.__)("Custom","redirection")}),(0,d.jsx)("option",{value:"accept",children:(0,m.__)("Accept Language","redirection")})]}),(0,d.jsx)("input",{id:"redirect-header-regex",type:"checkbox",name:"regex",checked:s,onChange:e}),(0,d.jsxs)("label",{className:"redirect-edit-regex",htmlFor:"redirect-header-regex",children:[(0,m.__)("Regex","redirection")," ",(0,d.jsx)("sup",{children:(0,d.jsx)(z,{url:"https://redirection.me/support/redirect-regular-expressions/",children:"?"})})]})]}),(0,d.jsx)(Fj,{children:(0,m.__)("Note it is your responsibility to pass HTTP headers to PHP. Please contact your hosting provider for support about this.","redirection")})]})},Qj=({data:e,onChange:t})=>{const{filter:n}=e;return(0,d.jsx)(Fj,{title:(0,m.__)("Filter Name","redirection"),className:"redirect-edit__match",children:(0,d.jsx)("input",{type:"text",name:"filter",value:n,onChange:t,className:"regular-text",placeholder:(0,m.__)("WordPress filter name","redirection")})})},Kj=({data:e,onChange:t})=>{const{name:n,value:r,regex:i}=e;return(0,d.jsxs)(Fj,{title:(0,m.__)("Cookie","redirection"),className:"redirect-edit__match",children:[(0,d.jsx)("input",{type:"text",name:"name",value:n,onChange:t,className:"regular-text",placeholder:(0,m.__)("Cookie name","redirection")}),(0,d.jsx)("input",{type:"text",name:"value",value:r,onChange:t,className:"regular-text",placeholder:(0,m.__)("Cookie value","redirection")}),(0,d.jsx)("input",{id:"redirect-cookie-regex",type:"checkbox",name:"regex",checked:i,onChange:t}),(0,d.jsxs)("label",{className:"redirect-edit-regex",htmlFor:"redirect-cookie-regex",children:[(0,m.__)("Regex","redirection")," ",(0,d.jsx)("sup",{children:(0,d.jsx)(z,{url:"https://redirection.me/support/redirect-regular-expressions/",children:"?"})})]})]})},Jj=({data:e,onChange:t})=>{const{role:n}=e;return(0,d.jsx)(Fj,{title:(0,m.__)("Role","redirection"),className:"redirect-edit__match",children:(0,d.jsx)("input",{type:"text",className:"regular-text",value:n,name:"role",placeholder:(0,m.__)("Enter role or capability value","redirection"),onChange:t})})},Yj=({data:e,onChange:t})=>{const{server:n}=e;return(0,d.jsx)(Fj,{title:(0,m.__)("Server","redirection"),className:"redirect-edit__match",children:(0,d.jsx)("input",{type:"text",className:"regular-text",name:"server",value:n,placeholder:(0,m.__)("Enter server URL to match against","redirection"),onChange:t})})},Xj=({data:e,onChange:t})=>{const{ip:n=[]}=e;return(0,d.jsx)(Fj,{title:(0,m.__)("IP","redirection"),className:"redirect-edit__match",children:(0,d.jsx)("textarea",{value:n.join("\n"),name:"ip",placeholder:(0,m.__)("Enter IP addresses (one per line)","redirection"),onChange:e=>{t({target:{name:e.target.name,value:e.target.value.split("\n")}})}})})},eS=()=>(0,d.jsx)(Fj,{title:(0,m.__)("Page Type","redirection"),className:"redirect-edit__match",children:(0,d.jsxs)("p",{children:[(0,m.__)("Only the 404 page type is currently supported.","redirection"),"¬†",(0,m.__)("Please do not try and redirect all your 404s - this is not a good thing to do.","redirection")]})}),tS=({data:e,onChange:t})=>{const{language:n}=e;return(0,d.jsx)(Fj,{title:(0,m.__)("Language","redirection"),className:"redirect-edit__match",children:(0,d.jsx)("input",{type:"text",className:"regular-text",name:"language",value:n,onChange:t,placeholder:(0,m.__)("Comma separated list of languages to match against (i.e. da, en-GB)","redirection")})})},nS=({matchType:e,actionData:t,onChange:n})=>{const r={[cj]:Gj,[lj]:Wj,[uj]:Kj,[dj]:Vj,[pj]:Qj,[hj]:Jj,[fj]:Yj,[mj]:Xj,[gj]:eS,[yj]:tS};if(r[e]){const i=r[e];return(0,d.jsx)(i,{data:null===t?{}:t,onChange:n})}return null},rS=({onChange:e,data:t})=>{const{logged_in:n,logged_out:r}=t;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Fj,{title:(0,m.__)("Logged In","redirection"),className:"redirect-edit__target__matched",children:(0,d.jsx)("input",{type:"text",className:"regular-text",name:"logged_in",value:n,onChange:e,placeholder:(0,m.__)("Target URL when matched (empty to ignore)","redirection")})}),(0,d.jsx)(Fj,{title:(0,m.__)("Logged Out","redirection"),className:"redirect-edit__target__unmatched",children:(0,d.jsx)("input",{type:"text",className:"regular-text",name:"logged_out",value:r,onChange:e,placeholder:(0,m.__)("Target URL when not matched (empty to ignore)","redirection")})})]})};const iS=function(){return(0,d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[(0,d.jsx)("circle",{transform:"translate(8 0)",cx:"0",cy:"16",r:"0",children:(0,d.jsx)("animate",{attributeName:"r",values:"0; 4; 0; 0",dur:"1.2s",repeatCount:"indefinite",begin:"0",keyTimes:"0;0.2;0.7;1",keySplines:"0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8",calcMode:"spline"})}),(0,d.jsx)("circle",{transform:"translate(16 0)",cx:"0",cy:"16",r:"0",children:(0,d.jsx)("animate",{attributeName:"r",values:"0; 4; 0; 0",dur:"1.2s",repeatCount:"indefinite",begin:"0.3",keyTimes:"0;0.2;0.7;1",keySplines:"0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8",calcMode:"spline"})}),(0,d.jsx)("circle",{transform:"translate(24 0)",cx:"0",cy:"16",r:"0",children:(0,d.jsx)("animate",{attributeName:"r",values:"0; 4; 0; 0",dur:"1.2s",repeatCount:"indefinite",begin:"0.6",keyTimes:"0;0.2;0.7;1",keySplines:"0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8",calcMode:"spline"})})]})},oS=function({options:e,value:t,onSelect:n,onClose:r}){return(0,d.jsx)("ul",{children:e.map((e,i)=>(0,d.jsx)("li",{children:(0,d.jsx)("button",{type:"button",onClick:t=>function(e,t){e.preventDefault(),n(t),r()}(t,e),onKeyDown:t=>function(e,t){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),n(t),r())}(t,e),children:(0,d.jsx)(Kw(),{searchWords:[t],textToHighlight:e.title,autoEscape:!0})})},i))})},sS=function(e){const{placeholder:t="",onChange:n,value:r,fetchData:i,name:o="text",disabled:s=!1,className:a,maxChoices:l=-1,maxLength:u=0,canMakeRequest:p=e=>e.length>0,onBlur:h,getLabel:f,setLabel:m=()=>{},loadOnFocus:g=!1,onlyChoices:v=!1}=e,[_,b]=(0,c.useState)(!1),[x,w]=(0,c.useState)([]),[j,S]=(0,c.useState)(Array.isArray(r)?"":r),k=(0,c.useRef)(null),C={"wpl-dropdowntext__suggestion__hide":l>0&&Array.isArray(r)&&r.length>=l,"wpl-dropdowntext__suggestion":l>1},T=function(e,t,n,r){var i=this,o=(0,c.useRef)(null),s=(0,c.useRef)(0),a=(0,c.useRef)(0),l=(0,c.useRef)(null),u=(0,c.useRef)([]),d=(0,c.useRef)(),p=(0,c.useRef)(),h=(0,c.useRef)(e),f=(0,c.useRef)(!0),m=(0,c.useRef)(),g=(0,c.useRef)();h.current=e;var y="undefined"!=typeof window,v=!t&&0!==t&&y;if("function"!=typeof e)throw new TypeError("Expected a function");t=+t||0;var _=!!(n=n||{}).leading,b=!("trailing"in n)||!!n.trailing,x=!!n.flushOnExit&&b,w="maxWait"in n,j="debounceOnServer"in n&&!!n.debounceOnServer,S=w?Math.max(+n.maxWait||0,t):null,k=(0,c.useMemo)(function(){var e=function(e){var t=u.current,n=d.current;return u.current=d.current=null,s.current=e,a.current=a.current||e,p.current=h.current.apply(n,t)},n=function(e,t){v&&cancelAnimationFrame(l.current),l.current=v?requestAnimationFrame(e):setTimeout(e,t)},c=function(e){if(!f.current)return!1;var n=e-o.current;return!o.current||n>=t||n<0||w&&e-s.current>=S},k=function(t){return l.current=null,b&&u.current?e(t):(u.current=d.current=null,p.current)},C=function e(){var r=Date.now();if(_&&a.current===s.current&&T(),c(r))return k(r);if(f.current){var i=t-(r-o.current),l=w?Math.min(i,S-(r-s.current)):i;n(e,l)}},T=function(){r&&r({})},E=function(){if(y||j){var r,a=Date.now(),h=c(a);if(u.current=[].slice.call(arguments),d.current=i,o.current=a,x&&!m.current&&(m.current=function(){var e;"hidden"===(null==(e=globalThis.document)?void 0:e.visibilityState)&&g.current.flush()},null==(r=globalThis.document)||null==r.addEventListener||r.addEventListener("visibilitychange",m.current)),h){if(!l.current&&f.current)return s.current=o.current,n(C,t),_?e(o.current):p.current;if(w)return n(C,t),e(o.current)}return l.current||n(C,t),p.current}};return E.cancel=function(){var e=l.current;e&&(v?cancelAnimationFrame(l.current):clearTimeout(l.current)),s.current=0,u.current=o.current=d.current=l.current=null,e&&r&&r({})},E.isPending=function(){return!!l.current},E.flush=function(){return l.current?k(Date.now()):p.current},E},[_,w,t,S,b,x,v,y,j,r]);return g.current=k,(0,c.useEffect)(function(){return f.current=!0,function(){var e;x&&g.current.flush(),m.current&&(null==(e=globalThis.document)||null==e.removeEventListener||e.removeEventListener("visibilitychange",m.current),m.current=null),f.current=!1}},[x]),k}(E,450);function E(e){i&&(b(!0),i(e).then(e=>{k.current&&k.current.ownerDocument.activeElement===k.current&&w(e),b(!1)}).catch(()=>{w([]),b(!1)}))}function P(e){if(f)return R(e).map(t=>f(t,e))}function O(e){if(l>0){if(!R(r).find(t=>t===`${e.value}`)){const t=[`${e.value}`].concat(R(r).filter(t=>t!==`${e.value}`)).slice(0,l);n(1!==l||v?t:t[0],[e.title].concat(P(t)?.slice(1)||[])),m(e.value,e.title)}S("")}else S(e.value),n(e.value,P(r));w([])}function R(e){return Array.isArray(e)?e:e?[e]:[]}return(0,c.useEffect)(()=>{r!==j&&S(Array.isArray(r)?"":r)},[r,j]),(0,d.jsxs)("div",{className:y("wpl-dropdowntext",a,C),children:[l>0&&R(r).map(e=>(0,d.jsx)(Lf,{title:e,onCancel:()=>function(e){const t=R(r).filter(t=>t!==e);m(e,null),Array.isArray(r)?n(1===l?t[0]:t,P(t)):n(""),k.current?.focus()}(e),disabled:s,children:f?f(e,r):e},e)),(0,d.jsx)("input",{type:"text",className:y("regular-text",{"wpl-dropdowntext__max":l>=0&&R(r).length>=l}),name:o,value:j,disabled:s,onChange:function(e){S(e.target.value),l<1&&n(e.target.value),i&&T&&(p(e.target.value.trim())?T(e.target.value):w([]))},maxLength:u>0?u:void 0,placeholder:t,ref:k,onFocus:function(){const e=(Array.isArray(r),r.length>0);g&&!e&&E("")},onBlur:function(e){if(e.relatedTarget&&e.relatedTarget.closest(".wpl-dropdowntext__suggestions"))return;const t=`${(h?h(j):j)??""}`;0===x.length?v?S(""):l>0&&i?O({value:t,label:t,title:t}):n(t):t!==j&&S(t),b(!1)},onKeyDown:function(e){"Enter"===e.code&&(b(!1),w([]))}}),_&&(0,d.jsx)("div",{className:"wpl-dropdowntext__loading",children:(0,d.jsx)(iS,{})}),x.length>0&&k.current&&(0,d.jsx)(Af,{align:"left",onClose:()=>w([]),popoverPosition:Nf(k.current),className:"wpl-dropdowntext__suggestions",focusLock:!1,children:(0,d.jsx)(oS,{options:x,value:j,onSelect:O,onClose:()=>w([])})})]})},aS=function(e){const{onChange:t,url:n}=e;return(0,d.jsx)(sS,{placeholder:(0,m.__)("The target URL you want to redirect, or auto-complete on post name or permalink.","redirection"),onChange:t,fetchData:function(e){return wt(Nt(e))},value:Array.isArray(n)?n.join(""):n||""})},cS=({onChange:e,data:t})=>{const{url:n}=t;return(0,d.jsx)(Fj,{title:(0,m.__)("Target URL","redirection"),className:"redirect-edit__target",children:(0,d.jsx)(aS,{...void 0!==n?{url:n}:{},onChange:t=>e({target:{name:"url",value:t,type:"input"}})})})},lS=({onChange:e,data:t})=>{const{url_from:n,url_notfrom:r}=t;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Fj,{title:(0,m.__)("Matched Target","redirection"),className:"redirect-edit__target__matched",children:(0,d.jsx)("input",{type:"text",className:"regular-text",name:"url_from",value:n,onChange:e,placeholder:(0,m.__)("Target URL when matched (empty to ignore)","redirection")})}),(0,d.jsx)(Fj,{title:(0,m.__)("Unmatched Target","redirection"),className:"redirect-edit__target__unmatched",children:(0,d.jsx)("input",{type:"text",className:"regular-text",name:"url_notfrom",value:r,onChange:e,placeholder:(0,m.__)("Target URL when not matched (empty to ignore)","redirection")})})]})},uS=({actionType:e,matchType:t,actionData:n,onChange:r})=>{if(vj(e)){const e=(i=t)===aj?rS:i===sj||i===gj?cS:lS,o=_j(t,n);return(0,d.jsx)(e,{data:null===o?{}:o,onChange:r})}var i;return null},dS=(e,t)=>t.startsWith(e)||e.slice(0,t.length)===t,pS=e=>{const{url:t,flag_regex:n,action_data:r={}}=e;if(null===r||!t||!e||"string"!=typeof t)return[];const i=[],{url:o="",logged_in:s="",logged_out:a="",url_from:c="",url_notfrom:l=""}=r;if(Array.isArray(t)||0===t.length||void 0===t)return i;if(t.includes("#")&&i.push((0,d.jsx)(z,{url:"https://redirection.me/support/faq/#anchor",children:(0,m.__)("Anchor values are not sent to the server and cannot be redirected.","redirection")})),"http"===t.slice(0,4)&&!t.includes(document.location.origin))try{const e=new URL(t);i.push((0,d.jsx)(z,{url:"https://redirection.me/support/matching-redirects/#server",children:U((0,m.sprintf)(
// translators: %(server)s is the domain name
// translators: %(server)s is the domain name
(0,m.__)("This will be converted to a server redirect for the domain {{code}}%(server)s{{/code}}.","redirection"),{server:e.hostname}),{code:(0,d.jsx)("code",{})})}))}catch(e){}var u;"http"!==t.slice(0,4)&&"/"!==t.slice(0,1)&&t.length>0&&!1===n&&!t.includes("[source]")&&i.push(U((0,m.__)("The source URL should probably start with a {{code}}/{{/code}}","redirection"),{code:(0,d.jsx)("code",{})})),null===(u=t).match(/[\*\\\(\)\^\$]/)&&!u.includes(".?")||!1!==n||i.push((0,d.jsx)(z,{url:"https://redirection.me/support/redirect-regular-expressions/",children:(0,m.__)('Remember to enable the "regex" option if this is a regular expression.',"redirection")})),t.match(/%\w+%/)&&i.push((0,d.jsx)(z,{url:"tools.php?page=redirection.php&sub=site",children:(0,m.__)('Please add migrated permalinks to the Site page under the "Permalink Migration" section.',"redirection")})),t.includes("^")||t.includes("$")||!n||i.push(
// translators: %(example)s is an example regular expression
U((0,m.sprintf)(
// translators: %(example)s is an example regular expression
// translators: %(example)s is an example regular expression
(0,m.__)("To prevent a greedy regular expression you can use {{code}}^{{/code}} to anchor it to the start of the URL. For example: {{code}}%(example)s{{/code}}","redirection"),{example:"^"+t}),{code:(0,d.jsx)("code",{})})),n&&t.includes("^")&&t.indexOf("^")>0&&i.push(
// translators: %(example)s is an example regular expression with corrected caret position
U((0,m.sprintf)(
// translators: %(example)s is an example regular expression with corrected caret position
// translators: %(example)s is an example regular expression with corrected caret position
(0,m.__)("The caret {{code}}^{{/code}} should be at the start. For example: {{code}}%(example)s{{/code}}","redirection"),{example:"^"+t.replace("^","")}),{code:(0,d.jsx)("code",{})})),n&&t.match(/[a-zA-Z0-9\/]\?/)&&i.push(U((0,m.__)("To match {{code}}?{{/code}} you need to escape it with {{code}}\\?{{/code}}","redirection"),{code:(0,d.jsx)("code",{})})),n&&t.match(/[a-zA-Z0-9 ]\*/)&&i.push(U((0,m.__)("Wildcards are not supported. You need to use a {{link}}regular expression{{/link}}.","redirection"),{link:(0,d.jsx)(z,{url:"https://redirection.me/support/redirect-regular-expressions/"})})),"/(.*)"!==t&&"^/(.*)"!==t||i.push((0,m.__)("If you want to redirect everything please use a site relocation or alias from the Site page.","redirection")),t.length>0&&(c===t||l===t||s===t||a===t||o===t)&&i.push((0,m.__)("Your source is the same as a target and this will create a loop. Leave a target blank if you do not want to take action.","redirection"));const p=[r.url,r.url_from,r.url_notfrom,r.logged_in,r.logged_out].filter(e=>e);return!o||dS(o,"https://")||dS(o,"http://")||"/"===o.slice(0,1)||i.push(
// translators: %(url)s is the user's target URL
U((0,m.sprintf)(
// translators: %(url)s is the user's target URL
// translators: %(url)s is the user's target URL
(0,m.__)("Your target URL should be an absolute URL like {{code}}https://domain.com/%(url)s{{/code}} or start with a slash {{code}}/%(url)s{{/code}}.","redirection"),{url:r.url}),{code:(0,d.jsx)("code",{})})),!1===n&&p.forEach(e=>{const t=e.match(/[|\\\$]/g);null!==t&&i.push(
// translators: %(invalid)s is an invalid character in the URL
U((0,m.sprintf)(
// translators: %(invalid)s is an invalid character in the URL
// translators: %(invalid)s is an invalid character in the URL
(0,m.__)("Your target URL contains the invalid character {{code}}%(invalid)s{{/code}}","redirection"),{invalid:t}),{code:(0,d.jsx)("code",{})}))}),[t,...p].forEach(e=>{const t=(e=>{const t=e.match(/^\/([a-zA-Z0-9_\-%]*\..*)\//);return t&&!e.includes("index.php")?t[0]:null})(e);t&&i.push(
// translators: %(relative)s is the relative URL, %(absolute)s is the suggested absolute URL
U((0,m.sprintf)(
// translators: %(relative)s is the relative URL, %(absolute)s is the suggested absolute URL
// translators: %(relative)s is the relative URL, %(absolute)s is the suggested absolute URL
(0,m.__)("Your URL appears to contain a domain inside the path: {{code}}%(relative)s{{/code}}. Did you mean to use {{code}}%(absolute)s{{/code}} instead?","redirection"),{relative:t,absolute:"https://"+t}),{code:(0,d.jsx)("code",{})}))}),null!==t.match(/(\.html|\.htm|\.php|\.pdf|\.jpg)$/)&&i.push((0,d.jsx)(z,{url:"https://redirection.me/support/problems/url-not-redirecting/",children:(0,m.__)("Some servers may be configured to serve file resources directly, preventing a redirect occurring.","redirection")})),i},hS=({warnings:e})=>0===e.length?null:(0,d.jsx)(Fj,{children:(0,d.jsx)("div",{className:"redirect-edit_warning notice notice-warning",children:e.map((e,t)=>(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"dashicons dashicons-info"}),e]},t))})});function fS(e){const t=h(),{incrementProgress:n,decrementProgress:r,addNotice:i,addError:o}=cd(),{setRedirectsTable:s}=Zx();return dt({mutationFn:async({items:e,params:t={}})=>{n();try{return await wt(Gt("delete",{items:e},t))}catch(e){throw r(),od(e)}},onSuccess:()=>{r(),i("Redirects deleted"),s({page:0,selected:[],selectAll:!1}),t.invalidateQueries({queryKey:sd.redirects.lists()})},onError:e=>{o(e.message||"Failed to delete redirects")},...e})}function mS(e,t){const n=h(),{incrementProgress:r,decrementProgress:i,addNotice:o,addError:s}=cd(),{setRedirectsSelected:a}=Zx();return dt({mutationFn:async({items:t})=>{r();try{return await wt(Gt(e,{items:t},{}))}catch(e){throw i(),od(e)}},onSuccess:()=>{i(),o(`Redirects ${e}d`),a([]),n.invalidateQueries({queryKey:sd.redirects.lists()})},onError:t=>{s(t.message||`Failed to ${e} redirects`)},...t})}const gS=function(e){const{item:t,onCancel:n,saveButton:r=(0,m.__)("Save","redirection"),childSave:i,callback:o,canSave:s,autoFocus:a,children:l}=e,{data:u}=lm({}),p=(0,c.useMemo)(()=>u?.items??[],[u]),f=Zx(e=>e.redirectsAddTop),g=Zx(e=>e.redirects),{setRedirectsAddTop:y}=Zx(),v=de(e=>e.values),_=v?.auto_target||"",b=(0,c.useMemo)(()=>v?{flag_case:v.flag_case,flag_trailing:v.flag_trailing,flag_regex:v.flag_regex,flag_query:v.flag_query}:{},[v]),{mutate:x}=function(){const e=h(),{incrementProgress:t,decrementProgress:n,addNotice:r,addError:i}=cd();return dt({mutationFn:async e=>{t();try{const{id:t,...n}=e,r=await wt(Ot(t,n));return im.parse(r).item}catch(e){throw n(),od(e)}},onSuccess:t=>{n(),r("Redirect saved"),e.invalidateQueries({queryKey:sd.redirects.lists()}),e.invalidateQueries({queryKey:sd.redirects.detail(t.id)})},onError:e=>{i(e.message||"Failed to update redirect")}})}(),{mutate:w}=function(){const e=h(),{incrementProgress:t,decrementProgress:n,addNotice:r,addError:i}=cd();return dt({mutationFn:async e=>{t();try{const t=await wt(Rt(e));return rm.parse(t).items[0]??null}catch(e){throw n(),od(e)}},onSuccess:()=>{n(),r("Redirect created"),e.invalidateQueries({queryKey:sd.redirects.lists()})},onError:e=>{i(e.message||"Failed to create redirect")}})}(),j=(0,c.useRef)(null),S=(0,c.useCallback)(e=>{if(((e,t)=>e.find(e=>e.id===t))(p,e))return e;if(g.filterBy&&"object"==typeof g.filterBy&&"group"in g.filterBy&&g.filterBy.group&&parseInt(String(g.filterBy.group),10)>0)return parseInt(String(g.filterBy.group),10);if(p&&p.length>0){const e=p.find(e=>e.default);return e?e.id:p[0].id}return 0},[p,g.filterBy]),{url:k,match_data:C,match_type:T,action_type:E,action_data:P,group_id:O=0,title:R,action_code:N,position:A=0}=t,{flag_regex:I,flag_trailing:z,flag_case:F,flag_query:D}=C.source,L={url:k,title:R,flag_regex:I,flag_trailing:z,flag_case:F,flag_query:D,match_type:T,action_type:E,action_code:N,action_data:_j(T,P),options:C.options||{},group_id:S(O),position:A,warning:[],advanced:!1},[M,$]=(0,c.useState)(L),U=(0,c.useCallback)(()=>{const{match_type:e,action_type:t,title:n,action_code:r}=M;return e===sj&&t===tj&&""===n&&301===r},[M]);(0,c.useEffect)(()=>{$(e=>({...e,advanced:!U()}))},[]),(0,c.useEffect)(()=>{$(e=>({...e,warning:pS(e)}))},[M.url,M.action_type,M.match_type,M.action_data]),(0,c.useEffect)(()=>{o&&j.current&&o(j.current.clientHeight)},[M,o]);const B=(0,c.useCallback)(()=>{$({...bj("",M.group_id,b),warning:[],id:t.id})},[M.group_id,b,t.id]),Z=(0,c.useCallback)(e=>{e.preventDefault();const{url:r,title:o,flag_regex:a,flag_trailing:c,flag_case:l,flag_query:u,match_type:d,action_type:h,group_id:f,action_code:m,position:g,action_data:y,options:v}=M,_=f>0||!p?f:p[0].id,b={...t.id?{id:parseInt(String(t.id),10)}:{},url:r,title:o,match_data:{source:{flag_regex:a,flag_trailing:c,flag_case:l,flag_query:u},...v?{options:v}:{}},match_type:d,action_type:h,...void 0!==g?{position:g}:{},...void 0!==_?{group_id:_}:{},action_code:"number"==typeof m?m:parseInt(String(m),10),action_data:_j(d,y)};s&&!s(Array.isArray(r))||(b.id?x({id:b.id,...b}):w(b),n?n(e):B(),i&&i())},[M,p,t.id,s,x,w,n,B,i]),q=(0,c.useCallback)(e=>{$(t=>({...t,...e,warning:pS({...t,...e})}))},[]),H=(0,c.useCallback)(e=>{e.preventDefault(),q({advanced:!M.advanced})},[M.advanced,q]),W=(0,c.useCallback)(e=>{$(t=>({...t,group_id:parseInt(e.target.value,10)}))},[]),G=(0,c.useCallback)(e=>{const t={};Object.keys(b).filter(e=>"flag_query"!==e).forEach(e=>{t[e]=!1}),q({...t,...e})},[b,q]),V=(0,c.useCallback)(e=>{const{target:t}=e,n="checkbox"===t.type?t.checked:t.value;return{[t.name]:n}},[]),Q=(0,c.useCallback)(e=>{const t=V(e);t.action_data=_j(t.match_type,M.action_data),t.match_type===aj&&(t.action_type=tj),q(t)},[M.action_data,V,q]),K=(0,c.useCallback)(e=>{q(V(e))},[V,q]),J=(0,c.useCallback)(e=>{$(t=>({...t,options:{...t.options,[e.target.name]:e.target.checked??e.target.value}}))},[]),Y=(0,c.useCallback)(e=>{const t=V(e).action_type;var n;q({action_type:t,action_code:(n=t,n===nj?404:n===ij?200:301),action_data:_j(M.match_type,M.action_data||{})})},[M.match_type,M.action_data,V,q]),X=(0,c.useCallback)(e=>{const t={action_data:{...M.action_data,...V(e)}};q(t)},[M.action_data,V,q]),ee=(0,c.useCallback)(()=>{const{match_type:e,action_type:t,action_data:n,url:r}=M;return!(0===r.length&&!_||vj(t)&&(i=e,(!(o=n)||i!==sj&&i!==gj&&!(i===aj?o.logged_in||o.logged_out:i===cj?o.referrer:i===lj?o.agent:i===uj||i===dj?o.name&&o.value:i===pj?o.filter:i===hj?o.role:i===fj?o.server:i===mj?o.ip:i===yj&&o.language))&&""===_));var i,o},[M,_]),{url:te,advanced:ne,flag_regex:re,action_type:ie,match_type:oe,action_data:se,flag_query:ae,group_id:ce,position:le,title:ue,action_code:pe,options:he,warning:fe}=M;return(0,d.jsx)("form",{onSubmit:Z,ref:j,children:(0,d.jsx)("table",{className:"redirect-edit",children:(0,d.jsxs)("tbody",{children:[(0,d.jsx)(Lj,{url:te,flags:M,defaultFlags:b,autoFocus:a??!1,onFlagChange:G,onChange:K}),(0,d.jsx)(Mj,{query:ae,regex:re,onChange:K,url:te}),ne&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Bj,{title:ue,onChange:e=>q(e)}),(0,d.jsx)(Hj,{matchType:oe,onChange:Q}),(0,d.jsx)(nS,{matchType:oe,actionData:se,onChange:X}),(0,d.jsxs)(Fj,{title:(0,m.__)("When matched","redirection"),className:"redirect-edit__action",children:[(0,d.jsx)(qj,{actionType:ie,matchType:oe,onChange:Y}),(0,d.jsx)(Zj,{actionType:ie,actionCode:pe,onChange:K}),ne&&["url","random"].includes(ie)?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("input",{id:"redirect-log-exclude",type:"checkbox",name:"log_exclude",checked:Boolean(he.log_exclude),onChange:J}),(0,d.jsx)("label",{htmlFor:"redirect-log-exclude",children:(0,m.__)("Exclude from logs","redirection")})]}):null]})]}),(0,d.jsx)(uS,{actionType:ie,matchType:oe,actionData:se,onChange:X}),(0,d.jsxs)(Fj,{title:(0,m.__)("Group","redirection"),className:"redirect-edit__group",children:[(0,d.jsx)($j,{groups:p,currentGroup:ce,onChange:W}),ne&&(0,d.jsx)(Uj,{position:le,onChange:K})]}),l&&l,(0,d.jsx)(Fj,{children:(0,d.jsxs)("div",{className:"table-actions",children:[(0,d.jsx)("input",{className:"button-primary",type:"submit",name:"save",value:r,disabled:!ee()})," ","¬†",n&&(0,d.jsx)("button",{type:"button",className:"button-secondary",onClick:n,children:(0,m.__)("Cancel","redirection")}),f&&!n&&(0,d.jsx)("button",{className:"button-secondary",type:"button",onClick:e=>{e.preventDefault(),y(!1)},children:(0,m.__)("Close","redirection")}),"¬†",U()&&(0,d.jsx)("button",{type:"button",onClick:H,className:"redirection-edit_advanced",title:(0,m.__)("Show advanced options","redirection"),children:(0,d.jsx)("svg",{"aria-hidden":"true",role:"img",focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{d:"M18 12h-2.18c-.17.7-.44 1.35-.81 1.93l1.54 1.54-2.1 2.1-1.54-1.54c-.58.36-1.23.63-1.91.79V19H8v-2.18c-.68-.16-1.33-.43-1.91-.79l-1.54 1.54-2.12-2.12 1.54-1.54c-.36-.58-.63-1.23-.79-1.91H1V9.03h2.17c.16-.7.44-1.35.8-1.94L2.43 5.55l2.1-2.1 1.54 1.54c.58-.37 1.24-.64 1.93-.81V2h3v2.18c.68.16 1.33.43 1.91.79l1.54-1.54 2.12 2.12-1.54 1.54c.36.59.64 1.24.8 1.94H18V12zm-8.5 1.5c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3z"})})})]})}),(0,d.jsx)(hS,{warnings:fe})]})})})};const yS=function(e){const{onClose:t,redirect:n,rows:r}=e,i=de(e=>e.values),o={flag_regex:i?.flag_regex||!1,flag_trailing:i?.flag_trailing||!1,flag_case:i?.flag_case||!1,flag_query:i?.flag_query||"exact"},{mutate:s}=Vx(),a=function(e,t){return e?Array.isArray(e)?[...new Set(e.map(e=>function(e,t){const n=t.find(t=>t.id===e||t.id===parseInt(e,10));return n?n.url:e}(e,t)))]:e:""}(n.url,r),[l,u]=(0,c.useState)(!1),p={...bj(Array.isArray(a)?a[0]??"":a,0,o),...n,url:a};return(0,d.jsx)(ym,{onClose:t,padding:!0,children:(0,d.jsx)("div",{className:"add-new",children:(0,d.jsx)(gS,{item:p,saveButton:(0,m.__)("Add Redirect","redirection"),onCancel:t,childSave:()=>{return l&&(e=Array.isArray(a)?a:[a],void s({action:"delete",items:e,params:{groupBy:"url",deleteConfirm:!0}}));var e},canSave:e=>l&&confirm(e?(0,m.__)("Are you sure you want to delete the selected items?","redirection"):(0,m.__)("Are you sure you want to delete this item?","redirection"))||!l,autoFocus:!0,children:Ew(Aw)&&(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:(0,m.__)("Delete Log Entries","redirection")}),(0,d.jsxs)("td",{className:"edit-left",style:{padding:"7px 0px"},children:[(0,d.jsx)("input",{id:"create-redirect-delete-log",type:"checkbox",checked:l,onChange:e=>u(e.target.checked)}),(0,d.jsx)("label",{htmlFor:"create-redirect-delete-log",children:Array.isArray(a)&&a.length<=1||!Array.isArray(a)?(0,m.__)("Delete logs for this entry","redirection"):(0,m.__)("Delete logs for these entries","redirection")})]})]})})})})},vS=function(e){const{row:t,onDelete:n,onCreate:r,table:i,disabled:o}=e,{setErrorsTable:s}=Zx(),{url:a,ip:c,agent:l,id:u}=t,{groupBy:p}=i,h=[];return h.push((0,d.jsx)(zw,{onClick:()=>n(u),capability:Aw,children:(0,m.__)("Delete","redirection")},"0")),h.push((0,d.jsx)(zw,{onClick:()=>r(zj(p,"ip"===p?[u]:""===p?a:u)),capability:Rw,children:(0,m.__)("Add Redirect","redirection")},"1")),l&&h.unshift((0,d.jsx)(Bw,{agent:l},"3")),h.push((0,d.jsx)(zw,{onClick:()=>{return e=function(e,t){const{ip:n,agent:r,url:i}=t;return"ip"===e?{ip:n}:"agent"===e?{agent:r}:{"url-exact":i}}(p,t),void s({filterBy:e,page:0});var e},capability:Ow,children:(0,m.__)("Show All","redirection")},"4")),"ip"===p?h.push((0,d.jsx)(zw,{onClick:()=>r(zj("block",[c])),capability:Rw,children:(0,m.__)("Block IP","redirection")},"5")):"agent"!==p&&h.push((0,d.jsx)(zw,{onClick:()=>r(zj("ignore",a)),capability:Rw,children:(0,m.__)("Ignore URL","redirection")},"6")),(0,d.jsx)(Iw,{disabled:o,actions:h})};function _S(e){return e.url?dp(e.domain?"https://"+e.domain:document.location.origin,e.url):""}function bS(e){return e.includes("url")?e:e.concat(["url"])}const xS=function(){const e=Zx(e=>e.errors),{setErrorsTable:t,setErrorsSelected:n}=Zx(),r=de(e=>e.values),[i,o]=(0,c.useState)(null);Qx({table:e,setTable:t,allowedGroup:["url","ip","agent"],allowedFilters:["url","url-exact","referrer","agent","ip","domain","method"],pageName:"404s"});const s=Vx(),{data:a,isFetching:l}=function(e={},t){const n=cm(e),{addError:r}=cd();return ct({queryKey:sd.errors.list(n),queryFn:async()=>{try{const e=await wt(Dt(n));return Gx.parse(e)}catch(e){const t=od(e);throw r(t.message||"Failed to fetch 404 errors"),t}},...t})}(e),u=a?.items??[],p=a?.total??0;let h=Kx;function f(e){n([]),o(e)}function g(t){if(!window.confirm((0,m.__)("Are you sure you want to delete this item?","redirection")))return;const n=e.groupBy?{groupBy:e.groupBy}:{};s.mutate({action:"delete",items:[t],params:n})}l?h=Jx:a&&(h=Yx);const y=e=>{t({filterBy:e,page:0,selected:[],selectAll:!1})},v={...e,...(_=e.groupBy,_?{displayOptions:Nj(_),displaySelected:Rj(_)[0]?.grouping||[]}:{})};var _;const b={page:e.page,perPage:e.per_page,orderBy:e.orderby,direction:e.direction,selected:e.selected??[],selectAll:e.selectAll??!1,filter:"",filterBy:e.filterBy??{},displayType:e.displayType??"standard",displaySelected:v.displaySelected??[],groupBy:e.groupBy??""},x={displayFilters:Nj(v.groupBy),displayGroups:Rj(v.groupBy),searchOptions:[{name:"url",title:(0,m.__)("Search URL","redirection")},{name:"url-exact",title:(0,m.__)("Search exact URL","redirection")},{name:"referrer",title:(0,m.__)("Search referrer","redirection")},{name:"agent",title:(0,m.__)("Search user agent","redirection")},{name:"ip",title:(0,m.__)("Search IP","redirection")},{name:"domain",title:(0,m.__)("Search domain","redirection")}],groupBy:Oj(r?.ip_logging||0),bulk:Pj(v.groupBy),rowFilters:v.groupBy?[]:[{label:(0,m.__)("Method","redirection"),value:"method",options:[{label:"GET",value:"get"},{label:"POST",value:"post"},{label:"HEAD",value:"head"}]},{label:(0,m.__)("HTTP Status Code","redirection"),value:"http",options:kj().filter(e=>parseInt(e.value,10)>=400&&parseInt(e.value,10)<500)}],headers:Ej(v.groupBy).filter(e=>function(e,t){return t.displaySelected.includes(e)}(e.name,v)),validateDisplay:bS},w={onChangePage:e=>{t({page:e,selected:[],selectAll:!1})},onBulk:function(t){if(0===e.selected.length&&!e.selectAll)return;if("delete"===t){const t=e.selectAll?(0,m.__)("Are you sure you want to delete all items?","redirection"):(0,m.__)("Are you sure you want to delete the selected items?","redirection");if(!window.confirm(t))return}const n=e.groupBy?{groupBy:e.groupBy}:{};"delete"===t?e.selectAll?s.mutate({action:"delete",items:[],params:{...n,global:!0,...e.filterBy}}):s.mutate({action:"delete",items:e.selected,params:n}):o(zj(t,e.selected))},onGroup:e=>{t({groupBy:e,selected:[],selectAll:!1})},onSetOrder:(e,n)=>{t({orderby:"date"===e?"":e,direction:n})},onFilter:y,onSetDisplay:(e,n)=>{t({displayType:e,displaySelected:n})},onSelect:r=>{if("boolean"==typeof r)n(r?u.map(e=>e.id):[]);else if("number"==typeof r||"string"==typeof r){const n=Array.isArray(e.selected)?e.selected:[],i=n.includes(r)?n.filter(e=>e!==r):[...n,r];t({selected:i,selectAll:!1})}else n(r)},onSetAll:e=>{t({selected:e?u.map(e=>e.id):[],selectAll:e})}};return(0,d.jsxs)(d.Fragment,{children:[i&&(0,d.jsx)(yS,{onClose:()=>o(null),redirect:i,rows:u}),(0,d.jsx)(Tw,{logOptions:x,logActions:w,table:b,status:h,total:p,rows:u,saving:[],getRow:(e,t)=>function(e,t){const{created:n,url:r,agent:i,referrer:o,ip:s,domain:a,request_method:c,http_code:l,count:u}=e,p=t?.table?.filterBy||{},h=p.url||p["url-exact"]||"";return[{name:"date",content:n??""},{name:"method",content:c?c.toUpperCase():""},{name:"domain",content:a??""},{name:"url",content:r?(0,d.jsx)(z,{url:_S(e),children:(0,d.jsx)(Kw(),{searchWords:[h],textToHighlight:r,autoEscape:!0})}):""},{name:"code",content:l??""},{name:"referrer",content:o?(0,d.jsx)(Kw(),{searchWords:[p.referrer||""],textToHighlight:o,autoEscape:!0}):""},{name:"agent",content:i?(0,d.jsx)(Kw(),{searchWords:[p.agent||""],textToHighlight:i,autoEscape:!0}):""},{name:"ip",content:s?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("a",{href:"https://redirect.li/ip/?ip="+encodeURIComponent(s),children:(0,d.jsx)(Kw(),{searchWords:[p.ip||""],textToHighlight:s,autoEscape:!0})}),""===t?.table?.groupBy&&t?.onFilter&&(0,d.jsx)(Iw,{actions:[(0,d.jsx)(zw,{onClick:()=>{t.onFilter?.({ip:s})},children:(0,m.__)("Filter by IP","redirection")},"filter-ip")]})]}):""},{name:"count",content:u?new Intl.NumberFormat(window.Redirectioni10n.locale).format(u):""}]}(e,{...t,onFilter:y}),getRowActions:(e,t)=>(0,d.jsx)(vS,{disabled:!1,row:e,onCreate:f,onDelete:g,table:t.table}),renderTableActions:()=>Ew(Aw)&&function(e){const{filterBy:t,groupBy:n}=e;return void 0!==t.url||!n&&0===Object.keys(t).length}(v)?(0,d.jsx)(Vw,{enabled:u.length>0,children:null}):(0,d.jsx)(d.Fragment,{})})]})},wS="redirect",jS=({logType:e,title:t})=>{const n=function(e){return e===wS?"log":"404"===e?"404s":e}(e);return(0,d.jsxs)("form",{method:"post",action:Redirectioni10n.pluginRoot+"&sub="+n,children:[(0,d.jsx)("input",{type:"hidden",name:"_wpnonce",value:wt.nonceMiddleware?.nonce}),(0,d.jsx)("input",{type:"hidden",name:"export-csv",value:""}),(0,d.jsx)("input",{className:"button",type:"submit",name:"",value:t})]})},SS=function(e){const{plugin:t,doImport:n}=e,{name:r,total:i}=t;return(0,d.jsxs)("div",{className:"plugin-importer",children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:r})," (",/* translators: %d is the number of redirects that can be imported */ /* translators: %d is the number of redirects that can be imported */
(0,m.sprintf)((0,m.__)("total = %d","redirection"),i),")"]}),(0,d.jsx)("button",{type:"button",onClick:()=>{n(t)},className:"button-secondary",children:(0,m.sprintf)(
// translators: %s is the plugin name
// translators: %s is the plugin name
(0,m.__)("Import from %s","redirection"),r)})]})},kS=function(){const[e,t]=(0,c.useState)(0),[n,r]=(0,c.useState)(!1),[i,o]=(0,c.useState)("all"),[s,a]=(0,c.useState)("json"),[l,u]=(0,c.useState)(!1),[p,f]=(0,c.useState)(!1),[g,v]=(0,c.useState)(!1),_=(0,c.useRef)(null),{data:b}=lm({}),x=b?.items??[],{data:w=[]}=ld(),j=function(e){const t=h(),{addNotice:n,addError:r,incrementProgress:i,decrementProgress:o}=cd();return dt({mutationFn:async({file:e,groupId:t})=>{i();try{return await wt(Lt(String(t),e))}catch(e){throw o(),od(e)}},onSuccess:e=>{o(),n(`Imported ${e?.imported||0} redirects`),t.invalidateQueries({queryKey:sd.redirects.lists()})},onError:e=>{r(e.message||"Import failed")},...e})}({onSuccess:e=>{f(e?.imported||0),u(!1)}}),S=ud(),k=function(e){const{addError:t,incrementProgress:n,decrementProgress:r}=cd();return dt({mutationFn:async({moduleId:e,format:t})=>{n();try{return(await wt(Ut(e,t))).data}catch(e){throw r(),od(e)}},onSuccess:()=>{r()},onError:e=>{t(e.message||"Export failed")},...e})}({onSuccess:e=>{v(e)}});let C="idle";k.isPending?C="loading":k.isSuccess&&(C="success");let T="idle";j.isPending||S.isPending?T="loading":(j.isSuccess||S.isSuccess)&&(T="success"),(0,c.useEffect)(()=>()=>{u(!1),f(!1),v(!1)},[]);const E=e=>{e.preventDefault(),e.stopPropagation(),"loading"!==T&&r(!0)},P=e=>{e.preventDefault(),e.stopPropagation(),r(!1)},O=e=>{e.preventDefault(),e.stopPropagation()},R=e=>{if(e.preventDefault(),e.stopPropagation(),r(!1),"loading"===T)return;const n=e.dataTransfer.files;n.length>0&&(u(n[0]||!1),x.length>0&&x[0]&&t(x[0].id))},N=e=>{const n=e.target.files;n&&n.length>0&&(u(n[0]||!1),x[0]&&t(x[0].id))},A=()=>{_.current?.click()},I=()=>{l&&j.mutate({file:l,groupId:e})},z=()=>{r(!1),u(!1),f(!1),v(!1),_.current&&(_.current.value="")},F=e=>{const{target:n}=e,{name:r,value:i}=n;"group"===r?t(parseInt(i,10)):"module"===r?(o(i),"everything"===i&&a("json")):"format"===r&&a(i)},D=e=>{confirm((0,m.sprintf)(
// translators: %s is the plugin name
// translators: %s is the plugin name
(0,m.__)("Are you sure you want to import from %s?","redirection"),e.name))&&S.mutate(e.id)};return(0,d.jsxs)("div",{className:"import",children:[(0,d.jsx)("h2",{children:(0,m.__)("Import","redirection")}),(()=>{const t=y({dropzone:!0,"dropzone-dropped":!1!==l,"dropzone-importing":"loading"===T,"dropzone-hover":n});let r;return r="loading"===T?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h3",{children:(0,m.__)("Importing","redirection")}),(0,d.jsx)("p",{children:(0,d.jsx)("code",{children:l&&l.name})}),(0,d.jsx)("div",{className:"is-placeholder",children:(0,d.jsx)("div",{className:"wpl-placeholder__loading"})})]}):"success"===T&&!1!==p&&!1===l?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h3",{children:(0,m.__)("Finished importing","redirection")}),(0,d.jsxs)("p",{children:[(0,m.__)("Total redirects imported:","redirection")," ",p]}),0===p&&(0,d.jsx)("p",{children:(0,m.__)("Double-check the file is the correct format!","redirection")}),(0,d.jsx)("button",{className:"button-secondary",onClick:z,children:(0,m.__)("OK","redirection")})]}):!1===l?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h3",{children:(0,m.__)("Import a CSV, .htaccess, or JSON file.","redirection")}),(0,d.jsx)("p",{children:(0,m.__)("Click 'Add File' or drag and drop here.","redirection")}),(0,d.jsx)("button",{type:"button",className:"button-secondary",onClick:A,children:(0,m.__)("Add File","redirection")})]}):(()=>{const t=l&&"application/json"===l.type;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h3",{children:(0,m.__)("File selected","redirection")}),(0,d.jsx)("p",{children:(0,d.jsx)("code",{children:l&&l.name})}),!t&&(0,d.jsxs)("div",{className:"groups",children:[(0,m.__)("Import to group","redirection")," ",(0,d.jsx)(jd,{items:pp(x),name:"group",value:String(e),onChange:F})]}),(0,d.jsx)("button",{className:"button-primary",onClick:I,children:(0,m.__)("Upload","redirection")})," ","¬†",(0,d.jsx)("button",{className:"button-secondary",onClick:z,children:(0,m.__)("Cancel","redirection")})]})})(),(0,d.jsxs)("div",{className:t,onDragEnter:E,onDragLeave:P,onDragOver:O,onDrop:R,children:[(0,d.jsx)("input",{ref:_,type:"file",style:{display:"none"},onChange:N,accept:".json,.csv,.htaccess"}),r]})})(),(0,d.jsx)("p",{children:(0,m.__)("All imports will be appended to the current database - nothing is merged.","redirection")}),(0,d.jsxs)("div",{className:"inline-notice notice-warning",children:[(0,d.jsx)("p",{children:U((0,m.__)("{{strong}}CSV file format{{/strong}}: {{code}}source URL, target URL{{/code}} - and can be optionally followed with {{code}}regex, http code{{/code}} ({{code}}regex{{/code}} - 0 for no, 1 for yes).","redirection"),{code:(0,d.jsx)("code",{}),strong:(0,d.jsx)("strong",{})})}),(0,d.jsx)("p",{children:(0,m.__)('CSV does not include all information, and everything is imported/exported as "URL only" matches. Use the JSON format for a full set of data.',"redirection")})]}),(0,d.jsx)("h2",{children:(0,m.__)("Export","redirection")}),(0,d.jsx)("p",{children:(0,m.__)("Export to CSV, Apache .htaccess, Nginx, or Redirection JSON. The JSON format contains full information, and other formats contain partial information appropriate to the format.","redirection")}),(0,d.jsxs)("p",{className:"redirect-export_buttons",children:[(0,d.jsxs)("select",{name:"module",onChange:F,value:i,children:[(0,d.jsx)("option",{value:"0",children:(0,m.__)("Everything","redirection")}),(0,d.jsx)("option",{value:"1",children:(0,m.__)("WordPress redirects","redirection")}),(0,d.jsx)("option",{value:"2",children:(0,m.__)("Apache redirects","redirection")}),(0,d.jsx)("option",{value:"3",children:(0,m.__)("Nginx redirects","redirection")})]}),(0,d.jsxs)("select",{name:"format",onChange:F,value:s,children:[(0,d.jsx)("option",{value:"json",children:(0,m.__)("Complete data (JSON)","redirection")}),(0,d.jsx)("option",{value:"csv",children:(0,m.__)("CSV","redirection")}),(0,d.jsx)("option",{value:"apache",children:(0,m.__)("Apache .htaccess","redirection")}),(0,d.jsx)("option",{value:"nginx",children:(0,m.__)("Nginx rewrite rules","redirection")})]}),(0,d.jsx)("button",{className:"button-primary",onClick:()=>{k.mutate({moduleId:i,format:s})},children:(0,m.__)("View","redirection")}),(0,d.jsx)("button",{className:"button-secondary",onClick:()=>{window.location.href=hp(i,s)},children:(0,m.__)("Download","redirection")})]}),"loading"===C&&(0,d.jsx)("div",{className:"loader-wrapper loader-textarea",children:(0,d.jsx)("div",{className:"wpl-placeholder__loading"})}),g&&"loading"!==C&&(M=g,(0,d.jsxs)("div",{children:[(0,d.jsx)("textarea",{className:"module-export",rows:14,readOnly:!0,value:M}),(0,d.jsx)("input",{className:"button-secondary",type:"submit",value:(0,m.__)("Close","redirection"),onClick:z})]})),(0,d.jsx)("h2",{children:(0,m.__)("Export Logs","redirection")}),(0,d.jsx)(jS,{logType:wS,title:(0,m.__)("Export redirect","redirection")}),(0,d.jsx)("br",{}),(0,d.jsx)(jS,{logType:"404",title:(0,m.__)("Export 404","redirection")}),w.length>0&&(L=w,(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{children:(0,m.__)("Plugin Importers","redirection")}),(0,d.jsx)("p",{children:(0,m.__)("The following redirect plugins were detected on your site and can be imported from.","redirection")}),L.map((e,t)=>(0,d.jsx)(SS,{plugin:e,doImport:D},t))]}))]});var L,M},CS=()=>[{value:"name",label:(0,m.__)("Name","redirection")},{value:"module",label:(0,m.__)("Module","redirection")},{value:"status",label:(0,m.__)("Status","redirection")},{value:"redirects",label:(0,m.__)("Redirects","redirection")}],TS=e=>[{label:(0,m.__)("Status","redirection"),value:"status",options:[{label:(0,m.__)("Enabled","redirection"),value:"enabled"},{label:(0,m.__)("Disabled","redirection"),value:"disabled"}]},{label:(0,m.__)("Module","redirection"),value:"module",options:e}];function ES(e){const t=h(),{incrementProgress:n,decrementProgress:r,addNotice:i,addError:o}=cd(),{setGroupsTable:s}=Zx();return dt({mutationFn:async({action:e,items:t,params:i={}})=>{n();try{return await wt(Vt(e,{items:t},i))}catch(e){throw r(),od(e)}},onSuccess:(e,n)=>{r();let o=n.action;"enable"===n.action?o="enabled":"disable"===n.action&&(o="disabled"),i(`Groups ${o}`),s({page:0,selected:[],selectAll:!1}),t.invalidateQueries({queryKey:sd.groups.lists()})},onError:e=>{o(e.message||"Failed to perform group action")},...e})}const PS=[{value:1,label:"WordPress"},{value:2,label:"Apache"},{value:3,label:"Nginx"}];function OS(){return PS}const RS=function(e){const{disabled:t}=e,[n,r]=(0,c.useState)(""),[i,o]=(0,c.useState)(1),{mutate:s}=function(){const e=h(),{incrementProgress:t,decrementProgress:n,addNotice:r,addError:i}=cd();return dt({mutationFn:async e=>{t();try{const t=await wt(zt(e));return sm.parse(t).item}catch(e){throw n(),od(e)}},onSuccess:()=>{n(),r("Group created"),e.invalidateQueries({queryKey:sd.groups.lists()})},onError:e=>{i(e.message||"Failed to create group")}})}();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{children:(0,m.__)("Add Group","redirection")}),(0,d.jsx)("p",{children:(0,m.__)("Use groups to organise your redirects. Groups are assigned to a module, which affects how the redirects in that group work. If you are unsure then stick to the WordPress module.","redirection")}),(0,d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s({name:n,moduleId:i,position:0}),r("")},children:[(0,d.jsx)("table",{className:"form-table redirect-groups",children:(0,d.jsx)("tbody",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:(0,m.__)("Name","redirection")}),(0,d.jsxs)("td",{children:[(0,d.jsx)("input",{size:30,className:"regular-text",type:"text",name:"name",value:n,onChange:e=>r(e.target.value),disabled:t}),(0,d.jsx)(jd,{name:"group",value:String(i),onChange:e=>o(parseInt(e.target.value,10)),items:OS().map(e=>({label:e.label,value:String(e.value)})),disabled:t}),"¬†",(0,d.jsx)("input",{className:"button-primary",type:"submit",name:"add",value:"Add",disabled:t||""===n})]})]})})}),2===i&&(0,d.jsx)("p",{children:(0,m.__)("Note that you will need to set the Apache module path in your Redirection options.","redirection")})]})]})},NS=function(e){const{disabled:t,rowParams:n,row:r}=e,{mutate:i}=ES(),{setRowMode:o,rowMode:s}=n,{id:a,enabled:c}=r,l=[];return"edit"===s?null:(Ew(Nw)&&l.push((0,d.jsx)(zw,{onClick:()=>o("edit"!==s&&"edit"),children:(0,m.__)("Edit","redirection")},"0")),Ew("redirection_cap_group_delete")&&l.push((0,d.jsx)(zw,{onClick:()=>{window.confirm((0,m.__)("Are you sure you want to delete this item?","redirection"))&&i({action:"delete",items:[a]})},children:(0,m.__)("Delete","redirection")},"1")),Ew(Ow)&&l.push((0,d.jsx)(zw,{href:Redirectioni10n.pluginRoot+"&"+encodeURIComponent("filterby[group]")+"="+a,children:(0,m.__)("View Redirects","redirection")},"2")),Ew(Nw)&&(c?l.push((0,d.jsx)(zw,{onClick:()=>i({action:"disable",items:[a]}),children:(0,m.__)("Disable","redirection")},"3")):l.push((0,d.jsx)(zw,{onClick:()=>i({action:"enable",items:[a]}),children:(0,m.__)("Enable","redirection")},"3"))),(0,d.jsx)(Iw,{disabled:t,actions:l}))},AS=function({row:e}){const{enabled:t}=e;return t?(0,d.jsx)("div",{className:"redirect-status redirect-status__enabled",children:"‚úì"}):(0,d.jsx)("div",{className:"redirect-status redirect-status__disabled",children:"√ó"})},IS=function({row:e,filters:t}){const{enabled:n,name:r}=e;return n?(0,d.jsx)(Kw(),{searchWords:[t.name],textToHighlight:r,autoEscape:!0}):(0,d.jsx)("s",{children:r})},zS=function({row:e}){const{module_id:t}=e,n=function(e){const t=PS.find(t=>t.value===e);return t?t.label:"WordPress"}(t),{setGroupsTable:r}=Zx();return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(Lf,{onClick:()=>r({filterBy:{module:String(t)},page:0}),title:(0,m.sprintf)(
// translators: %(type)s is the module type name
// translators: %(type)s is the module type name
(0,m.__)("Filter on: %(type)s","redirection"),{type:n}),children:n})})},FS=function(e){const{group:t,onCancel:n}=e,[r,i]=(0,c.useState)(t.name),[o,s]=(0,c.useState)(t.module_id),{mutate:a}=function(){const e=h(),{incrementProgress:t,decrementProgress:n,addNotice:r,addError:i}=cd();return dt({mutationFn:async e=>{t();try{const{id:t,...n}=e,r=await wt(It(t,n));return sm.parse(r).item}catch(e){throw n(),od(e)}},onSuccess:t=>{n(),r("Group saved"),e.invalidateQueries({queryKey:sd.groups.lists()}),e.invalidateQueries({queryKey:sd.groups.detail(t.id)})},onError:e=>{i(e.message||"Failed to update group")}})}();return(0,d.jsx)("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),n(),a({id:t.id,name:r,moduleId:o})},children:(0,d.jsx)("table",{className:"edit-groups",children:(0,d.jsxs)("tbody",{children:[(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:(0,m.__)("Name","redirection")}),(0,d.jsx)("td",{children:(0,d.jsx)("input",{type:"text",className:"regular-text",name:"name",value:r,onChange:e=>i(e.target.value)})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:(0,m.__)("Module","redirection")}),(0,d.jsx)("td",{children:(0,d.jsx)(jd,{name:"module_id",value:String(o),onChange:e=>s(parseInt(e.target.value,10)),items:OS().map(e=>({label:e.label,value:String(e.value)}))})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{}),(0,d.jsxs)("td",{children:[(0,d.jsxs)("div",{className:"table-actions",children:[(0,d.jsx)("input",{className:"button-primary",type:"submit",name:"save",value:(0,m.__)("Save","redirection")}),"¬†",(0,d.jsx)("input",{className:"button-secondary",type:"button",name:"cancel",value:(0,m.__)("Cancel","redirection"),onClick:n})]}),2===o&&(0,d.jsxs)("p",{children:[(0,d.jsx)("br",{}),(0,m.__)("Note that you will need to set the Apache module path in your Redirection options.","redirection")]})]})]})]})})})};function DS(e){return e.includes("name")?e:e.concat(["name"])}const LS=function(){const e=Zx(e=>e.groups),{setGroupsTable:t,setGroupsSelected:n}=Zx();Qx({table:e,setTable:t,allowedOrder:["name","id"],allowedFilters:["name","status","module"],defaultOrder:"name",pageName:"groups"});const r=ES(),{data:i,isLoading:o}=lm(e),s=i?.items??[],a=i?.total??0,c=o?"loading":"complete",l={displayFilters:CS(),displayGroups:[{value:"standard",label:(0,m.__)("Standard Display","redirection"),grouping:["name","module","redirects"]},{value:"minimal",label:(0,m.__)("Compact Display","redirection"),grouping:["name"]},{value:"all",label:(0,m.__)("Display All","redirection"),grouping:CS().map(e=>e.value)}],searchOptions:[{name:"name",title:(0,m.__)("Search","redirection")}],groupBy:[],bulk:[{id:"delete",name:(0,m.__)("Delete","redirection")},{id:"enable",name:(0,m.__)("Enable","redirection")},{id:"disable",name:(0,m.__)("Disable","redirection")}],rowFilters:TS(OS().map(e=>({label:e.label,value:`${e.value}`}))),headers:[{name:"status",title:(0,m.__)("Status","redirection"),sortable:!1},{name:"name",title:(0,m.__)("Name","redirection"),primary:!0},{name:"redirects",title:(0,m.__)("Redirects","redirection"),sortable:!1},{name:"module",title:(0,m.__)("Module","redirection"),sortable:!1}].filter(t=>function(e,t){return t.displaySelected?.includes(e)??!1}(t.name,e)),validateDisplay:DS},u={onChangePage:e=>{t({page:e,selected:[],selectAll:!1})},onBulk:t=>{if(0===e.selected.length&&!e.selectAll)return;if("delete"===t){const t=e.selectAll?(0,m.__)("Are you sure you want to delete all items?","redirection"):(0,m.__)("Are you sure you want to delete the selected items?","redirection");if(!window.confirm(t))return}const n=e.selected;if(e.selectAll){const n={global:!0,...e.filterBy};r.mutate({action:t,items:[],params:n})}else r.mutate({action:t,items:n})},onSelect:r=>{const i=e.selected;"boolean"==typeof r?n(r?s.map(e=>e.id):[]):Array.isArray(r)?n(r):i.includes(r)?t({selected:i.filter(e=>e!==r),selectAll:!1}):t({selected:[...i,r],selectAll:!1})},onSetOrder:(e,n)=>{t({orderby:e,direction:n})},onFilter:e=>{t({filterBy:e,page:0,selected:[],selectAll:!1})},onSetDisplay:(e,n)=>{t({displayType:e,displaySelected:n})},onSetAll:e=>{t({selected:e?s.map(e=>e.id):[],selectAll:e})},onGroup:e=>{t({groupBy:e,page:0,selected:[],selectAll:!1})}},p={page:e.page,perPage:e.per_page,orderBy:e.orderby,direction:e.direction,selected:e.selected,selectAll:e.selectAll??!1,filter:"",filterBy:e.filterBy??{},displayType:e.displayType??"standard",displaySelected:e.displaySelected??[],groupBy:e.groupBy??""};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Tw,{logOptions:l,logActions:u,table:p,status:c,total:a,rows:s,saving:[],getRow:(e,t)=>function(e,t){const{redirects:n}=e,{rowMode:r,setRowMode:i}=t;return[{name:"status",content:(0,d.jsx)(AS,{row:e})},{name:"name",content:"edit"===r?(0,d.jsx)(FS,{group:e,onCancel:()=>i(!1)}):(0,d.jsx)(IS,{row:e,filters:t.table.filterBy})},{name:"redirects",content:new Intl.NumberFormat(window.Redirectioni10n.locale).format(n)},{name:"module",content:(0,d.jsx)(zS,{row:e})}]}(e,t),getRowActions:(e,t)=>(0,d.jsx)(NS,{disabled:!1,row:e,rowParams:t})}),Ew(Nw)&&(0,d.jsx)(RS,{disabled:!1})]})},MS=()=>[{value:"source",label:(0,m.__)("Source","redirection")},{value:"flags",label:(0,m.__)("URL options","redirection")},{value:"query",label:(0,m.__)("Query Parameters","redirection")},{value:"title",label:(0,m.__)("Title","redirection")},{value:"target",label:(0,m.__)("Target","redirection")},{value:"code",label:(0,m.__)("HTTP code","redirection")},{value:"match_type",label:(0,m.__)("Match Type","redirection")},{value:"position",label:(0,m.__)("Position","redirection")},{value:"last_count",label:(0,m.__)("Hits","redirection")},{value:"last_access",label:(0,m.__)("Last Access","redirection")},{value:"status",label:(0,m.__)("Status","redirection")},{value:"action_type",label:(0,m.__)("Action Type","redirection")},{value:"group",label:(0,m.__)("Group","redirection")}],$S=function(e){const{addTop:t}=e,n=y({"add-new":!0,edit:!0,addTop:t});return(0,d.jsxs)(d.Fragment,{children:[!t&&Ew(Rw)&&(0,d.jsx)("h2",{children:(0,m.__)("Add new redirection","redirection")}),(0,d.jsx)("div",{className:n,children:(0,d.jsx)(gS,{item:bj("",0,e.defaultFlags),saveButton:(0,m.__)("Add Redirect","redirection"),autoFocus:!!t})})]})},US=function(e){const{disabled:t,rowParams:n,row:r}=e,{mutate:i}=fS(),{mutate:o}=mS("disable"),{mutate:s}=mS("enable"),{setRowMode:a,rowMode:c}=n,{id:l,enabled:u,regex:p,action_type:h,match_type:f}=r,g=[];return"edit"===c?null:(u&&Ew(Rw)&&g.push((0,d.jsx)(zw,{onClick:()=>a("edit"),children:(0,m.__)("Edit","redirection")},"1")),Ew("redirection_cap_redirect_delete")&&g.push((0,d.jsx)(zw,{onClick:()=>{window.confirm((0,m.__)("Are you sure you want to delete this item?","redirection"))&&i({items:[l]})},children:(0,m.__)("Delete","redirection")},"2")),Ew(Rw)&&(u?g.push((0,d.jsx)(zw,{onClick:()=>o({items:[l]}),children:(0,m.__)("Disable","redirection")},"3")):g.push((0,d.jsx)(zw,{onClick:()=>s({items:[l]}),children:(0,m.__)("Enable","redirection")},"4"))),!u||p||"url"!==h||"url"!==f&&"server"!==f||g.push((0,d.jsx)(zw,{onClick:()=>a("check"),children:(0,m.__)("Check Redirect","redirection")},"5")),(0,d.jsx)(Iw,{disabled:t,actions:g}))},BS=function({row:e}){const{enabled:t}=e;return t?(0,d.jsx)("div",{className:"redirect-status redirect-status__enabled",children:"‚úì"}):(0,d.jsx)("div",{className:"redirect-status redirect-status__disabled",children:"√ó"})},ZS=(e,t)=>e.includes(t);function qS(e,t,n){return n===fj?e.server+t:t}function HS(e,t){const{match_type:n,regex:r,action_data:i,url:o}=e;return r?t:(0,d.jsx)(z,{url:qS(i,o,n),children:t})}function WS(e,t){return t?e:(0,d.jsx)("s",{children:e})}const GS=function(e){const{displaySelected:t,row:n,filters:r}=e,{match_type:i,url:o,title:s,action_data:a,enabled:c}=n,l=(0,d.jsx)(Kw(),{searchWords:[r.url||""],textToHighlight:qS(a,o,i),autoEscape:!0}),u=(0,d.jsx)(Kw(),{searchWords:[r.title||""],textToHighlight:s,autoEscape:!0});return ZS(t,"title")&&!ZS(t,"source")?(0,d.jsx)("p",{children:HS(n,WS(s?u:l,c))}):(0,d.jsxs)(d.Fragment,{children:[ZS(t,"title")&&s&&(0,d.jsx)("p",{children:HS(n,WS(u,c))}),ZS(t,"source")&&l&&(0,d.jsx)("p",{children:HS(n,WS(l,c))})]})},VS=function(e){const{row:t,filters:n}=e,{match_type:r,action_data:i}=t;return r===sj&&i?(0,d.jsx)("span",{className:"target",children:(0,d.jsx)(Kw(),{searchWords:[n.target??""],textToHighlight:i.url??"",autoEscape:!0})}):null},QS=function({name:e,className:t}){return(0,d.jsx)(Lf,{className:y("redirect-source__flag",t),children:e})},KS=function(e){const{row:t,defaultFlags:n}=e,{match_data:{source:r}}=t;return(0,d.jsx)(d.Fragment,{children:Object.keys(r).filter(e=>n[e]!==r[e]&&"flag_query"!==e).map(e=>{const t=Cj().find(t=>t.value===e);return(0,d.jsx)(QS,{name:t?.label||"",className:"redirect-source__"+e},e)})})},JS=function(e){const{defaultFlags:t,row:n}=e,{match_data:{source:r}}=n;if(t.flag_query!==r.flag_query){let e;return e="ignore"===r.flag_query?(0,m.__)("Ignore Query","redirection"):"pass"===r.flag_query?(0,m.__)("Ignore & Pass Query","redirection"):(0,m.__)("Exact Query","redirection"),(0,d.jsx)(QS,{name:e})}return null},YS=function(e){const{row:t,table:n,defaultFlags:r}=e,{displaySelected:i}=n;return(0,d.jsxs)("div",{className:"redirect-column-wrap",children:[(0,d.jsxs)("div",{className:"redirect-source__details",children:[(0,d.jsx)(GS,{row:t,displaySelected:i,filters:n.filterBy}),ZS(i,"target")&&(0,d.jsx)(VS,{row:t,filters:n.filterBy})]}),(0,d.jsxs)("div",{className:"redirect-source__flags",children:[ZS(i,"flags")&&(0,d.jsx)(KS,{row:t,defaultFlags:r}),ZS(i,"query")&&(0,d.jsx)(JS,{row:t,defaultFlags:r})]})]})},XS=function(e){const{action_code:t,action_type:n}=e;return n===ij?(0,m.__)("pass","redirection"):n===oj?"-":t},ek=function(e){const{row:t,group:n}=e,r=n.rows.find(e=>e.id===t.group_id);return r?(0,d.jsxs)("div",{className:"redirect-column-wrap",children:[r.name," ",(0,d.jsx)(Lf,{children:r.moduleName})]}):null};function tk(e,t){const n=t.find(t=>t.value===e);return n?n.label:"-"}function nk({url:e,desiredCode:t=0,desiredTarget:n=null}){return(0,d.jsx)(Em,{url:e,desiredCode:t,desiredTarget:n})}function rk(e){let t=encodeURIComponent(e).replace(/%2F/gi,"/");return t=t.replace(/%3F/gi,"?"),t=t.replace(/%3D/gi,"="),t=t.replace(/%26/gi,"&"),t}function ik(e){return e.includes("source")?e:e.concat(["source"])}function ok(e){return e.includes("title")||e.includes("source")?ik(e):ik(e.concat(["title"]))}function sk(e){return[{value:"0",label:(0,m.__)("All groups","redirection")}].concat(pp(e))}const ak=function(){const e=Zx(e=>e.redirects),t=Zx(e=>e.redirectsAddTop),{setRedirectsTable:n,setRedirectsSelected:r}=Zx(),i=de(e=>e.values);Qx({table:e,setTable:n,allowedOrder:["id","url","last_access","last_count","position"],allowedFilters:["url","url-exact","target","title","group","status","match","action"],defaultOrder:"id",pageName:"redirect"});const{data:o,isSuccess:s}=lm({}),a=o?.items??[],c=fS(),l=mS("enable"),u=mS("disable"),p=mS("reset"),{data:h,isLoading:f,isSuccess:g}=function(e={},t){const n=cm(e);return ct({queryKey:sd.redirects.list(n),queryFn:async()=>{try{const e=await wt(Pt(n));return rm.parse(e)}catch(e){throw od(e)}},...t})}(e),y=h?.items??[],v=h?.total??0;let _=Kx;f?_=Jx:g&&(_=Yx);const b={flag_query:i?.flag_query??"ignore",flag_case:i?.flag_case??!1,flag_trailing:i?.flag_trailing??!1,flag_regex:i?.flag_regex??!1},x=_===Yx&&s&&Ew(Rw),w=e=>{n({filterBy:e,page:0,selected:[],selectAll:!1})},j={displayFilters:MS(),displayGroups:[{value:"standard",label:(0,m.__)("Standard Display","redirection"),grouping:["last_count","last_access","source","target","code","title"]},{value:"minimal",label:(0,m.__)("Compact Display","redirection"),grouping:["source","last_count","last_access","target"]},{value:"all",label:(0,m.__)("Display All","redirection"),grouping:MS().map(e=>e.value)}],searchOptions:[{name:"url",title:(0,m.__)("Search URL","redirection")},{name:"target",title:(0,m.__)("Search target URL","redirection")},{name:"title",title:(0,m.__)("Search title","redirection")}],groupBy:sk(a),bulk:[{id:"delete",name:(0,m.__)("Delete","redirection")},{id:"enable",name:(0,m.__)("Enable","redirection")},{id:"disable",name:(0,m.__)("Disable","redirection")},{id:"reset",name:(0,m.__)("Reset hits","redirection")}],rowFilters:[{label:(0,m.__)("Status","redirection"),value:"status",options:[{label:(0,m.__)("Enabled","redirection"),value:"enabled"},{label:(0,m.__)("Disabled","redirection"),value:"disabled"}]},{label:(0,m.__)("URL match","redirection"),value:"url-match",options:[{label:(0,m.__)("Regular Expression","redirection"),value:"regular"},{label:(0,m.__)("Plain","redirection"),value:"plain"}]},{label:(0,m.__)("Match Type","redirection"),value:"match",options:xj()},{label:(0,m.__)("Action Type","redirection"),value:"action",options:wj()},{label:(0,m.__)("HTTP Status Code","redirection"),value:"http",options:kj()},{label:(0,m.__)("Last Accessed","redirection"),value:"access",options:[{label:(0,m.__)("Never accessed","redirection"),value:"never"},{label:(0,m.__)("Not accessed in last month","redirection"),value:"month"},{label:(0,m.__)("Not accessed in last year","redirection"),value:"year"}]}],headers:[{name:"status",title:(0,m.__)("Status","redirection"),sortable:!1},{name:"source",title:(0,m.__)("URL","redirection"),primary:!0},{name:"match_type",title:(0,m.__)("Match Type","redirection"),sortable:!1},{name:"action_type",title:(0,m.__)("Action Type","redirection"),sortable:!1},{name:"code",title:(0,m.__)("Code","redirection"),sortable:!1},{name:"group",title:(0,m.__)("Group","redirection"),sortable:!1},{name:"position",title:(0,m.__)("Pos","redirection")},{name:"last_count",title:(0,m.__)("Hits","redirection"),sortable:!0},{name:"last_access",title:(0,m.__)("Last Access","redirection")}].filter(t=>function(e,t){return t.displaySelected.includes(e)}(t.name,e)),validateDisplay:ok},S={onChangePage:e=>{n({page:e,selected:[],selectAll:!1})},onBulk:t=>{const n=e.selected;if(0!==n.length||e.selectAll){if("delete"===t){const t=e.selectAll?(0,m.__)("Are you sure you want to delete all items?","redirection"):(0,m.__)("Are you sure you want to delete the selected items?","redirection");if(!window.confirm(t))return}if(e.selectAll){const n={global:!0,...e.filterBy};"delete"===t&&c.mutate({items:[],params:n})}else switch(t){case"delete":c.mutate({items:n});break;case"enable":l.mutate({items:n});break;case"disable":u.mutate({items:n});break;case"reset":p.mutate({items:n})}}},onSelect:t=>{if("boolean"==typeof t)r(t?y.map(e=>e.id):[]);else if("number"==typeof t||"string"==typeof t){const r=e.selected.includes(t)?e.selected.filter(e=>e!==t):[...e.selected,t];n({selected:r,selectAll:!1})}else r(t)},onSetOrder:(e,t)=>{n({orderby:e,direction:t})},onFilter:t=>{w({...t,...e.filterBy?.group?{group:String(e.filterBy.group)}:{}})},onSetDisplay:(e,t)=>{n({displayType:e,displaySelected:t})},onSetAll:e=>{n({selected:e?y.map(e=>e.id):[],selectAll:e})},onGroup:t=>{w(parseInt(t,10)>0?{...e.filterBy||{},group:t}:{})}},k={page:e.page,perPage:e.per_page,orderBy:e.orderby,direction:e.direction,selected:e.selected,selectAll:e.selectAll??!1,filter:"",filterBy:e.filterBy??{},displayType:e.displayType??"standard",displaySelected:e.displaySelected??[],groupBy:String(e.filterBy?.group??"0")};return(0,d.jsxs)("div",{className:"redirects",children:[t&&Ew(Rw)&&(0,d.jsx)($S,{defaultFlags:b,addTop:!0}),(0,d.jsx)(Tw,{logOptions:j,logActions:S,table:k,status:_,total:v,rows:y,saving:[],getRow:(e,t)=>function(e,t,n,r,i){const{last_access:o,hits:s,position:a,match_type:c,action_type:l,action_code:u,action_data:p}=e,{rowMode:h,setRowMode:f}=t;return"edit"===h?(0,d.jsx)(gS,{item:e,onCancel:()=>f(!1)}):[{name:"status",content:(0,d.jsx)(BS,{row:e})},{name:"source",content:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(YS,{row:e,table:t.table,defaultFlags:r}),"check"===h&&(0,d.jsx)(ym,{onClose:()=>f(null),children:(0,d.jsx)(nk,{url:dp((m=e,"server"===m.match_type?m.action_data.server??"":document.location.origin),rk(e.url)),desiredCode:u,desiredTarget:p})})]}),alwaysDisplay:!0},{name:"match_type",content:tk(c,xj())},{name:"action_type",content:tk(l,wj())},{name:"code",content:XS(e)},{name:"group",content:(0,d.jsx)(ek,{row:e,group:i})},{name:"position",content:new Intl.NumberFormat(window.Redirectioni10n.locale).format(a)},{name:"last_count",content:new Intl.NumberFormat(window.Redirectioni10n.locale).format(s)},{name:"last_access",content:o}];var m}(e,t,0,b,{rows:a}),getRowActions:(e,t)=>(0,d.jsx)(US,{disabled:!1,row:e,rowParams:t})}),x&&!t&&(0,d.jsx)($S,{defaultFlags:b,addTop:!1})]})},ck=function({page:e}){switch(e){case"support":return(0,d.jsx)(zm,{});case"404s":return(0,d.jsx)(xS,{});case"log":return(0,d.jsx)(ej,{});case"io":return(0,d.jsx)(kS,{});case"groups":return(0,d.jsx)(LS,{});case"options":return(0,d.jsx)(_m,{});case"site":return(0,d.jsx)(Nx,{})}return(0,d.jsx)(ak,{})},lk=function(){return(0,d.jsxs)(Q,{errors:"",details:J().concat(["Buster: 5.7.2 === "+Redirectioni10n.version]),type:"fixed",title:(0,m.__)("Cached Redirection detected","redirection"),links:K(),locale:"redirection",children:[(0,d.jsx)("p",{children:(0,m.__)("Please clear your browser cache and reload this page.","redirection")}),(0,d.jsxs)("p",{children:[(0,m.__)("If you are using a caching system such as Cloudflare then please read this:","redirection"),(0,d.jsx)(z,{url:"https://redirection.me/support/problems/cloudflare/",children:(0,m.__)("clearing your cache.","redirection")})]})]})},uk=function(){const{update_notice:e=!1}=window.Redirectioni10n,{mutate:t}=Pd();return e&&Ew("redirection_cap_option_manage")?(0,d.jsx)(Hf,{children:(0,d.jsxs)("p",{children:[U((0,m.sprintf)(
// translators: %s is the version number
// translators: %s is the version number
(0,m.__)("Version %s installed! Please read the {{url}}release notes{{/url}} for details.","redirection"),e),{url:(0,d.jsx)(z,{url:"https://redirection.me/blog/redirection-version-"+e.replace(".","-")+"/"})}),"¬†",(0,d.jsx)(Mp,{onClick:function(){t({update_notice:window.Redirectioni10n.update_notice}),window.Redirectioni10n.update_notice=!1},children:(0,m.__)("OK","redirection")})]})}):null},dk=Redirectioni10n?.caps?.pages||[];function pk(){const e=cd(e=>e.errors),t=cd(e=>e.notices),{clearErrors:n,clearNotices:r}=cd(),i=de(e=>e.database.status),o=de(e=>e.showDatabase),s=de(e=>e.database.inProgress),a=de(e=>e.values?.plugin_update??""),{setShowDatabase:l,setApi:u}=de(),{setErrorsTable:p,setLogsTable:h,setRedirectsTable:f,setRedirectsAddTop:g,setGroupsTable:y}=Zx(),[v,_]=(0,c.useState)(Np(dk));(0,c.useEffect)(()=>{if(window.Redirectioni10n?.api?.routes&&u({routes:window.Redirectioni10n.api.routes,current:window.Redirectioni10n.api.current??""}),window.Redirectioni10n?.settings&&!de.getState().values){const{setValues:e,setLoadStatus:t}=de.getState();e(window.Redirectioni10n.settings),t("success")}if(window.Redirectioni10n?.database){const{setDatabase:e}=de.getState();e(window.Redirectioni10n.database)}},[u]);const b=(0,c.useCallback)(e=>{_(e)},[]),x=(0,c.useCallback)(()=>{n()},[n]),w=(0,c.useMemo)(()=>[{name:(0,m.__)("Redirects","redirection"),value:""},{name:(0,m.__)("Groups","redirection"),value:"groups"},{name:(0,m.__)("Site","redirection"),value:"site"},{name:(0,m.__)("Log","redirection"),value:"log"},{name:(0,m.__)("404s","redirection"),value:"404s"},{name:(0,m.__)("Import/Export","redirection"),value:"io"},{name:(0,m.__)("Options","redirection"),value:"options"},{name:(0,m.__)("Support","redirection"),value:"support"}].filter(e=>Pw(e.value)||""===e.value&&Pw("redirect")),[]),j=(0,c.useMemo)(()=>({redirect:(0,m.__)("Redirections","redirection"),site:(0,m.__)("Site","redirection"),groups:(0,m.__)("Groups","redirection"),io:(0,m.__)("Import/Export","redirection"),log:(0,m.__)("Logs","redirection"),"404s":(0,m.__)("404 errors","redirection"),options:(0,m.__)("Options","redirection"),support:(0,m.__)("Support","redirection")}),[]),S=(0,c.useCallback)(e=>{b(""===e?"redirect":e),"404s"===e?p({orderby:"",direction:"desc",page:0,perPage:25,selected:[],filter:"",filterBy:"",groupBy:""}):"log"===e?h({orderby:"",direction:"desc",page:0,perPage:25,selected:[],filter:"",filterBy:"",groupBy:""}):""===e?f({orderby:"id",direction:"desc",page:0,perPage:25,selected:[],filter:"",filterBy:"",groupBy:""}):"groups"===e&&y({orderby:"name",direction:"asc",page:0,perPage:25,selected:[],filter:"",filterBy:"",groupBy:""})},[b,p,h,f,y]);if("5.7.2"!==Redirectioni10n.version)return(0,d.jsx)(lk,{});if("need-install"===i||"finish-install"===i)return(0,d.jsx)(wp,{renderCrash:Dp,extra:{page:v},children:(0,d.jsx)(lp,{})});const k="prompt"===a&&("need-update"===i||"finish-update"===i);return(0,d.jsx)(wp,{renderCrash:Dp,extra:{page:v},children:(0,d.jsxs)("div",{className:"wrap redirection notranslate",translate:"no",children:[k&&(0,d.jsx)(bp,{onShowUpgrade:()=>l(!0),showDatabase:o}),!s&&"finish-update"!==i&&!o&&(0,d.jsxs)(Ap,{page:v,setPage:b,onPageChange:x,allowedPages:dk,baseUrl:"?page=redirection.php",defaultPage:"redirect",children:[(0,d.jsx)("h1",{className:"wp-heading-inline",children:j[v]}),"redirect"===v&&Ew(Rw)&&(0,d.jsx)("button",{type:"button",onClick:()=>g(!0),className:"page-title-action",children:(0,m.__)("Add New","redirection")}),(0,d.jsx)(uk,{}),(0,d.jsx)(kp,{onChangePage:S,currentPage:v,menu:w,home:"redirect",urlBase:Redirectioni10n.pluginRoot}),(0,d.jsx)(Q,{errors:e,onClear:()=>n(),renderDebug:pe,details:J(),links:K(),locale:"redirection",children:(0,d.jsx)(Ip,{})}),(0,d.jsx)(ck,{page:v}),(0,d.jsx)(Ep,{notices:t,onClear:()=>r(),snackBarViewText:(0,m.__)("View notice","redirection")})]})]})})}var hk=class extends fe{constructor(e={}){super(),this.config=e,this.#Z=new Map}#Z;build(e,t,n){const r=t.queryKey,i=t.queryHash??ke(r,t);let o=this.get(i);return o||(o=new Ke({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){this.#Z.has(e.queryHash)||(this.#Z.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#Z.get(e.queryHash);t&&(e.destroy(),t===e&&this.#Z.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Be.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#Z.get(e)}getAll(){return[...this.#Z.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(e=>je(t,e))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>je(e,t)):t}notify(e){Be.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Be.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Be.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},fk=class extends fe{constructor(e={}){super(),this.config=e,this.#q=new Set,this.#H=new Map,this.#W=0}#q;#H;#W;build(e,t,n){const r=new lt({client:e,mutationCache:this,mutationId:++this.#W,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#q.add(e);const t=mk(e);if("string"==typeof t){const n=this.#H.get(t);n?n.push(e):this.#H.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#q.delete(e)){const t=mk(e);if("string"==typeof t){const n=this.#H.get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&this.#H.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=mk(e);if("string"==typeof t){const n=this.#H.get(t),r=n?.find(e=>"pending"===e.state.status);return!r||r===e}return!0}runNext(e){const t=mk(e);if("string"==typeof t){const n=this.#H.get(t)?.find(t=>t!==e&&t.state.isPaused);return n?.continue()??Promise.resolve()}return Promise.resolve()}clear(){Be.batch(()=>{this.#q.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#q.clear(),this.#H.clear()})}getAll(){return Array.from(this.#q)}find(e){const t={exact:!0,...e};return this.getAll().find(e=>Se(t,e))}findAll(e={}){return this.getAll().filter(t=>Se(e,t))}notify(e){Be.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return Be.batch(()=>Promise.all(e.map(e=>e.continue().catch(ve))))}};function mk(e){return e.options.scope?.id}function gk(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],s=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let n=!1;const l=e=>{!function(e,n,r){let i,o=!1;Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??=t.signal,o||(o=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)})}(e,0,()=>n=!0)},u=Le(t.options,t.fetchOptions),d=async(e,r,i)=>{if(n)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);const o=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:r,direction:i?"backward":"forward",meta:t.options.meta};return l(e),e})(),s=await u(o),{maxPages:a}=t.options,c=i?Fe:ze;return{pages:c(e.pages,s,a),pageParams:c(e.pageParams,r,a)}};if(i&&o.length){const e="backward"===i,t={pages:o,pageParams:s},n=(e?vk:yk)(r,t);a=await d(t,n,e)}else{const t=e??o.length;do{const e=0===c?s[0]??r.initialPageParam:yk(r,a);if(c>0&&null==e)break;a=await d(a,e),c++}while(c<t)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(l,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=l}}}function yk(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function vk(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}const _k=new class{#G;#M;#p;#V;#Q;#K;#J;#Y;constructor(e={}){this.#G=e.queryCache||new hk,this.#M=e.mutationCache||new fk,this.#p=e.defaultOptions||{},this.#V=new Map,this.#Q=new Map,this.#K=0}mount(){this.#K++,1===this.#K&&(this.#J=$e.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#G.onFocus())}),this.#Y=Ze.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#G.onOnline())}))}unmount(){this.#K--,0===this.#K&&(this.#J?.(),this.#J=void 0,this.#Y?.(),this.#Y=void 0)}isFetching(e){return this.#G.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#M.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#G.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#G.build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(xe(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#G.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=this.#G.get(r.queryHash),o=i?.state.data,s=function(e,t){return"function"==typeof e?e(t):e}(t,o);if(void 0!==s)return this.#G.build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return Be.batch(()=>this.#G.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#G.get(t.queryHash)?.state}removeQueries(e){const t=this.#G;Be.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const n=this.#G;return Be.batch(()=>(n.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Be.batch(()=>this.#G.findAll(e).map(e=>e.cancel(n)));return Promise.all(r).then(ve).catch(ve)}invalidateQueries(e,t={}){return Be.batch(()=>(this.#G.findAll(e).forEach(e=>{e.invalidate()}),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Be.batch(()=>this.#G.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(ve)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(r).then(ve)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=this.#G.build(this,t);return n.isStaleByTime(xe(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ve).catch(ve)}fetchInfiniteQuery(e){return e.behavior=gk(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ve).catch(ve)}ensureInfiniteQueryData(e){return e.behavior=gk(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ze.isOnline()?this.#M.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#G}getMutationCache(){return this.#M}getDefaultOptions(){return this.#p}setDefaultOptions(e){this.#p=e}setQueryDefaults(e,t){this.#V.set(Ce(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#V.values()],n={};return t.forEach(t=>{Te(e,t.queryKey)&&Object.assign(n,t.defaultOptions)}),n}setMutationDefaults(e,t){this.#Q.set(Ce(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#Q.values()],n={};return t.forEach(t=>{Te(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#p.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ke(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===De&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#p.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#G.clear(),this.#M.clear()}}({defaultOptions:{queries:{staleTime:3e5,retry:!1,refetchOnWindowFocus:!1},mutations:{retry:!1}}});try{new Intl.NumberFormat(window.Redirectioni10n.locale)}catch(e){window.Redirectioni10n.locale="en-US"}function bk(){return(0,d.jsxs)(f,{client:_k,children:[(0,d.jsx)(pk,{}),!1]})}wt.resetMiddlewares(),wt.use(wt.createRootURLMiddleware(window.Redirectioni10n?.api?.WP_API_root??"/wp-json/")),wt.use(wt.createNonceMiddleware(window.Redirectioni10n?.api?.WP_API_nonce??"")),document.querySelector("#react-ui")&&window.Redirectioni10n&&(function(){const e=document.getElementById("react-ui");e&&(0,a.H)(e).render((0,d.jsx)(bk,{}))}(),window.redirection=window.Redirectioni10n.version)},576(e,t,n){"use strict";var r=n(795);t.H=r.createRoot,r.hydrateRoot},465(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(2))&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){var t=e.activeClassName,n=void 0===t?"":t,i=e.activeIndex,c=void 0===i?-1:i,l=e.activeStyle,u=e.autoEscape,d=e.caseSensitive,p=void 0!==d&&d,h=e.className,f=e.findChunks,m=e.highlightClassName,g=void 0===m?"":m,y=e.highlightStyle,v=void 0===y?{}:y,_=e.highlightTag,b=void 0===_?"mark":_,x=e.sanitize,w=e.searchWords,j=e.textToHighlight,S=e.unhighlightTag,k=void 0===S?"span":S,C=e.unhighlightClassName,T=void 0===C?"":C,E=e.unhighlightStyle,P=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["activeClassName","activeIndex","activeStyle","autoEscape","caseSensitive","className","findChunks","highlightClassName","highlightStyle","highlightTag","sanitize","searchWords","textToHighlight","unhighlightTag","unhighlightClassName","unhighlightStyle"]),O=(0,o.findAll)({autoEscape:u,caseSensitive:p,findChunks:f,sanitize:x,searchWords:w,textToHighlight:j}),R=b,N=-1,A="",I=void 0,z=(0,a.default)(function(e){var t={};for(var n in e)t[n.toLowerCase()]=e[n];return t});return(0,s.createElement)("span",r({className:h},P,{children:O.map(function(e,t){var r=j.substr(e.start,e.end-e.start);if(e.highlight){N++;var i;i="object"==typeof g?p?g[r]:(g=z(g))[r.toLowerCase()]:g;var o=N===+c;A=i+" "+(o?n:""),I=!0===o&&null!=l?Object.assign({},v,l):v;var a={children:r,className:A,key:t,style:I};return"string"!=typeof R&&(a.highlightIndex=N),(0,s.createElement)(R,a)}return(0,s.createElement)(k,{children:r,className:T,key:t,style:E})})}))};var i,o=n(3),s=n(4),a=(i=n(5))&&i.__esModule?i:{default:i};e.exports=t.default},function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);Object.defineProperty(t,"combineChunks",{enumerable:!0,get:function(){return r.combineChunks}}),Object.defineProperty(t,"fillInChunks",{enumerable:!0,get:function(){return r.fillInChunks}}),Object.defineProperty(t,"findAll",{enumerable:!0,get:function(){return r.findAll}}),Object.defineProperty(t,"findChunks",{enumerable:!0,get:function(){return r.findChunks}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findAll=function(e){var t=e.autoEscape,o=e.caseSensitive,s=void 0!==o&&o,a=e.findChunks,c=void 0===a?r:a,l=e.sanitize,u=e.searchWords,d=e.textToHighlight;return i({chunksToHighlight:n({chunks:c({autoEscape:t,caseSensitive:s,sanitize:l,searchWords:u,textToHighlight:d})}),totalLength:d?d.length:0})};var n=t.combineChunks=function(e){var t=e.chunks;return t.sort(function(e,t){return e.start-t.start}).reduce(function(e,t){if(0===e.length)return[t];var n=e.pop();if(t.start<=n.end){var r=Math.max(n.end,t.end);e.push({start:n.start,end:r})}else e.push(n,t);return e},[])},r=function(e){var t=e.autoEscape,n=e.caseSensitive,r=e.sanitize,i=void 0===r?o:r,s=e.searchWords,a=e.textToHighlight;return a=i(a),s.filter(function(e){return e}).reduce(function(e,r){r=i(r),t&&(r=r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"));for(var o=new RegExp(r,n?"g":"gi"),s=void 0;s=o.exec(a);){var c=s.index,l=o.lastIndex;l>c&&e.push({start:c,end:l}),s.index==o.lastIndex&&o.lastIndex++}return e},[])};t.findChunks=r;var i=t.fillInChunks=function(e){var t=e.chunksToHighlight,n=e.totalLength,r=[],i=function(e,t,n){t-e>0&&r.push({start:e,end:t,highlight:n})};if(0===t.length)i(0,n,!1);else{var o=0;t.forEach(function(e){i(o,e.start,!1),i(e.start,e.end,!0),o=e.end}),i(o,n,!1)}return r};function o(e){return e}}])},function(e,t){e.exports=n(609)},function(e,t){"use strict";var n=function(e,t){return e===t};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,r=void 0,i=[],o=void 0,s=!1,a=function(e,n){return t(e,i[n])};return function(){for(var t=arguments.length,n=Array(t),c=0;c<t;c++)n[c]=arguments[c];return s&&r===this&&n.length===i.length&&n.every(a)?o:(s=!0,r=this,i=n,o=e.apply(this,n))}}}])},49(e,t,n){"use strict";var r=n(609),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useSyncExternalStore,s=r.useRef,a=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,u){var d=s(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;d=c(function(){function e(e){if(!a){if(a=!0,o=e,e=r(e),void 0!==u&&p.hasValue){var t=p.value;if(u(t,e))return s=t}return s=e}if(t=s,i(o,e))return t;var n=r(e);return void 0!==u&&u(t,n)?(o=e,t):(o=e,s=n)}var o,s,a=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,u]);var h=o(e,d[0],d[1]);return a(function(){p.hasValue=!0,p.value=h},[h]),l(h),h}},721(e,t,n){"use strict";e.exports=n(49)},609(e){"use strict";e.exports=window.React},795(e){"use strict";e.exports=window.ReactDOM},500(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,o(n)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return r[e](n,n.exports,o),n.exports}o.m=r,e=[],o.O=(t,n,r,i)=>{if(!n){var s=1/0;for(u=0;u<e.length;u++){for(var[n,r,i]=e[u],a=!0,c=0;c<n.length;c++)(!1&i||s>=i)&&Object.keys(o.O).every(e=>o.O[e](n[c]))?n.splice(c--,1):(a=!1,i<s&&(s=i));if(a){e.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,r,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var i=Object.create(null);o.r(i);var s={};t=t||[null,n({}),n([]),n(n)];for(var a=2&r&&e;("object"==typeof a||"function"==typeof a)&&!~t.indexOf(a);a=n(a))Object.getOwnPropertyNames(a).forEach(t=>s[t]=()=>e[t]);return s.default=()=>e,o.d(i,s),i},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={57:0,350:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[s,a,c]=n,l=0;if(s.some(t=>0!==e[t])){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);if(c)var u=c(o)}for(t&&t(n);l<s.length;l++)i=s[l],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(u)},n=globalThis.webpackChunkredirection=globalThis.webpackChunkredirection||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var s=o.O(void 0,[350],()=>o(349));s=o.O(s)})();